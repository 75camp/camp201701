!function(I){function g(A){if(C[A])return C[A].exports;var n=C[A]={exports:{},id:A,loaded:!1};return I[A].call(n.exports,n,n.exports,g),n.loaded=!0,n.exports}var C={};return g.m=I,g.c=C,g.p="",g(0)}([function(module,exports,__webpack_require__){eval("'use strict';\n\n__webpack_require__(2);\n\n__webpack_require__(3);\n\nvar _nZepto = __webpack_require__(4);\n\nvar _nZepto2 = _interopRequireDefault(_nZepto);\n\n__webpack_require__(5);\n\n__webpack_require__(6);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n'use strict';\n\n(0, _nZepto2.default)(function () {\n\n    var url = __webpack_require__(1),\n        $img = (0, _nZepto2.default)('#detail img');\n\n    $img.attr('src', url);\n\n    window.addEventListener('touchstart', function (event) {\n        event.preventDefault();\n    }, false);\n\n    var gameBoyPromise = function gameBoyPromise(selector, type) {\n        return new Promise(function (resolve) {\n            return (0, _nZepto2.default)(selector).on(type, resolve);\n        });\n    };\n    //前置动画\n    (function () {\n\n        //插卡\n        gameBoyPromise('#game-card-box', 'swipeDown')\n        //卡向下走\n        .then(function () {\n            return gameBoyPromise((0, _nZepto2.default)('#game-card').addClass('to-bot').selector, 'transitionend');\n        })\n        //插卡提示动画消失\n        .then(function () {\n            return gameBoyPromise((0, _nZepto2.default)('#insert-card').removeClass('flash infinite').addClass('fadeOut').selector, 'webkitAnimationEnd animationend');\n        }).then(function () {\n            //水花蹦出\n            (0, _nZepto2.default)('#water').addClass('to-top');\n            return gameBoyPromise('#water', 'transitionend');\n        })\n        //水花蹦出后足球蹦出\n        .then(function () {\n            return gameBoyPromise((0, _nZepto2.default)('.football').addClass('to-top').selector, 'transitionend');\n        })\n        //然后排球蹦出\n        .then(function () {\n            return gameBoyPromise((0, _nZepto2.default)('.volleyball').addClass('to-top').selector, 'transitionend');\n        })\n        //然后网球蹦出\n        .then(function () {\n            return gameBoyPromise((0, _nZepto2.default)('.tennis').addClass('to-top').selector, 'transitionend');\n        })\n        //哔！！！还有对话线,雪花，屏幕闪烁\n        .then(function () {\n            (0, _nZepto2.default)('#gb-solid').removeClass('solid-flash').addClass('talk-solid-flash');\n            (0, _nZepto2.default)('.text').css('opacity', 1).addClass('pulse');\n            (0, _nZepto2.default)('.gb-player-bg').addClass('fadeOut');\n            (0, _nZepto2.default)('#xuehua').addClass('to-top');\n            (0, _nZepto2.default)('#music-btn').addClass('fadeOut');\n            return gameBoyPromise((0, _nZepto2.default)('#cover-area').addClass('cover-flash').selector, 'webkitAnimationEnd animationend');\n        })\n        //进入标题，小人蹦蹦蹦！！！\n        .then(function () {\n            (0, _nZepto2.default)('#music-btn').hide();\n            (0, _nZepto2.default)('#cover-area').css('zIndex', -20);\n            (0, _nZepto2.default)('#content-gb-wrapper').addClass('fadeIn');\n            (0, _nZepto2.default)('.person').each(function (index, ele) {\n                (0, _nZepto2.default)(ele).addClass('person' + (index + 1));\n            });\n            return gameBoyPromise((0, _nZepto2.default)('.title-h1').addClass('flash').selector, 'webkitAnimationEnd animationend');\n        })\n        //进入操作指示页面\n        .then(function () {\n            (0, _nZepto2.default)('.person').removeClass('animated');\n            (0, _nZepto2.default)('#a-btn').removeClass('default').addClass('active');\n            (0, _nZepto2.default)('.guide').addClass('fadeIn');\n        });\n    })();\n\n    //gbPlayer对象\n    var gameBoyPlayer = function () {\n\n        var $aBtn = (0, _nZepto2.default)('#a-btn'),\n            $bBtn = (0, _nZepto2.default)('#b-btn'),\n            $topBtn = (0, _nZepto2.default)('#top-btn'),\n            $leftBtn = (0, _nZepto2.default)('#left-btn'),\n            $rightBtn = (0, _nZepto2.default)('#right-btn'),\n            $botBtn = (0, _nZepto2.default)('#bot-btn'),\n            $content = (0, _nZepto2.default)('#content'),\n            $aContentDiv = (0, _nZepto2.default)('#content>div[class *= \"page\"]'),\n            $detail = (0, _nZepto2.default)('#detail'),\n            $aSection = (0, _nZepto2.default)('#detail>section'),\n            oldIndex = 0,\n            nowIndex = 0,\n            maxTranslateYArr = [],\n            translateY = 0,\n            screenHeight = (0, _nZepto2.default)('.screen').height(),\n            timer = null,\n            tapSpeed = 50,\n            longTapSpeed = 20;\n\n        //暂时留下---------------------------------------------------------------------------------------------------------------------\n        var $aImg = (0, _nZepto2.default)('img');\n        //封装section，maxTranslateYArr\n\n        var state = 0;\n\n        function testState() {\n            if (state === $aImg.length) {\n                $aSection.each(function (index, ele) {\n                    Transform(ele, true);\n                    maxTranslateYArr.push(-((0, _nZepto2.default)(ele).height() - screenHeight));\n                });\n            }\n        }\n\n        $aImg.on('load', function () {\n            state += 1;\n            testState();\n        });\n        //暂时留下---------------------------------------------------------------------------------------------------------------------\n\n\n        //判断btn是否可点击\n        var judgeBtnCantClick = function () {\n            var judgeBtnClassReg = /default/;\n\n            return function ($ele) {\n                return judgeBtnClassReg.test($ele.attr('class'));\n            };\n        }();\n\n        //更改btn的状态\n        function toggleBtnState(btn) {\n            _nZepto2.default.each(btn, function (index, ele) {\n                if (judgeBtnCantClick((0, _nZepto2.default)(ele))) {\n                    (0, _nZepto2.default)(ele).removeClass('default').addClass('active');\n                } else {\n                    (0, _nZepto2.default)(ele).removeClass('active').addClass('default');\n                }\n            });\n        }\n\n        //判断内容页何时切换leftBtn与rightBtn的状态\n        function judgeContentBtnState(boolean) {\n            //判断leftBtn是否切换为active\n            if (boolean && nowIndex === 1) {\n                toggleBtnState($leftBtn);\n            }\n            if (!boolean && nowIndex === 0) {\n                toggleBtnState($leftBtn);\n            }\n            //判断rightBtn\n            if (boolean && nowIndex === $aContentDiv.length - 1) {\n                toggleBtnState([$rightBtn, $bBtn]);\n            }\n            if (!boolean && nowIndex === $aContentDiv.length - 2) {\n                toggleBtnState([$rightBtn, $bBtn]);\n            }\n        }\n\n        //判断详情页切换topBtn与botBtn的状态\n        function judgeDetailBtnState(boolean) {\n            //botBtn\n            if (boolean) {\n                if ($aSection[nowIndex].translateY <= 0 && judgeBtnCantClick($topBtn)) {\n                    toggleBtnState($topBtn);\n                }\n                if ($aSection[nowIndex].translateY <= maxTranslateYArr[nowIndex] && !judgeBtnCantClick($botBtn)) {\n                    toggleBtnState($botBtn);\n                }\n            }\n            //topBtn\n            else {\n                    if ($aSection[nowIndex].translateY >= 0 && !judgeBtnCantClick($topBtn)) {\n                        toggleBtnState($topBtn);\n                    }\n                    if ($aSection[nowIndex].translateY >= maxTranslateYArr[nowIndex] && judgeBtnCantClick($botBtn)) {\n                        toggleBtnState($botBtn);\n                    }\n                }\n        }\n\n        function animationHandle(isAContentDiv, isAnimationStart, isFadeIn, nowIndex) {\n            //animationstart\n            if (isAnimationStart) {\n                if (isFadeIn) {\n                    if (isAContentDiv) {\n                        nowIndex = nowIndex - 1;\n                        $aContentDiv.eq(nowIndex + 1).children('.page-children').css('opacity', 1);\n                        animationFactory();\n                    }\n                    $aContentDiv.eq(nowIndex).children('.page-children').css('opacity', 0).removeClass('page' + (nowIndex + 1) + '-animation fly');\n                    if (nowIndex === 4) {\n                        (0, _nZepto2.default)('.zoushiming').removeClass('appear');\n                    }\n                } else {\n                    if (isAContentDiv) {\n                        $aContentDiv.eq(nowIndex + 1).children('.page-children').css('opacity', 0).removeClass('page' + (nowIndex + 2) + '-animation');\n\n                        if (nowIndex + 1 === 4) {\n                            (0, _nZepto2.default)('.zoushiming').removeClass('appear');\n                        }\n                        animationFactory();\n                    }\n                    $aContentDiv.eq(nowIndex).children('.page-children').css('opacity', 1);\n                }\n            }\n            //animationend\n            else {\n                    $aContentDiv.eq(nowIndex).children('.page-children').addClass('page' + (nowIndex + 1) + '-animation');\n                    if (!isAContentDiv) {\n                        animationFactory();\n                    }\n                }\n        }\n\n        //修改动画\n        function editAnimation() {\n            //start中移除上一页触发动画的class\n            $aContentDiv.on('webkitAnimationStart animationstart', function (event) {\n                //pageX触发动画开始时\n                if (/page[\\d] /.test((0, _nZepto2.default)(event.target).attr('class'))) {\n                    //通过判断class中是否有fadeIn判断向左或向右\n                    //点击rightBtn隐藏并移除前一页animationClass（不隐藏直接移除很突兀）\n                    if (/fadeIn/.test((0, _nZepto2.default)(event.target).attr('class'))) {\n                        animationHandle(true, true, true, nowIndex);\n                    }\n                    //点击leftBtn隐藏并移除前一页animationClass（不隐藏直接移除很突兀）\n                    else {\n                            animationHandle($aContentDiv, true, false, nowIndex);\n                        }\n                }\n            });\n            //end中为本页添加触发动画的class\n            $aContentDiv.on('webkitAnimationEnd animationend', function (event) {\n                //pageX触发动画结束时\n                if (/page[\\d] /.test((0, _nZepto2.default)(event.target).attr('class'))) {\n                    animationHandle(true, false, null, nowIndex);\n                }\n            });\n\n            $detail.on('webkitAnimationStart animationstart', function (event) {\n                if (/fadeIn/.test((0, _nZepto2.default)(event.target).attr('class'))) {\n                    animationHandle(false, true, true, nowIndex);\n                } else {\n                    animationHandle(false, true, false, nowIndex);\n                }\n            });\n\n            $detail.on('webkitAnimationEnd animationend', function () {\n                if (!/fadeIn/.test((0, _nZepto2.default)(event.target).attr('class'))) {\n                    animationHandle(false, false, null, nowIndex);\n                    //切换屏幕z-index\n                    $detail.css('z-index', 10);\n                    $content.css('z-index', 20);\n                }\n            });\n        }\n\n        editAnimation();\n\n        //链式动画库\n        function animationFactory() {\n            //page1Animation\n            if (nowIndex === 0) {\n                gameBoyPromise('.page1-football', 'webkitAnimationEnd animationend').then(function () {\n                    return (0, _nZepto2.default)('.football-player').removeClass('page1-animation').addClass('fly');\n                });\n            }\n            //page5Animation\n            if (nowIndex === 4) {\n                gameBoyPromise('.sprite-ball', 'webkitAnimationEnd animationend').then(function () {\n                    return (0, _nZepto2.default)('.zoushiming').addClass('appear');\n                });\n            }\n        }\n\n        //切换contentPage\n        function getContentPage(boolean) {\n            //true+一页，false减一页\n            if (boolean) {\n                nowIndex = oldIndex + 1;\n            } else {\n                nowIndex = oldIndex - 1;\n            }\n\n            judgeContentBtnState(boolean);\n\n            //如果是rightBtn，后一页fadeIn进入\n            if (boolean) {\n                $aContentDiv.eq(nowIndex).removeClass('fadeOut').addClass('fadeIn');\n            }\n            //如果是leftBtn，\n            else {\n                    $aContentDiv.eq(oldIndex).removeClass('fadeIn').addClass('fadeOut');\n                }\n\n            oldIndex = nowIndex;\n        }\n\n        //推进toggleBtnArr\n        function pushToggleBtnArr(isAHandle, judgeBtnArr, toggleBtnArr) {\n            _nZepto2.default.each(judgeBtnArr, function (index, $ele) {\n                if (!judgeBtnCantClick($ele)) {\n                    toggleBtnArr.push($ele);\n                }\n            });\n            if (!isAHandle) {\n                if (nowIndex !== 0) {\n                    toggleBtnArr.push($leftBtn);\n                }\n                if (nowIndex !== $aContentDiv.length - 1) {\n                    toggleBtnArr.push($rightBtn);\n                }\n            }\n\n            return toggleBtnArr;\n        }\n\n        return {\n            state: 0, //0-操作指导页面, 1-内容页, 2-详情页\n            timer: timer,\n            controller: {\n                aBtn: $aBtn,\n                bBtn: $bBtn,\n                topBtn: $topBtn,\n                botBtn: $botBtn,\n                leftBtn: $leftBtn,\n                rightBtn: $rightBtn\n            },\n            handle: {\n                aBtnHandle: function aBtnHandle() {\n                    var toggleBtnArr = [$botBtn, $aBtn, $bBtn];\n\n                    if (judgeBtnCantClick($aBtn)) {\n                        return;\n                    }\n                    //第一次从操作指导页面进入详情页\n                    if (this.state === 0) {\n                        this.state++;\n\n                        //切换屏幕z-index\n                        (0, _nZepto2.default)('#nav').css('z-index', 10);\n                        $content.css('z-index', 20);\n\n                        toggleBtnState($rightBtn);\n                        gameBoyPromise($content.addClass('fadeIn').selector, 'webkitAnimationEnd animationend').then(function () {\n                            (0, _nZepto2.default)('.football-player').addClass('page1-animation');\n                            return gameBoyPromise((0, _nZepto2.default)('.page1-football').addClass('page1-animation').selector, 'webkitAnimationEnd animationend');\n                        }).then(function () {\n                            return (0, _nZepto2.default)('.football-player').removeClass('page1-animation').addClass('fly');\n                        });\n                    }\n                    //进入详情页\n                    else if (this.state === 1) {\n\n                            //切换屏幕z-index\n                            $content.css('z-index', 10);\n                            $detail.css('z-index', 20);\n\n                            //分享页点击aBtn刷新\n                            if (nowIndex === $aContentDiv.length - 1) {\n                                window.location = window.location.href + '?' + new Date().getTime();\n                            }\n\n                            this.state++;\n                            $aSection.css('opacity', 0);\n                            $aSection.eq(nowIndex).css('opacity', 1);\n\n                            $detail.removeClass('fadeOut').addClass('fadeIn');\n\n                            //左右按钮class为不为default的加入到切换数组中\n                            pushToggleBtnArr(true, [$leftBtn, $rightBtn], toggleBtnArr);\n\n                            toggleBtnState(toggleBtnArr);\n                        }\n                },\n                bBtnHandle: function bBtnHandle() {\n                    var toggleBtnArr = [$aBtn, $bBtn];\n\n                    if (judgeBtnCantClick($bBtn)) {\n                        return;\n                    }\n\n                    //内容页最后一页分享页，点击B弹层\n                    if (this.state === 1) {\n                        (0, _nZepto2.default)('.area-share').css('z-index', 20);\n                    }\n\n                    if (judgeBtnCantClick($bBtn) || this.state !== 2) {\n                        return;\n                    }\n\n                    $detail.removeClass('fadeIn').addClass('fadeOut');\n\n                    translateY = 0;\n                    $aSection.css('transition', 'none');\n                    $aSection.each(function (index, ele) {\n                        ele.translateY = 0;\n                    });\n\n                    pushToggleBtnArr(false, [$topBtn, $botBtn], toggleBtnArr);\n\n                    toggleBtnState(toggleBtnArr);\n\n                    this.state--;\n                },\n                xDirHandle: function xDirHandle() {\n                    //如果按钮不是可点击状态则返回\n                    if (judgeBtnCantClick((0, _nZepto2.default)(this))) {\n                        return;\n                    }\n                    //判断点击left还是right\n                    if (/right/.test((0, _nZepto2.default)(this).attr('class'))) {\n                        getContentPage(true);\n                    } else {\n                        getContentPage(false);\n                    }\n                },\n                yDirHandle: function yDirHandle(event, clickBotBtn, longTap) {\n                    if (judgeBtnCantClick((0, _nZepto2.default)(event.target))) {\n                        return;\n                    }\n                    //长按\n                    if (longTap) {\n                        $aSection.eq(nowIndex).css('transition', 'none');\n                        this.timer = setInterval(function () {\n                            translateY = $aSection[nowIndex].translateY;\n\n                            this.handle.moveHandle(clickBotBtn, longTapSpeed);\n                        }.bind(this), 30);\n                    }\n                    //点击\n                    else {\n                            $aSection.eq(nowIndex).css('transition', '.3s ease');\n\n                            this.handle.moveHandle(clickBotBtn, tapSpeed);\n                        }\n                },\n                moveHandle: function moveHandle(clickBotBtn, speed) {\n                    if (clickBotBtn) {\n                        translateY -= speed;\n                    } else {\n                        translateY += speed;\n                    }\n\n                    //控制translateY范围\n                    if (translateY >= 0) {\n                        translateY = 0;\n                    } else if (translateY <= maxTranslateYArr[nowIndex]) {\n                        translateY = maxTranslateYArr[nowIndex];\n                    }\n\n                    $aSection[nowIndex].translateY = translateY;\n\n                    judgeDetailBtnState(clickBotBtn);\n                }\n            }\n        };\n    }();\n\n    //aBtn，bBtn点击\n    gameBoyPlayer.controller.aBtn.on('tap', gameBoyPlayer.handle.aBtnHandle.bind(gameBoyPlayer));\n    gameBoyPlayer.controller.bBtn.on('tap', gameBoyPlayer.handle.bBtnHandle.bind(gameBoyPlayer));\n\n    //x方向Btn点击\n    gameBoyPlayer.controller.rightBtn.on('tap', gameBoyPlayer.handle.xDirHandle);\n    gameBoyPlayer.controller.leftBtn.on('tap', gameBoyPlayer.handle.xDirHandle);\n\n    //y方向Btn点击\n    gameBoyPlayer.controller.topBtn.on('tap', function () {\n        return gameBoyPlayer.handle.yDirHandle.bind(gameBoyPlayer)(event, false, false);\n    });\n    gameBoyPlayer.controller.botBtn.on('tap', function () {\n        return gameBoyPlayer.handle.yDirHandle.bind(gameBoyPlayer)(event, true, false);\n    });\n\n    //y方向Btn长按\n    //安卓微信很难用\n    gameBoyPlayer.controller.topBtn.on('longTap', function () {\n        return gameBoyPlayer.handle.yDirHandle.bind(gameBoyPlayer)(event, false, true);\n    });\n    gameBoyPlayer.controller.botBtn.on('longTap', function () {\n        return gameBoyPlayer.handle.yDirHandle.bind(gameBoyPlayer)(event, true, true);\n    });\n    //长按后清除定时器\n    gameBoyPlayer.controller.topBtn.on('touchend', function () {\n        clearInterval(gameBoyPlayer.timer);\n    });\n    gameBoyPlayer.controller.botBtn.on('touchend', function () {\n        clearInterval(gameBoyPlayer.timer);\n    });\n\n    //点击音乐\n    function tapMusic() {\n        var $musicBtn = (0, _nZepto2.default)('#music-btn'),\n            $musicSolid = (0, _nZepto2.default)('.music-solid'),\n            $contentMusicBtn = (0, _nZepto2.default)('.content-music-btn');\n\n        $musicBtn.on('tap', function () {\n            (0, _nZepto2.default)(this).toggleClass('close-music');\n            $musicSolid.toggleClass('animated');\n\n            //关闭音乐\n        });\n\n        $contentMusicBtn.on('tap', function () {\n            (0, _nZepto2.default)(this).toggleClass('close-music');\n\n            //关闭音乐\n        });\n    }\n    tapMusic();\n\n    //\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvanMvbWFpbi5qcz8xZTNlIl0sIm5hbWVzIjpbInVybCIsInJlcXVpcmUiLCIkaW1nIiwiYXR0ciIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZ2FtZUJveVByb21pc2UiLCJzZWxlY3RvciIsInR5cGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9uIiwidGhlbiIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJjc3MiLCJoaWRlIiwiZWFjaCIsImluZGV4IiwiZWxlIiwiZ2FtZUJveVBsYXllciIsIiRhQnRuIiwiJGJCdG4iLCIkdG9wQnRuIiwiJGxlZnRCdG4iLCIkcmlnaHRCdG4iLCIkYm90QnRuIiwiJGNvbnRlbnQiLCIkYUNvbnRlbnREaXYiLCIkZGV0YWlsIiwiJGFTZWN0aW9uIiwib2xkSW5kZXgiLCJub3dJbmRleCIsIm1heFRyYW5zbGF0ZVlBcnIiLCJ0cmFuc2xhdGVZIiwic2NyZWVuSGVpZ2h0IiwiaGVpZ2h0IiwidGltZXIiLCJ0YXBTcGVlZCIsImxvbmdUYXBTcGVlZCIsIiRhSW1nIiwic3RhdGUiLCJ0ZXN0U3RhdGUiLCJsZW5ndGgiLCJUcmFuc2Zvcm0iLCJwdXNoIiwianVkZ2VCdG5DYW50Q2xpY2siLCJqdWRnZUJ0bkNsYXNzUmVnIiwiJGVsZSIsInRlc3QiLCJ0b2dnbGVCdG5TdGF0ZSIsImJ0biIsImp1ZGdlQ29udGVudEJ0blN0YXRlIiwiYm9vbGVhbiIsImp1ZGdlRGV0YWlsQnRuU3RhdGUiLCJhbmltYXRpb25IYW5kbGUiLCJpc0FDb250ZW50RGl2IiwiaXNBbmltYXRpb25TdGFydCIsImlzRmFkZUluIiwiZXEiLCJjaGlsZHJlbiIsImFuaW1hdGlvbkZhY3RvcnkiLCJlZGl0QW5pbWF0aW9uIiwidGFyZ2V0IiwiZ2V0Q29udGVudFBhZ2UiLCJwdXNoVG9nZ2xlQnRuQXJyIiwiaXNBSGFuZGxlIiwianVkZ2VCdG5BcnIiLCJ0b2dnbGVCdG5BcnIiLCJjb250cm9sbGVyIiwiYUJ0biIsImJCdG4iLCJ0b3BCdG4iLCJib3RCdG4iLCJsZWZ0QnRuIiwicmlnaHRCdG4iLCJoYW5kbGUiLCJhQnRuSGFuZGxlIiwibG9jYXRpb24iLCJocmVmIiwiRGF0ZSIsImdldFRpbWUiLCJiQnRuSGFuZGxlIiwieERpckhhbmRsZSIsInlEaXJIYW5kbGUiLCJjbGlja0JvdEJ0biIsImxvbmdUYXAiLCJzZXRJbnRlcnZhbCIsIm1vdmVIYW5kbGUiLCJiaW5kIiwic3BlZWQiLCJjbGVhckludGVydmFsIiwidGFwTXVzaWMiLCIkbXVzaWNCdG4iLCIkbXVzaWNTb2xpZCIsIiRjb250ZW50TXVzaWNCdG4iLCJ0b2dnbGVDbGFzcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUNBOztBQUNBOzs7O0FBRUE7O0FBRUEsc0JBQUUsWUFBWTs7QUFFVixRQUFJQSxNQUFNLG1CQUFBQyxDQUFRLENBQVIsQ0FBVjtBQUFBLFFBQ0lDLE9BQU8sc0JBQUUsYUFBRixDQURYOztBQUdBQSxTQUFLQyxJQUFMLENBQVUsS0FBVixFQUFpQkgsR0FBakI7O0FBRUFJLFdBQU9DLGdCQUFQLENBQXdCLFlBQXhCLEVBQXNDLFVBQVVDLEtBQVYsRUFBaUI7QUFDbkRBLGNBQU1DLGNBQU47QUFDSCxLQUZELEVBRUcsS0FGSDs7QUFLQSxRQUFJQyxpQkFBaUIsU0FBakJBLGNBQWlCLENBQVVDLFFBQVYsRUFBb0JDLElBQXBCLEVBQTBCO0FBQzNDLGVBQU8sSUFBSUMsT0FBSixDQUFZLFVBQUNDLE9BQUQ7QUFBQSxtQkFBYSxzQkFBRUgsUUFBRixFQUFZSSxFQUFaLENBQWVILElBQWYsRUFBcUJFLE9BQXJCLENBQWI7QUFBQSxTQUFaLENBQVA7QUFDSCxLQUZEO0FBR0E7QUFDQSxLQUFDLFlBQVk7O0FBRVQ7QUFDQUosdUJBQWUsZ0JBQWYsRUFBaUMsV0FBakM7QUFDQTtBQURBLFNBRUtNLElBRkwsQ0FHUTtBQUFBLG1CQUFNTixlQUFlLHNCQUFFLFlBQUYsRUFBZ0JPLFFBQWhC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QjtBQUNBRix3QkFBWUUsV0FBWixDQUF3QixVQUF4Qjs7QUFFQTtBQUVILFNBTkQ7O0FBUUFELHlCQUFpQnBGLEVBQWpCLENBQW9CLEtBQXBCLEVBQTJCLFlBQVk7QUFDbkMsa0NBQUUsSUFBRixFQUFRcUYsV0FBUixDQUFvQixhQUFwQjs7QUFFQTtBQUVILFNBTEQ7QUFNSDtBQUNESjs7QUFFQTtBQUVILENBeGhCRCIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9jc3MvcmVzZXQuY3NzJztcbmltcG9ydCAnLi4vY3NzL2luZGV4Lmxlc3MnO1xuaW1wb3J0ICQgZnJvbSAnbi16ZXB0byc7XG5pbXBvcnQgJy4vdG91Y2gnO1xuaW1wb3J0ICcuL3RyYW5zZm9ybSc7XG5cbid1c2Ugc3RyaWN0JztcblxuJChmdW5jdGlvbiAoKSB7XG5cbiAgICBsZXQgdXJsID0gcmVxdWlyZSgnLi4vaW1hZ2VzL2RldGFpbC1wYWdlMS5qcGcnKSxcbiAgICAgICAgJGltZyA9ICQoJyNkZXRhaWwgaW1nJyk7XG5cbiAgICAkaW1nLmF0dHIoJ3NyYycsIHVybCk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0sIGZhbHNlKTtcblxuXG4gICAgbGV0IGdhbWVCb3lQcm9taXNlID0gZnVuY3Rpb24gKHNlbGVjdG9yLCB0eXBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gJChzZWxlY3Rvcikub24odHlwZSwgcmVzb2x2ZSkpO1xuICAgIH07XG4gICAgLy/liY3nva7liqjnlLtcbiAgICAoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8v5o+S5Y2hXG4gICAgICAgIGdhbWVCb3lQcm9taXNlKCcjZ2FtZS1jYXJkLWJveCcsICdzd2lwZURvd24nKVxuICAgICAgICAvL+WNoeWQkeS4i+i1sFxuICAgICAgICAgICAgLnRoZW4oXG4gICAgICAgICAgICAgICAgKCkgPT4gZ2FtZUJveVByb21pc2UoJCgnI2dhbWUtY2FyZCcpLmFkZENsYXNzKCd0by1ib3QnKS5zZWxlY3RvciwgJ3RyYW5zaXRpb25lbmQnKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLy/mj5LljaHmj5DnpLrliqjnlLvmtojlpLFcbiAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgICgpID0+IGdhbWVCb3lQcm9taXNlKCQoJyNpbnNlcnQtY2FyZCcpLnJlbW92ZUNsYXNzKCdmbGFzaCBpbmZpbml0ZScpLmFkZENsYXNzKCdmYWRlT3V0Jykuc2VsZWN0b3IsICd3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kJylcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy/msLToirHouablh7pcbiAgICAgICAgICAgICAgICAgICAgJCgnI3dhdGVyJykuYWRkQ2xhc3MoJ3RvLXRvcCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2FtZUJveVByb21pc2UoJyN3YXRlcicsICd0cmFuc2l0aW9uZW5kJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLy/msLToirHouablh7rlkI7otrPnkIPouablh7pcbiAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgICgpID0+IGdhbWVCb3lQcm9taXNlKCQoJy5mb290YmFsbCcpLmFkZENsYXNzKCd0by10b3AnKS5zZWxlY3RvciwgJ3RyYW5zaXRpb25lbmQnKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLy/nhLblkI7mjpLnkIPouablh7pcbiAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgICgpID0+IGdhbWVCb3lQcm9taXNlKCQoJy52b2xsZXliYWxsJykuYWRkQ2xhc3MoJ3RvLXRvcCcpLnNlbGVjdG9yLCAndHJhbnNpdGlvbmVuZCcpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAvL+eEtuWQjue9keeQg+i5puWHulxuICAgICAgICAgICAgLnRoZW4oXG4gICAgICAgICAgICAgICAgKCkgPT4gZ2FtZUJveVByb21pc2UoJCgnLnRlbm5pcycpLmFkZENsYXNzKCd0by10b3AnKS5zZWxlY3RvciwgJ3RyYW5zaXRpb25lbmQnKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLy/lk5TvvIHvvIHvvIHov5jmnInlr7nor53nur8s6Zuq6Iqx77yM5bGP5bmV6Zeq54OBXG4gICAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNnYi1zb2xpZCcpLnJlbW92ZUNsYXNzKCdzb2xpZC1mbGFzaCcpLmFkZENsYXNzKCd0YWxrLXNvbGlkLWZsYXNoJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy50ZXh0JykuY3NzKCdvcGFjaXR5JywgMSkuYWRkQ2xhc3MoJ3B1bHNlJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5nYi1wbGF5ZXItYmcnKS5hZGRDbGFzcygnZmFkZU91dCcpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjeHVlaHVhJykuYWRkQ2xhc3MoJ3RvLXRvcCcpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjbXVzaWMtYnRuJykuYWRkQ2xhc3MoJ2ZhZGVPdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdhbWVCb3lQcm9taXNlKCQoJyNjb3Zlci1hcmVhJykuYWRkQ2xhc3MoJ2NvdmVyLWZsYXNoJykuc2VsZWN0b3IsICd3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLy/ov5vlhaXmoIfpopjvvIzlsI/kurrouabouabouabvvIHvvIHvvIFcbiAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI211c2ljLWJ0bicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2NvdmVyLWFyZWEnKS5jc3MoJ3pJbmRleCcsIC0yMCk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNjb250ZW50LWdiLXdyYXBwZXInKS5hZGRDbGFzcygnZmFkZUluJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5wZXJzb24nKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKGVsZSkuYWRkQ2xhc3MoJ3BlcnNvbicgKyAoaW5kZXggKyAxKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2FtZUJveVByb21pc2UoJCgnLnRpdGxlLWgxJykuYWRkQ2xhc3MoJ2ZsYXNoJykuc2VsZWN0b3IsICd3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgICAvL+i/m+WFpeaTjeS9nOaMh+ekuumhtemdolxuICAgICAgICAgICAgLnRoZW4oXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAkKCcucGVyc29uJykucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNhLWJ0bicpLnJlbW92ZUNsYXNzKCdkZWZhdWx0JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuZ3VpZGUnKS5hZGRDbGFzcygnZmFkZUluJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuXG4gICAgfSkoKTtcblxuICAgIC8vZ2JQbGF5ZXLlr7nosaFcbiAgICBsZXQgZ2FtZUJveVBsYXllciA9IChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgbGV0ICRhQnRuID0gJCgnI2EtYnRuJyksXG4gICAgICAgICAgICAkYkJ0biA9ICQoJyNiLWJ0bicpLFxuICAgICAgICAgICAgJHRvcEJ0biA9ICQoJyN0b3AtYnRuJyksXG4gICAgICAgICAgICAkbGVmdEJ0biA9ICQoJyNsZWZ0LWJ0bicpLFxuICAgICAgICAgICAgJHJpZ2h0QnRuID0gJCgnI3JpZ2h0LWJ0bicpLFxuICAgICAgICAgICAgJGJvdEJ0biA9ICQoJyNib3QtYnRuJyksXG4gICAgICAgICAgICAkY29udGVudCA9ICQoJyNjb250ZW50JyksXG4gICAgICAgICAgICAkYUNvbnRlbnREaXYgPSAkKCcjY29udGVudD5kaXZbY2xhc3MgKj0gXCJwYWdlXCJdJyksXG4gICAgICAgICAgICAkZGV0YWlsID0gJCgnI2RldGFpbCcpLFxuICAgICAgICAgICAgJGFTZWN0aW9uID0gJCgnI2RldGFpbD5zZWN0aW9uJyksXG4gICAgICAgICAgICBvbGRJbmRleCA9IDAsXG4gICAgICAgICAgICBub3dJbmRleCA9IDAsXG4gICAgICAgICAgICBtYXhUcmFuc2xhdGVZQXJyID0gW10sXG4gICAgICAgICAgICB0cmFuc2xhdGVZID0gMCxcbiAgICAgICAgICAgIHNjcmVlbkhlaWdodCA9ICQoJy5zY3JlZW4nKS5oZWlnaHQoKSxcbiAgICAgICAgICAgIHRpbWVyID0gbnVsbCxcbiAgICAgICAgICAgIHRhcFNwZWVkID0gNTAsXG4gICAgICAgICAgICBsb25nVGFwU3BlZWQgPSAyMDtcblxuXG5cbiAgICAgICAgLy/mmoLml7bnlZnkuIstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdmFyICRhSW1nID0gJCgnaW1nJyk7XG4gICAgICAgIC8v5bCB6KOFc2VjdGlvbu+8jG1heFRyYW5zbGF0ZVlBcnJcblxuICAgICAgICB2YXIgc3RhdGUgPSAwO1xuXG4gICAgICAgIGZ1bmN0aW9uIHRlc3RTdGF0ZSgpIHtcbiAgICAgICAgICAgIGlmKHN0YXRlID09PSAkYUltZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkYVNlY3Rpb24uZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZSkge1xuICAgICAgICAgICAgICAgICAgICBUcmFuc2Zvcm0oZWxlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgbWF4VHJhbnNsYXRlWUFyci5wdXNoKC0oJChlbGUpLmhlaWdodCgpIC0gc2NyZWVuSGVpZ2h0KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkYUltZy5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN0YXRlICs9IDE7XG4gICAgICAgICAgICB0ZXN0U3RhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8v5pqC5pe255WZ5LiLLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuICAgICAgICAvL+WIpOaWrWJ0buaYr+WQpuWPr+eCueWHu1xuICAgICAgICBsZXQganVkZ2VCdG5DYW50Q2xpY2sgPSAoXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGp1ZGdlQnRuQ2xhc3NSZWcgPSAvZGVmYXVsdC87XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCRlbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGp1ZGdlQnRuQ2xhc3NSZWcudGVzdCgoJGVsZSkuYXR0cignY2xhc3MnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApKCk7XG5cbiAgICAgICAgLy/mm7TmlLlidG7nmoTnirbmgIFcbiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlQnRuU3RhdGUoYnRuKSB7XG4gICAgICAgICAgICAkLmVhY2goYnRuLCBmdW5jdGlvbiAoaW5kZXgsIGVsZSkge1xuICAgICAgICAgICAgICAgIGlmKGp1ZGdlQnRuQ2FudENsaWNrKCQoZWxlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgJChlbGUpLnJlbW92ZUNsYXNzKCdkZWZhdWx0JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJChlbGUpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5hZGRDbGFzcygnZGVmYXVsdCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvL+WIpOaWreWGheWuuemhteS9leaXtuWIh+aNomxlZnRCdG7kuI5yaWdodEJ0bueahOeKtuaAgVxuICAgICAgICBmdW5jdGlvbiBqdWRnZUNvbnRlbnRCdG5TdGF0ZShib29sZWFuKSB7XG4gICAgICAgICAgICAvL+WIpOaWrWxlZnRCdG7mmK/lkKbliIfmjaLkuLphY3RpdmVcbiAgICAgICAgICAgIGlmKGJvb2xlYW4gJiYgbm93SW5kZXggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB0b2dnbGVCdG5TdGF0ZSgkbGVmdEJ0bik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZighYm9vbGVhbiAmJiBub3dJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ0blN0YXRlKCRsZWZ0QnRuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8v5Yik5patcmlnaHRCdG5cbiAgICAgICAgICAgIGlmKGJvb2xlYW4gJiYgbm93SW5kZXggPT09ICRhQ29udGVudERpdi5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnRuU3RhdGUoWyRyaWdodEJ0biwgJGJCdG5dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCFib29sZWFuICYmIG5vd0luZGV4ID09PSAkYUNvbnRlbnREaXYubGVuZ3RoIC0gMikge1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ0blN0YXRlKFskcmlnaHRCdG4sICRiQnRuXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL+WIpOaWreivpuaDhemhteWIh+aNonRvcEJ0buS4jmJvdEJ0bueahOeKtuaAgVxuICAgICAgICBmdW5jdGlvbiBqdWRnZURldGFpbEJ0blN0YXRlKGJvb2xlYW4pIHtcbiAgICAgICAgICAgIC8vYm90QnRuXG4gICAgICAgICAgICBpZihib29sZWFuKSB7XG4gICAgICAgICAgICAgICAgaWYoJGFTZWN0aW9uW25vd0luZGV4XS50cmFuc2xhdGVZIDw9IDAgJiYganVkZ2VCdG5DYW50Q2xpY2soJHRvcEJ0bikpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnRuU3RhdGUoJHRvcEJ0bik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKCRhU2VjdGlvbltub3dJbmRleF0udHJhbnNsYXRlWSA8PSBtYXhUcmFuc2xhdGVZQXJyW25vd0luZGV4XSAmJiAoIWp1ZGdlQnRuQ2FudENsaWNrKCRib3RCdG4pKSkge1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGVCdG5TdGF0ZSgkYm90QnRuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL3RvcEJ0blxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYoJGFTZWN0aW9uW25vd0luZGV4XS50cmFuc2xhdGVZID49IDAgJiYgKCFqdWRnZUJ0bkNhbnRDbGljaygkdG9wQnRuKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnRuU3RhdGUoJHRvcEJ0bik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKCRhU2VjdGlvbltub3dJbmRleF0udHJhbnNsYXRlWSA+PSBtYXhUcmFuc2xhdGVZQXJyW25vd0luZGV4XSAmJiBqdWRnZUJ0bkNhbnRDbGljaygkYm90QnRuKSkge1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGVCdG5TdGF0ZSgkYm90QnRuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhbmltYXRpb25IYW5kbGUoaXNBQ29udGVudERpdiwgaXNBbmltYXRpb25TdGFydCwgaXNGYWRlSW4sIG5vd0luZGV4KSB7XG4gICAgICAgICAgICAvL2FuaW1hdGlvbnN0YXJ0XG4gICAgICAgICAgICBpZihpc0FuaW1hdGlvblN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgaWYoaXNGYWRlSW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNBQ29udGVudERpdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm93SW5kZXggPSBub3dJbmRleCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAkYUNvbnRlbnREaXYuZXEobm93SW5kZXggKyAxKS5jaGlsZHJlbignLnBhZ2UtY2hpbGRyZW4nKS5jc3MoJ29wYWNpdHknLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkZhY3RvcnkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkYUNvbnRlbnREaXYuZXEobm93SW5kZXgpLmNoaWxkcmVuKCcucGFnZS1jaGlsZHJlbicpLmNzcygnb3BhY2l0eScsIDApLnJlbW92ZUNsYXNzKCdwYWdlJyArIChub3dJbmRleCArIDEpICsgJy1hbmltYXRpb24gZmx5Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmKG5vd0luZGV4ID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuem91c2hpbWluZycpLnJlbW92ZUNsYXNzKCdhcHBlYXInKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNBQ29udGVudERpdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGFDb250ZW50RGl2LmVxKG5vd0luZGV4ICsgMSkuY2hpbGRyZW4oJy5wYWdlLWNoaWxkcmVuJykuY3NzKCdvcGFjaXR5JywgMCkucmVtb3ZlQ2xhc3MoJ3BhZ2UnICsgKG5vd0luZGV4ICsgMikgKyAnLWFuaW1hdGlvbicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihub3dJbmRleCArIDEgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuem91c2hpbWluZycpLnJlbW92ZUNsYXNzKCdhcHBlYXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkZhY3RvcnkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkYUNvbnRlbnREaXYuZXEobm93SW5kZXgpLmNoaWxkcmVuKCcucGFnZS1jaGlsZHJlbicpLmNzcygnb3BhY2l0eScsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vYW5pbWF0aW9uZW5kXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAkYUNvbnRlbnREaXYuZXEobm93SW5kZXgpLmNoaWxkcmVuKCcucGFnZS1jaGlsZHJlbicpLmFkZENsYXNzKCdwYWdlJyArIChub3dJbmRleCArIDEpICsgJy1hbmltYXRpb24nKTtcbiAgICAgICAgICAgICAgICBpZighaXNBQ29udGVudERpdikge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25GYWN0b3J5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy/kv67mlLnliqjnlLtcbiAgICAgICAgZnVuY3Rpb24gZWRpdEFuaW1hdGlvbigpIHtcbiAgICAgICAgICAgIC8vc3RhcnTkuK3np7vpmaTkuIrkuIDpobXop6blj5HliqjnlLvnmoRjbGFzc1xuICAgICAgICAgICAgJGFDb250ZW50RGl2Lm9uKCd3ZWJraXRBbmltYXRpb25TdGFydCBhbmltYXRpb25zdGFydCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIC8vcGFnZVjop6blj5HliqjnlLvlvIDlp4vml7ZcbiAgICAgICAgICAgICAgICBpZigvcGFnZVtcXGRdIC8udGVzdCgkKGV2ZW50LnRhcmdldCkuYXR0cignY2xhc3MnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy/pgJrov4fliKTmlq1jbGFzc+S4reaYr+WQpuaciWZhZGVJbuWIpOaWreWQkeW3puaIluWQkeWPs1xuICAgICAgICAgICAgICAgICAgICAvL+eCueWHu3JpZ2h0QnRu6ZqQ6JeP5bm256e76Zmk5YmN5LiA6aG1YW5pbWF0aW9uQ2xhc3PvvIjkuI3pmpDol4/nm7TmjqXnp7vpmaTlvojnqoHlhYDvvIlcbiAgICAgICAgICAgICAgICAgICAgaWYoL2ZhZGVJbi8udGVzdCgkKGV2ZW50LnRhcmdldCkuYXR0cignY2xhc3MnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkhhbmRsZSh0cnVlLCB0cnVlLCB0cnVlLCBub3dJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy/ngrnlh7tsZWZ0QnRu6ZqQ6JeP5bm256e76Zmk5YmN5LiA6aG1YW5pbWF0aW9uQ2xhc3PvvIjkuI3pmpDol4/nm7TmjqXnp7vpmaTlvojnqoHlhYDvvIlcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25IYW5kbGUoJGFDb250ZW50RGl2LCB0cnVlLCBmYWxzZSwgbm93SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvL2VuZOS4reS4uuacrOmhtea3u+WKoOinpuWPkeWKqOeUu+eahGNsYXNzXG4gICAgICAgICAgICAkYUNvbnRlbnREaXYub24oJ3dlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAvL3BhZ2VY6Kem5Y+R5Yqo55S757uT5p2f5pe2XG4gICAgICAgICAgICAgICAgaWYoL3BhZ2VbXFxkXSAvLnRlc3QoJChldmVudC50YXJnZXQpLmF0dHIoJ2NsYXNzJykpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkhhbmRsZSh0cnVlLCBmYWxzZSwgbnVsbCwgbm93SW5kZXgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRkZXRhaWwub24oJ3dlYmtpdEFuaW1hdGlvblN0YXJ0IGFuaW1hdGlvbnN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYoL2ZhZGVJbi8udGVzdCgkKGV2ZW50LnRhcmdldCkuYXR0cignY2xhc3MnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uSGFuZGxlKGZhbHNlLCB0cnVlLCB0cnVlLCBub3dJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25IYW5kbGUoZmFsc2UsIHRydWUsIGZhbHNlLCBub3dJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRkZXRhaWwub24oJ3dlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYoISgvZmFkZUluLy50ZXN0KCQoZXZlbnQudGFyZ2V0KS5hdHRyKCdjbGFzcycpKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uSGFuZGxlKGZhbHNlLCBmYWxzZSwgbnVsbCwgbm93SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAvL+WIh+aNouWxj+W5lXotaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgJGRldGFpbC5jc3MoJ3otaW5kZXgnLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICRjb250ZW50LmNzcygnei1pbmRleCcsIDIwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgZWRpdEFuaW1hdGlvbigpO1xuXG4gICAgICAgIC8v6ZO+5byP5Yqo55S75bqTXG4gICAgICAgIGZ1bmN0aW9uIGFuaW1hdGlvbkZhY3RvcnkoKSB7XG4gICAgICAgICAgICAvL3BhZ2UxQW5pbWF0aW9uXG4gICAgICAgICAgICBpZihub3dJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGdhbWVCb3lQcm9taXNlKCcucGFnZTEtZm9vdGJhbGwnLCAnd2Via2l0QW5pbWF0aW9uRW5kIGFuaW1hdGlvbmVuZCcpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gJCgnLmZvb3RiYWxsLXBsYXllcicpLnJlbW92ZUNsYXNzKCdwYWdlMS1hbmltYXRpb24nKS5hZGRDbGFzcygnZmx5JylcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vcGFnZTVBbmltYXRpb25cbiAgICAgICAgICAgIGlmKG5vd0luZGV4ID09PSA0KSB7XG4gICAgICAgICAgICAgICAgZ2FtZUJveVByb21pc2UoJy5zcHJpdGUtYmFsbCcsICd3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kJylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiAkKCcuem91c2hpbWluZycpLmFkZENsYXNzKCdhcHBlYXInKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy/liIfmjaJjb250ZW50UGFnZVxuICAgICAgICBmdW5jdGlvbiBnZXRDb250ZW50UGFnZShib29sZWFuKSB7XG4gICAgICAgICAgICAvL3RydWUr5LiA6aG177yMZmFsc2Xlh4/kuIDpobVcbiAgICAgICAgICAgIGlmKGJvb2xlYW4pIHtcbiAgICAgICAgICAgICAgICBub3dJbmRleCA9IG9sZEluZGV4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vd0luZGV4ID0gb2xkSW5kZXggLSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBqdWRnZUNvbnRlbnRCdG5TdGF0ZShib29sZWFuKTtcblxuICAgICAgICAgICAgLy/lpoLmnpzmmK9yaWdodEJ0bu+8jOWQjuS4gOmhtWZhZGVJbui/m+WFpVxuICAgICAgICAgICAgaWYoYm9vbGVhbikge1xuICAgICAgICAgICAgICAgICRhQ29udGVudERpdi5lcShub3dJbmRleCkucmVtb3ZlQ2xhc3MoJ2ZhZGVPdXQnKS5hZGRDbGFzcygnZmFkZUluJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL+WmguaenOaYr2xlZnRCdG7vvIxcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICRhQ29udGVudERpdi5lcShvbGRJbmRleCkucmVtb3ZlQ2xhc3MoJ2ZhZGVJbicpLmFkZENsYXNzKCdmYWRlT3V0Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9sZEluZGV4ID0gbm93SW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICAvL+aOqOi/m3RvZ2dsZUJ0bkFyclxuICAgICAgICBmdW5jdGlvbiBwdXNoVG9nZ2xlQnRuQXJyKGlzQUhhbmRsZSwganVkZ2VCdG5BcnIsIHRvZ2dsZUJ0bkFycikge1xuICAgICAgICAgICAgJC5lYWNoKGp1ZGdlQnRuQXJyLCBmdW5jdGlvbiAoaW5kZXgsICRlbGUpIHtcbiAgICAgICAgICAgICAgICBpZighanVkZ2VCdG5DYW50Q2xpY2soJGVsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnRuQXJyLnB1c2goJGVsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZighaXNBSGFuZGxlKSB7XG4gICAgICAgICAgICAgICAgaWYobm93SW5kZXggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnRuQXJyLnB1c2goJGxlZnRCdG4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihub3dJbmRleCAhPT0gJGFDb250ZW50RGl2Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnRuQXJyLnB1c2goJHJpZ2h0QnRuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0b2dnbGVCdG5BcnI7XG4gICAgICAgIH1cblxuXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXRlIDogMCwgIC8vMC3mk43kvZzmjIflr7zpobXpnaIsIDEt5YaF5a656aG1LCAyLeivpuaDhemhtVxuICAgICAgICAgICAgdGltZXIgOiB0aW1lcixcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgOiB7XG4gICAgICAgICAgICAgICAgYUJ0biA6ICRhQnRuLFxuICAgICAgICAgICAgICAgIGJCdG4gOiAkYkJ0bixcbiAgICAgICAgICAgICAgICB0b3BCdG4gOiAkdG9wQnRuLFxuICAgICAgICAgICAgICAgIGJvdEJ0biA6ICRib3RCdG4sXG4gICAgICAgICAgICAgICAgbGVmdEJ0biA6ICRsZWZ0QnRuLFxuICAgICAgICAgICAgICAgIHJpZ2h0QnRuIDogJHJpZ2h0QnRuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFuZGxlIDoge1xuICAgICAgICAgICAgICAgIGFCdG5IYW5kbGUgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b2dnbGVCdG5BcnIgPSBbJGJvdEJ0biwgJGFCdG4sICRiQnRuXTtcblxuICAgICAgICAgICAgICAgICAgICBpZihqdWRnZUJ0bkNhbnRDbGljaygkYUJ0bikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvL+esrOS4gOasoeS7juaTjeS9nOaMh+WvvOmhtemdoui/m+WFpeivpuaDhemhtVxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnN0YXRlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5YiH5o2i5bGP5bmVei1pbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI25hdicpLmNzcygnei1pbmRleCcsIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRjb250ZW50LmNzcygnei1pbmRleCcsIDIwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnRuU3RhdGUoJHJpZ2h0QnRuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVCb3lQcm9taXNlKCRjb250ZW50LmFkZENsYXNzKCdmYWRlSW4nKS5zZWxlY3RvciwgJ3dlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuZm9vdGJhbGwtcGxheWVyJykuYWRkQ2xhc3MoJ3BhZ2UxLWFuaW1hdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdhbWVCb3lQcm9taXNlKCQoJy5wYWdlMS1mb290YmFsbCcpLmFkZENsYXNzKCdwYWdlMS1hbmltYXRpb24nKS5zZWxlY3RvciwgJ3dlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiAkKCcuZm9vdGJhbGwtcGxheWVyJykucmVtb3ZlQ2xhc3MoJ3BhZ2UxLWFuaW1hdGlvbicpLmFkZENsYXNzKCdmbHknKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy/ov5vlhaXor6bmg4XpobVcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZih0aGlzLnN0YXRlID09PSAxKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5YiH5o2i5bGP5bmVei1pbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgJGNvbnRlbnQuY3NzKCd6LWluZGV4JywgMTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGRldGFpbC5jc3MoJ3otaW5kZXgnLCAyMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5YiG5Lqr6aG154K55Ye7YUJ0buWIt+aWsFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYobm93SW5kZXggPT09ICRhQ29udGVudERpdi5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLmhyZWYgKyAnPycgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGFTZWN0aW9uLmNzcygnb3BhY2l0eScsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGFTZWN0aW9uLmVxKG5vd0luZGV4KS5jc3MoJ29wYWNpdHknLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJGRldGFpbC5yZW1vdmVDbGFzcygnZmFkZU91dCcpLmFkZENsYXNzKCdmYWRlSW4nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy/lt6blj7PmjInpkq5jbGFzc+S4uuS4jeS4umRlZmF1bHTnmoTliqDlhaXliLDliIfmjaLmlbDnu4TkuK1cbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hUb2dnbGVCdG5BcnIodHJ1ZSwgWyRsZWZ0QnRuLCAkcmlnaHRCdG5dLCB0b2dnbGVCdG5BcnIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVCdG5TdGF0ZSh0b2dnbGVCdG5BcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJCdG5IYW5kbGUgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b2dnbGVCdG5BcnIgPSBbJGFCdG4sICRiQnRuXTtcblxuICAgICAgICAgICAgICAgICAgICBpZihqdWRnZUJ0bkNhbnRDbGljaygkYkJ0bikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8v5YaF5a656aG15pyA5ZCO5LiA6aG15YiG5Lqr6aG177yM54K55Ye7QuW8ueWxglxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnN0YXRlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYXJlYS1zaGFyZScpLmNzcygnei1pbmRleCcsIDIwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKGp1ZGdlQnRuQ2FudENsaWNrKCRiQnRuKSB8fCB0aGlzLnN0YXRlICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkZGV0YWlsLnJlbW92ZUNsYXNzKCdmYWRlSW4nKS5hZGRDbGFzcygnZmFkZU91dCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSAwO1xuICAgICAgICAgICAgICAgICAgICAkYVNlY3Rpb24uY3NzKCd0cmFuc2l0aW9uJywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgJGFTZWN0aW9uLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgZWxlLnRyYW5zbGF0ZVkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBwdXNoVG9nZ2xlQnRuQXJyKGZhbHNlLCBbJHRvcEJ0biwgJGJvdEJ0bl0sIHRvZ2dsZUJ0bkFycik7XG5cbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQnRuU3RhdGUodG9nZ2xlQnRuQXJyKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLS07XG5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHhEaXJIYW5kbGUgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8v5aaC5p6c5oyJ6ZKu5LiN5piv5Y+v54K55Ye754q25oCB5YiZ6L+U5ZueXG4gICAgICAgICAgICAgICAgICAgIGlmKGp1ZGdlQnRuQ2FudENsaWNrKCQodGhpcykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy/liKTmlq3ngrnlh7tsZWZ06L+Y5pivcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgaWYoL3JpZ2h0Ly50ZXN0KCQodGhpcykuYXR0cignY2xhc3MnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldENvbnRlbnRQYWdlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Q29udGVudFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHlEaXJIYW5kbGUgOiBmdW5jdGlvbiAoZXZlbnQsIGNsaWNrQm90QnRuLCBsb25nVGFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGp1ZGdlQnRuQ2FudENsaWNrKCQoZXZlbnQudGFyZ2V0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvL+mVv+aMiVxuICAgICAgICAgICAgICAgICAgICBpZihsb25nVGFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkYVNlY3Rpb24uZXEobm93SW5kZXgpLmNzcygndHJhbnNpdGlvbicgLCAnbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVZID0gICRhU2VjdGlvbltub3dJbmRleF0udHJhbnNsYXRlWTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlLm1vdmVIYW5kbGUoY2xpY2tCb3RCdG4sIGxvbmdUYXBTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksIDMwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvL+eCueWHu1xuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRhU2VjdGlvbi5lcShub3dJbmRleCkuY3NzKCd0cmFuc2l0aW9uJyAsICcuM3MgZWFzZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZS5tb3ZlSGFuZGxlKGNsaWNrQm90QnRuLCB0YXBTcGVlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vdmVIYW5kbGUgOiBmdW5jdGlvbiAoY2xpY2tCb3RCdG4sIHNwZWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGNsaWNrQm90QnRuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVZIC09IHNwZWVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWSArPSBzcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8v5o6n5Yi2dHJhbnNsYXRlWeiMg+WbtFxuICAgICAgICAgICAgICAgICAgICBpZih0cmFuc2xhdGVZID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYodHJhbnNsYXRlWSA8PSBtYXhUcmFuc2xhdGVZQXJyW25vd0luZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWSA9IG1heFRyYW5zbGF0ZVlBcnJbbm93SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJGFTZWN0aW9uW25vd0luZGV4XS50cmFuc2xhdGVZID0gdHJhbnNsYXRlWTtcblxuICAgICAgICAgICAgICAgICAgICBqdWRnZURldGFpbEJ0blN0YXRlKGNsaWNrQm90QnRuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICB9KSgpO1xuXG4gICAgLy9hQnRu77yMYkJ0bueCueWHu1xuICAgIGdhbWVCb3lQbGF5ZXIuY29udHJvbGxlci5hQnRuLm9uKCd0YXAnLCBnYW1lQm95UGxheWVyLmhhbmRsZS5hQnRuSGFuZGxlLmJpbmQoZ2FtZUJveVBsYXllcikpO1xuICAgIGdhbWVCb3lQbGF5ZXIuY29udHJvbGxlci5iQnRuLm9uKCd0YXAnLCBnYW1lQm95UGxheWVyLmhhbmRsZS5iQnRuSGFuZGxlLmJpbmQoZ2FtZUJveVBsYXllcikpO1xuXG4gICAgLy945pa55ZCRQnRu54K55Ye7XG4gICAgZ2FtZUJveVBsYXllci5jb250cm9sbGVyLnJpZ2h0QnRuLm9uKCd0YXAnLCBnYW1lQm95UGxheWVyLmhhbmRsZS54RGlySGFuZGxlKTtcbiAgICBnYW1lQm95UGxheWVyLmNvbnRyb2xsZXIubGVmdEJ0bi5vbigndGFwJywgZ2FtZUJveVBsYXllci5oYW5kbGUueERpckhhbmRsZSk7XG5cbiAgICAvL3nmlrnlkJFCdG7ngrnlh7tcbiAgICBnYW1lQm95UGxheWVyLmNvbnRyb2xsZXIudG9wQnRuLm9uKCd0YXAnLCAoKSA9PiBnYW1lQm95UGxheWVyLmhhbmRsZS55RGlySGFuZGxlLmJpbmQoZ2FtZUJveVBsYXllcikoZXZlbnQsIGZhbHNlLCBmYWxzZSkpO1xuICAgIGdhbWVCb3lQbGF5ZXIuY29udHJvbGxlci5ib3RCdG4ub24oJ3RhcCcsICgpID0+IGdhbWVCb3lQbGF5ZXIuaGFuZGxlLnlEaXJIYW5kbGUuYmluZChnYW1lQm95UGxheWVyKShldmVudCwgdHJ1ZSwgZmFsc2UpKTtcblxuICAgIC8veeaWueWQkUJ0bumVv+aMiVxuICAgICAgICAvL+WuieWNk+W+ruS/oeW+iOmavueUqFxuICAgIGdhbWVCb3lQbGF5ZXIuY29udHJvbGxlci50b3BCdG4ub24oJ2xvbmdUYXAnLCAoKSA9PiBnYW1lQm95UGxheWVyLmhhbmRsZS55RGlySGFuZGxlLmJpbmQoZ2FtZUJveVBsYXllcikoZXZlbnQsIGZhbHNlLCB0cnVlKSk7XG4gICAgZ2FtZUJveVBsYXllci5jb250cm9sbGVyLmJvdEJ0bi5vbignbG9uZ1RhcCcsICgpID0+IGdhbWVCb3lQbGF5ZXIuaGFuZGxlLnlEaXJIYW5kbGUuYmluZChnYW1lQm95UGxheWVyKShldmVudCwgdHJ1ZSwgdHJ1ZSkpO1xuICAgIC8v6ZW/5oyJ5ZCO5riF6Zmk5a6a5pe25ZmoXG4gICAgZ2FtZUJveVBsYXllci5jb250cm9sbGVyLnRvcEJ0bi5vbigndG91Y2hlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoZ2FtZUJveVBsYXllci50aW1lcik7XG4gICAgfSk7XG4gICAgZ2FtZUJveVBsYXllci5jb250cm9sbGVyLmJvdEJ0bi5vbigndG91Y2hlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoZ2FtZUJveVBsYXllci50aW1lcik7XG4gICAgfSk7XG5cbiAgICAvL+eCueWHu+mfs+S5kFxuICAgIGZ1bmN0aW9uIHRhcE11c2ljKCkge1xuICAgICAgICBsZXQgJG11c2ljQnRuID0gJCgnI211c2ljLWJ0bicpLFxuICAgICAgICAgICAgJG11c2ljU29saWQgPSAkKCcubXVzaWMtc29saWQnKSxcbiAgICAgICAgICAgICRjb250ZW50TXVzaWNCdG4gPSAkKCcuY29udGVudC1tdXNpYy1idG4nKTtcblxuICAgICAgICAkbXVzaWNCdG4ub24oJ3RhcCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2Nsb3NlLW11c2ljJyk7XG4gICAgICAgICAgICAkbXVzaWNTb2xpZC50b2dnbGVDbGFzcygnYW5pbWF0ZWQnKTtcblxuICAgICAgICAgICAgLy/lhbPpl63pn7PkuZBcblxuICAgICAgICB9KTtcblxuICAgICAgICAkY29udGVudE11c2ljQnRuLm9uKCd0YXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdjbG9zZS1tdXNpYycpO1xuXG4gICAgICAgICAgICAvL+WFs+mXremfs+S5kFxuXG4gICAgICAgIH0pXG4gICAgfVxuICAgIHRhcE11c2ljKCk7XG5cbiAgICAvL1xuXG59KTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvanMvbWFpbi5qcyJdLCJzb3VyY2VSb290IjoiIn0=");
},function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__.p + "93b355e23b62b5ea9c9503324b32ea40.jpg";//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvaW1hZ2VzL2RldGFpbC1wYWdlMS5qcGc/M2MwYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiOTNiMzU1ZTIzYjYyYjVlYTljOTUwMzMyNGIzMmVhNDAuanBnXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvaW1hZ2VzL2RldGFpbC1wYWdlMS5qcGdcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports){eval("// removed by extract-text-webpack-plugin//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvY3NzL3Jlc2V0LmNzcz9kMjdhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYXBwL2Nzcy9yZXNldC5jc3Ncbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("// removed by extract-text-webpack-plugin//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvY3NzL2luZGV4Lmxlc3M/YTdiYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2FwcC9jc3MvaW5kZXgubGVzc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_RESULT__;/* Zepto v1.2.0 - zepto event ajax form ie - zeptojs.com/license */\r\n(function(global, factory) {\r\n    if(exports === 'object' && typeof module !== 'undefined')\r\n        module.exports = factory(global)\r\n    if (true)\r\n        !(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return factory(global) }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n    else\r\n        factory(global)\r\n}( typeof window !== \"undefined\" ? window : this, function(window) {\r\n    var Zepto = (function() {\r\n        var undefined, key, $, classList, emptyArray = [], concat = emptyArray.concat, filter = emptyArray.filter, slice = emptyArray.slice,\r\n            document = window.document,\r\n            elementDisplay = {}, classCache = {},\r\n            cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\r\n            fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\r\n            singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\r\n            tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\r\n            rootNodeRE = /^(?:body|html)$/i,\r\n            capitalRE = /([A-Z])/g,\r\n\r\n            // special attributes that should be get/set via method calls\r\n            methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\r\n\r\n            adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\r\n            table = document.createElement('table'),\r\n            tableRow = document.createElement('tr'),\r\n            containers = {\r\n                'tr': document.createElement('tbody'),\r\n                'tbody': table, 'thead': table, 'tfoot': table,\r\n                'td': tableRow, 'th': tableRow,\r\n                '*': document.createElement('div')\r\n            },\r\n            readyRE = /complete|loaded|interactive/,\r\n            simpleSelectorRE = /^[\\w-]*$/,\r\n            class2type = {},\r\n            toString = class2type.toString,\r\n            zepto = {},\r\n            camelize, uniq,\r\n            tempParent = document.createElement('div'),\r\n            propMap = {\r\n                'tabindex': 'tabIndex',\r\n                'readonly': 'readOnly',\r\n                'for': 'htmlFor',\r\n                'class': 'className',\r\n                'maxlength': 'maxLength',\r\n                'cellspacing': 'cellSpacing',\r\n                'cellpadding': 'cellPadding',\r\n                'rowspan': 'rowSpan',\r\n                'colspan': 'colSpan',\r\n                'usemap': 'useMap',\r\n                'frameborder': 'frameBorder',\r\n                'contenteditable': 'contentEditable'\r\n            },\r\n            isArray = Array.isArray ||\r\n                function(object){ return object instanceof Array }\r\n\r\n        zepto.matches = function(element, selector) {\r\n            if (!selector || !element || element.nodeType !== 1) return false\r\n            var matchesSelector = element.matches || element.webkitMatchesSelector ||\r\n                element.mozMatchesSelector || element.oMatchesSelector ||\r\n                element.matchesSelector\r\n            if (matchesSelector) return matchesSelector.call(element, selector)\r\n            // fall back to performing a selector:\r\n            var match, parent = element.parentNode, temp = !parent\r\n            if (temp) (parent = tempParent).appendChild(element)\r\n            match = ~zepto.qsa(parent, selector).indexOf(element)\r\n            temp && tempParent.removeChild(element)\r\n            return match\r\n        }\r\n\r\n        function type(obj) {\r\n            return obj == null ? String(obj) :\r\n            class2type[toString.call(obj)] || \"object\"\r\n        }\r\n\r\n        function isFunction(value) { return type(value) == \"function\" }\r\n        function isWindow(obj)     { return obj != null && obj == obj.window }\r\n        function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\r\n        function isObject(obj)     { return type(obj) == \"object\" }\r\n        function isPlainObject(obj) {\r\n            return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\r\n        }\r\n\r\n        function likeArray(obj) {\r\n            var length = !!obj && 'length' in obj && obj.length,\r\n                type = $.type(obj)\r\n\r\n            return 'function' != type && !isWindow(obj) && (\r\n                    'array' == type || length === 0 ||\r\n                    (typeof length == 'number' && length > 0 && (length - 1) in obj)\r\n                )\r\n        }\r\n\r\n        function compact(array) { return filter.call(array, function(item){ return item != null }) }\r\n        function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\r\n        camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\r\n        function dasherize(str) {\r\n            return str.replace(/::/g, '/')\r\n                .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\r\n                .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\r\n                .replace(/_/g, '-')\r\n                .toLowerCase()\r\n        }\r\n        uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\r\n\r\n        function classRE(name) {\r\n            return name in classCache ?\r\n                classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\r\n        }\r\n\r\n        function maybeAddPx(name, value) {\r\n            return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\r\n        }\r\n\r\n        function defaultDisplay(nodeName) {\r\n            var element, display\r\n            if (!elementDisplay[nodeName]) {\r\n                element = document.createElement(nodeName)\r\n                document.body.appendChild(element)\r\n                display = getComputedStyle(element, '').getPropertyValue(\"display\")\r\n                element.parentNode.removeChild(element)\r\n                display == \"none\" && (display = \"block\")\r\n                elementDisplay[nodeName] = display\r\n            }\r\n            return elementDisplay[nodeName]\r\n        }\r\n\r\n        function children(element) {\r\n            return 'children' in element ?\r\n                slice.call(element.children) :\r\n                $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\r\n        }\r\n\r\n        function Z(dom, selector) {\r\n            var i, len = dom ? dom.length : 0\r\n            for (i = 0; i < len; i++) this[i] = dom[i]\r\n            this.length = len\r\n            this.selector = selector || ''\r\n        }\r\n\r\n        // `$.zepto.fragment` takes a html string and an optional tag name\r\n        // to generate DOM nodes from the given html string.\r\n        // The generated DOM nodes are returned as an array.\r\n        // This function can be overridden in plugins for example to make\r\n        // it compatible with browsers that don't support the DOM fully.\r\n        zepto.fragment = function(html, name, properties) {\r\n            var dom, nodes, container\r\n\r\n            // A special case optimization for a single tag\r\n            if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\r\n\r\n            if (!dom) {\r\n                if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\r\n                if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\r\n                if (!(name in containers)) name = '*'\r\n\r\n                container = containers[name]\r\n                container.innerHTML = '' + html\r\n                dom = $.each(slice.call(container.childNodes), function(){\r\n                    container.removeChild(this)\r\n                })\r\n            }\r\n\r\n            if (isPlainObject(properties)) {\r\n                nodes = $(dom)\r\n                $.each(properties, function(key, value) {\r\n                    if (methodAttributes.indexOf(key) > -1) nodes[key](value)\r\n                    else nodes.attr(key, value)\r\n                })\r\n            }\r\n\r\n            return dom\r\n        }\r\n\r\n        // `$.zepto.Z` swaps out the prototype of the given `dom` array\r\n        // of nodes with `$.fn` and thus supplying all the Zepto functions\r\n        // to the array. This method can be overridden in plugins.\r\n        zepto.Z = function(dom, selector) {\r\n            return new Z(dom, selector)\r\n        }\r\n\r\n        // `$.zepto.isZ` should return `true` if the given object is a Zepto\r\n        // collection. This method can be overridden in plugins.\r\n        zepto.isZ = function(object) {\r\n            return object instanceof zepto.Z\r\n        }\r\n\r\n        // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\r\n        // takes a CSS selector and an optional context (and handles various\r\n        // special cases).\r\n        // This method can be overridden in plugins.\r\n        zepto.init = function(selector, context) {\r\n            var dom\r\n            // If nothing given, return an empty Zepto collection\r\n            if (!selector) return zepto.Z()\r\n            // Optimize for string selectors\r\n            else if (typeof selector == 'string') {\r\n                selector = selector.trim()\r\n                // If it's a html fragment, create nodes from it\r\n                // Note: In both Chrome 21 and Firefox 15, DOM error 12\r\n                // is thrown if the fragment doesn't begin with <\r\n                if (selector[0] == '<' && fragmentRE.test(selector))\r\n                    dom = zepto.fragment(selector, RegExp.$1, context), selector = null\r\n                // If there's a context, create a collection on that context first, and select\r\n                // nodes from there\r\n                else if (context !== undefined) return $(context).find(selector)\r\n                // If it's a CSS selector, use it to select nodes.\r\n                else dom = zepto.qsa(document, selector)\r\n            }\r\n            // If a function is given, call it when the DOM is ready\r\n            else if (isFunction(selector)) return $(document).ready(selector)\r\n            // If a Zepto collection is given, just return it\r\n            else if (zepto.isZ(selector)) return selector\r\n            else {\r\n                // normalize array if an array of nodes is given\r\n                if (isArray(selector)) dom = compact(selector)\r\n                // Wrap DOM nodes.\r\n                else if (isObject(selector))\r\n                    dom = [selector], selector = null\r\n                // If it's a html fragment, create nodes from it\r\n                else if (fragmentRE.test(selector))\r\n                    dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\r\n                // If there's a context, create a collection on that context first, and select\r\n                // nodes from there\r\n                else if (context !== undefined) return $(context).find(selector)\r\n                // And last but no least, if it's a CSS selector, use it to select nodes.\r\n                else dom = zepto.qsa(document, selector)\r\n            }\r\n            // create a new Zepto collection from the nodes found\r\n            return zepto.Z(dom, selector)\r\n        }\r\n\r\n        // `$` will be the base `Zepto` object. When calling this\r\n        // function just call `$.zepto.init, which makes the implementation\r\n        // details of selecting nodes and creating Zepto collections\r\n        // patchable in plugins.\r\n        $ = function(selector, context){\r\n            return zepto.init(selector, context)\r\n        }\r\n\r\n        function extend(target, source, deep) {\r\n            for (key in source)\r\n                if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\r\n                    if (isPlainObject(source[key]) && !isPlainObject(target[key]))\r\n                        target[key] = {}\r\n                    if (isArray(source[key]) && !isArray(target[key]))\r\n                        target[key] = []\r\n                    extend(target[key], source[key], deep)\r\n                }\r\n                else if (source[key] !== undefined) target[key] = source[key]\r\n        }\r\n\r\n        // Copy all but undefined properties from one or more\r\n        // objects to the `target` object.\r\n        $.extend = function(target){\r\n            var deep, args = slice.call(arguments, 1)\r\n            if (typeof target == 'boolean') {\r\n                deep = target\r\n                target = args.shift()\r\n            }\r\n            args.forEach(function(arg){ extend(target, arg, deep) })\r\n            return target\r\n        }\r\n\r\n        // `$.zepto.qsa` is Zepto's CSS selector implementation which\r\n        // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\r\n        // This method can be overridden in plugins.\r\n        zepto.qsa = function(element, selector){\r\n            var found,\r\n                maybeID = selector[0] == '#',\r\n                maybeClass = !maybeID && selector[0] == '.',\r\n                nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\r\n                isSimple = simpleSelectorRE.test(nameOnly)\r\n            return (element.getElementById && isSimple && maybeID) ? // Safari DocumentFragment doesn't have getElementById\r\n                ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\r\n                (element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11) ? [] :\r\n                    slice.call(\r\n                        isSimple && !maybeID && element.getElementsByClassName ? // DocumentFragment doesn't have getElementsByClassName/TagName\r\n                            maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\r\n                                element.getElementsByTagName(selector) : // Or a tag\r\n                            element.querySelectorAll(selector) // Or it's not simple, and we need to query all\r\n                    )\r\n        }\r\n\r\n        function filtered(nodes, selector) {\r\n            return selector == null ? $(nodes) : $(nodes).filter(selector)\r\n        }\r\n\r\n        $.contains = document.documentElement.contains ?\r\n            function(parent, node) {\r\n                return parent !== node && parent.contains(node)\r\n            } :\r\n            function(parent, node) {\r\n                while (node && (node = node.parentNode))\r\n                    if (node === parent) return true\r\n                return false\r\n            }\r\n\r\n        function funcArg(context, arg, idx, payload) {\r\n            return isFunction(arg) ? arg.call(context, idx, payload) : arg\r\n        }\r\n\r\n        function setAttribute(node, name, value) {\r\n            value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\r\n        }\r\n\r\n        // access className property while respecting SVGAnimatedString\r\n        function className(node, value){\r\n            var klass = node.className || '',\r\n                svg   = klass && klass.baseVal !== undefined\r\n\r\n            if (value === undefined) return svg ? klass.baseVal : klass\r\n            svg ? (klass.baseVal = value) : (node.className = value)\r\n        }\r\n\r\n        // \"true\"  => true\r\n        // \"false\" => false\r\n        // \"null\"  => null\r\n        // \"42\"    => 42\r\n        // \"42.5\"  => 42.5\r\n        // \"08\"    => \"08\"\r\n        // JSON    => parse if valid\r\n        // String  => self\r\n        function deserializeValue(value) {\r\n            try {\r\n                return value ?\r\n                value == \"true\" ||\r\n                ( value == \"false\" ? false :\r\n                    value == \"null\" ? null :\r\n                        +value + \"\" == value ? +value :\r\n                            /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\r\n                                value )\r\n                    : value\r\n            } catch(e) {\r\n                return value\r\n            }\r\n        }\r\n\r\n        $.type = type\r\n        $.isFunction = isFunction\r\n        $.isWindow = isWindow\r\n        $.isArray = isArray\r\n        $.isPlainObject = isPlainObject\r\n\r\n        $.isEmptyObject = function(obj) {\r\n            var name\r\n            for (name in obj) return false\r\n            return true\r\n        }\r\n\r\n        $.isNumeric = function(val) {\r\n            var num = Number(val), type = typeof val\r\n            return val != null && type != 'boolean' &&\r\n                (type != 'string' || val.length) &&\r\n                !isNaN(num) && isFinite(num) || false\r\n        }\r\n\r\n        $.inArray = function(elem, array, i){\r\n            return emptyArray.indexOf.call(array, elem, i)\r\n        }\r\n\r\n        $.camelCase = camelize\r\n        $.trim = function(str) {\r\n            return str == null ? \"\" : String.prototype.trim.call(str)\r\n        }\r\n\r\n        // plugin compatibility\r\n        $.uuid = 0\r\n        $.support = { }\r\n        $.expr = { }\r\n        $.noop = function() {}\r\n\r\n        $.map = function(elements, callback){\r\n            var value, values = [], i, key\r\n            if (likeArray(elements))\r\n                for (i = 0; i < elements.length; i++) {\r\n                    value = callback(elements[i], i)\r\n                    if (value != null) values.push(value)\r\n                }\r\n            else\r\n                for (key in elements) {\r\n                    value = callback(elements[key], key)\r\n                    if (value != null) values.push(value)\r\n                }\r\n            return flatten(values)\r\n        }\r\n\r\n        $.each = function(elements, callback){\r\n            var i, key\r\n            if (likeArray(elements)) {\r\n                for (i = 0; i < elements.length; i++)\r\n                    if (callback.call(elements[i], i, elements[i]) === false) return elements\r\n            } else {\r\n                for (key in elements)\r\n                    if (callback.call(elements[key], key, elements[key]) === false) return elements\r\n            }\r\n\r\n            return elements\r\n        }\r\n\r\n        $.grep = function(elements, callback){\r\n            return filter.call(elements, callback)\r\n        }\r\n\r\n        if (window.JSON) $.parseJSON = JSON.parse\r\n\r\n        // Populate the class2type map\r\n        $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\r\n            class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\r\n        })\r\n\r\n        // Define methods that will be available on all\r\n        // Zepto collections\r\n        $.fn = {\r\n            constructor: zepto.Z,\r\n            length: 0,\r\n\r\n            // Because a collection acts like an array\r\n            // copy over these useful array functions.\r\n            forEach: emptyArray.forEach,\r\n            reduce: emptyArray.reduce,\r\n            push: emptyArray.push,\r\n            sort: emptyArray.sort,\r\n            splice: emptyArray.splice,\r\n            indexOf: emptyArray.indexOf,\r\n            concat: function(){\r\n                var i, value, args = []\r\n                for (i = 0; i < arguments.length; i++) {\r\n                    value = arguments[i]\r\n                    args[i] = zepto.isZ(value) ? value.toArray() : value\r\n                }\r\n                return concat.apply(zepto.isZ(this) ? this.toArray() : this, args)\r\n            },\r\n\r\n            // `map` and `slice` in the jQuery API work differently\r\n            // from their array counterparts\r\n            map: function(fn){\r\n                return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\r\n            },\r\n            slice: function(){\r\n                return $(slice.apply(this, arguments))\r\n            },\r\n\r\n            ready: function(callback){\r\n                // need to check if document.body exists for IE as that browser reports\r\n                // document ready when it hasn't yet created the body element\r\n                if (readyRE.test(document.readyState) && document.body) callback($)\r\n                else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\r\n                return this\r\n            },\r\n            get: function(idx){\r\n                return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\r\n            },\r\n            toArray: function(){ return this.get() },\r\n            size: function(){\r\n                return this.length\r\n            },\r\n            remove: function(){\r\n                return this.each(function(){\r\n                    if (this.parentNode != null)\r\n                        this.parentNode.removeChild(this)\r\n                })\r\n            },\r\n            each: function(callback){\r\n                emptyArray.every.call(this, function(el, idx){\r\n                    return callback.call(el, idx, el) !== false\r\n                })\r\n                return this\r\n            },\r\n            filter: function(selector){\r\n                if (isFunction(selector)) return this.not(this.not(selector))\r\n                return $(filter.call(this, function(element){\r\n                    return zepto.matches(element, selector)\r\n                }))\r\n            },\r\n            add: function(selector,context){\r\n                return $(uniq(this.concat($(selector,context))))\r\n            },\r\n            is: function(selector){\r\n                return this.length > 0 && zepto.matches(this[0], selector)\r\n            },\r\n            not: function(selector){\r\n                var nodes=[]\r\n                if (isFunction(selector) && selector.call !== undefined)\r\n                    this.each(function(idx){\r\n                        if (!selector.call(this,idx)) nodes.push(this)\r\n                    })\r\n                else {\r\n                    var excludes = typeof selector == 'string' ? this.filter(selector) :\r\n                        (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\r\n                    this.forEach(function(el){\r\n                        if (excludes.indexOf(el) < 0) nodes.push(el)\r\n                    })\r\n                }\r\n                return $(nodes)\r\n            },\r\n            has: function(selector){\r\n                return this.filter(function(){\r\n                    return isObject(selector) ?\r\n                        $.contains(this, selector) :\r\n                        $(this).find(selector).size()\r\n                })\r\n            },\r\n            eq: function(idx){\r\n                return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\r\n            },\r\n            first: function(){\r\n                var el = this[0]\r\n                return el && !isObject(el) ? el : $(el)\r\n            },\r\n            last: function(){\r\n                var el = this[this.length - 1]\r\n                return el && !isObject(el) ? el : $(el)\r\n            },\r\n            find: function(selector){\r\n                var result, $this = this\r\n                if (!selector) result = $()\r\n                else if (typeof selector == 'object')\r\n                    result = $(selector).filter(function(){\r\n                        var node = this\r\n                        return emptyArray.some.call($this, function(parent){\r\n                            return $.contains(parent, node)\r\n                        })\r\n                    })\r\n                else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\r\n                else result = this.map(function(){ return zepto.qsa(this, selector) })\r\n                return result\r\n            },\r\n            closest: function(selector, context){\r\n                var nodes = [], collection = typeof selector == 'object' && $(selector)\r\n                this.each(function(_, node){\r\n                    while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\r\n                        node = node !== context && !isDocument(node) && node.parentNode\r\n                    if (node && nodes.indexOf(node) < 0) nodes.push(node)\r\n                })\r\n                return $(nodes)\r\n            },\r\n            parents: function(selector){\r\n                var ancestors = [], nodes = this\r\n                while (nodes.length > 0)\r\n                    nodes = $.map(nodes, function(node){\r\n                        if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\r\n                            ancestors.push(node)\r\n                            return node\r\n                        }\r\n                    })\r\n                return filtered(ancestors, selector)\r\n            },\r\n            parent: function(selector){\r\n                return filtered(uniq(this.pluck('parentNode')), selector)\r\n            },\r\n            children: function(selector){\r\n                return filtered(this.map(function(){ return children(this) }), selector)\r\n            },\r\n            contents: function() {\r\n                return this.map(function() { return this.contentDocument || slice.call(this.childNodes) })\r\n            },\r\n            siblings: function(selector){\r\n                return filtered(this.map(function(i, el){\r\n                    return filter.call(children(el.parentNode), function(child){ return child!==el })\r\n                }), selector)\r\n            },\r\n            empty: function(){\r\n                return this.each(function(){ this.innerHTML = '' })\r\n            },\r\n            // `pluck` is borrowed from Prototype.js\r\n            pluck: function(property){\r\n                return $.map(this, function(el){ return el[property] })\r\n            },\r\n            show: function(){\r\n                return this.each(function(){\r\n                    this.style.display == \"none\" && (this.style.display = '')\r\n                    if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\r\n                        this.style.display = defaultDisplay(this.nodeName)\r\n                })\r\n            },\r\n            replaceWith: function(newContent){\r\n                return this.before(newContent).remove()\r\n            },\r\n            wrap: function(structure){\r\n                var func = isFunction(structure)\r\n                if (this[0] && !func)\r\n                    var dom   = $(structure).get(0),\r\n                        clone = dom.parentNode || this.length > 1\r\n\r\n                return this.each(function(index){\r\n                    $(this).wrapAll(\r\n                        func ? structure.call(this, index) :\r\n                            clone ? dom.cloneNode(true) : dom\r\n                    )\r\n                })\r\n            },\r\n            wrapAll: function(structure){\r\n                if (this[0]) {\r\n                    $(this[0]).before(structure = $(structure))\r\n                    var children\r\n                    // drill down to the inmost element\r\n                    while ((children = structure.children()).length) structure = children.first()\r\n                    $(structure).append(this)\r\n                }\r\n                return this\r\n            },\r\n            wrapInner: function(structure){\r\n                var func = isFunction(structure)\r\n                return this.each(function(index){\r\n                    var self = $(this), contents = self.contents(),\r\n                        dom  = func ? structure.call(this, index) : structure\r\n                    contents.length ? contents.wrapAll(dom) : self.append(dom)\r\n                })\r\n            },\r\n            unwrap: function(){\r\n                this.parent().each(function(){\r\n                    $(this).replaceWith($(this).children())\r\n                })\r\n                return this\r\n            },\r\n            clone: function(){\r\n                return this.map(function(){ return this.cloneNode(true) })\r\n            },\r\n            hide: function(){\r\n                return this.css(\"display\", \"none\")\r\n            },\r\n            toggle: function(setting){\r\n                return this.each(function(){\r\n                    var el = $(this)\r\n                        ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\r\n                })\r\n            },\r\n            prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\r\n            next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\r\n            html: function(html){\r\n                return 0 in arguments ?\r\n                    this.each(function(idx){\r\n                        var originHtml = this.innerHTML\r\n                        $(this).empty().append( funcArg(this, html, idx, originHtml) )\r\n                    }) :\r\n                    (0 in this ? this[0].innerHTML : null)\r\n            },\r\n            text: function(text){\r\n                return 0 in arguments ?\r\n                    this.each(function(idx){\r\n                        var newText = funcArg(this, text, idx, this.textContent)\r\n                        this.textContent = newText == null ? '' : ''+newText\r\n                    }) :\r\n                    (0 in this ? this.pluck('textContent').join(\"\") : null)\r\n            },\r\n            attr: function(name, value){\r\n                var result\r\n                return (typeof name == 'string' && !(1 in arguments)) ?\r\n                    (0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined) :\r\n                    this.each(function(idx){\r\n                        if (this.nodeType !== 1) return\r\n                        if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\r\n                        else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\r\n                    })\r\n            },\r\n            removeAttr: function(name){\r\n                return this.each(function(){ this.nodeType === 1 && name.split(' ').forEach(function(attribute){\r\n                    setAttribute(this, attribute)\r\n                }, this)})\r\n            },\r\n            prop: function(name, value){\r\n                name = propMap[name] || name\r\n                return (1 in arguments) ?\r\n                    this.each(function(idx){\r\n                        this[name] = funcArg(this, value, idx, this[name])\r\n                    }) :\r\n                    (this[0] && this[0][name])\r\n            },\r\n            removeProp: function(name){\r\n                name = propMap[name] || name\r\n                return this.each(function(){ delete this[name] })\r\n            },\r\n            data: function(name, value){\r\n                var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\r\n\r\n                var data = (1 in arguments) ?\r\n                    this.attr(attrName, value) :\r\n                    this.attr(attrName)\r\n\r\n                return data !== null ? deserializeValue(data) : undefined\r\n            },\r\n            val: function(value){\r\n                if (0 in arguments) {\r\n                    if (value == null) value = \"\"\r\n                    return this.each(function(idx){\r\n                        this.value = funcArg(this, value, idx, this.value)\r\n                    })\r\n                } else {\r\n                    return this[0] && (this[0].multiple ?\r\n                            $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\r\n                            this[0].value)\r\n                }\r\n            },\r\n            offset: function(coordinates){\r\n                if (coordinates) return this.each(function(index){\r\n                    var $this = $(this),\r\n                        coords = funcArg(this, coordinates, index, $this.offset()),\r\n                        parentOffset = $this.offsetParent().offset(),\r\n                        props = {\r\n                            top:  coords.top  - parentOffset.top,\r\n                            left: coords.left - parentOffset.left\r\n                        }\r\n\r\n                    if ($this.css('position') == 'static') props['position'] = 'relative'\r\n                    $this.css(props)\r\n                })\r\n                if (!this.length) return null\r\n                if (document.documentElement !== this[0] && !$.contains(document.documentElement, this[0]))\r\n                    return {top: 0, left: 0}\r\n                var obj = this[0].getBoundingClientRect()\r\n                return {\r\n                    left: obj.left + window.pageXOffset,\r\n                    top: obj.top + window.pageYOffset,\r\n                    width: Math.round(obj.width),\r\n                    height: Math.round(obj.height)\r\n                }\r\n            },\r\n            css: function(property, value){\r\n                if (arguments.length < 2) {\r\n                    var element = this[0]\r\n                    if (typeof property == 'string') {\r\n                        if (!element) return\r\n                        return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property)\r\n                    } else if (isArray(property)) {\r\n                        if (!element) return\r\n                        var props = {}\r\n                        var computedStyle = getComputedStyle(element, '')\r\n                        $.each(property, function(_, prop){\r\n                            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\r\n                        })\r\n                        return props\r\n                    }\r\n                }\r\n\r\n                var css = ''\r\n                if (type(property) == 'string') {\r\n                    if (!value && value !== 0)\r\n                        this.each(function(){ this.style.removeProperty(dasherize(property)) })\r\n                    else\r\n                        css = dasherize(property) + \":\" + maybeAddPx(property, value)\r\n                } else {\r\n                    for (key in property)\r\n                        if (!property[key] && property[key] !== 0)\r\n                            this.each(function(){ this.style.removeProperty(dasherize(key)) })\r\n                        else\r\n                            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\r\n                }\r\n\r\n                return this.each(function(){ this.style.cssText += ';' + css })\r\n            },\r\n            index: function(element){\r\n                return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\r\n            },\r\n            hasClass: function(name){\r\n                if (!name) return false\r\n                return emptyArray.some.call(this, function(el){\r\n                    return this.test(className(el))\r\n                }, classRE(name))\r\n            },\r\n            addClass: function(name){\r\n                if (!name) return this\r\n                return this.each(function(idx){\r\n                    if (!('className' in this)) return\r\n                    classList = []\r\n                    var cls = className(this), newName = funcArg(this, name, idx, cls)\r\n                    newName.split(/\\s+/g).forEach(function(klass){\r\n                        if (!$(this).hasClass(klass)) classList.push(klass)\r\n                    }, this)\r\n                    classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\r\n                })\r\n            },\r\n            removeClass: function(name){\r\n                return this.each(function(idx){\r\n                    if (!('className' in this)) return\r\n                    if (name === undefined) return className(this, '')\r\n                    classList = className(this)\r\n                    funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\r\n                        classList = classList.replace(classRE(klass), \" \")\r\n                    })\r\n                    className(this, classList.trim())\r\n                })\r\n            },\r\n            toggleClass: function(name, when){\r\n                if (!name) return this\r\n                return this.each(function(idx){\r\n                    var $this = $(this), names = funcArg(this, name, idx, className(this))\r\n                    names.split(/\\s+/g).forEach(function(klass){\r\n                        (when === undefined ? !$this.hasClass(klass) : when) ?\r\n                            $this.addClass(klass) : $this.removeClass(klass)\r\n                    })\r\n                })\r\n            },\r\n            scrollTop: function(value){\r\n                if (!this.length) return\r\n                var hasScrollTop = 'scrollTop' in this[0]\r\n                if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\r\n                return this.each(hasScrollTop ?\r\n                    function(){ this.scrollTop = value } :\r\n                    function(){ this.scrollTo(this.scrollX, value) })\r\n            },\r\n            scrollLeft: function(value){\r\n                if (!this.length) return\r\n                var hasScrollLeft = 'scrollLeft' in this[0]\r\n                if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\r\n                return this.each(hasScrollLeft ?\r\n                    function(){ this.scrollLeft = value } :\r\n                    function(){ this.scrollTo(value, this.scrollY) })\r\n            },\r\n            position: function() {\r\n                if (!this.length) return\r\n\r\n                var elem = this[0],\r\n                    // Get *real* offsetParent\r\n                    offsetParent = this.offsetParent(),\r\n                    // Get correct offsets\r\n                    offset       = this.offset(),\r\n                    parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\r\n\r\n                // Subtract element margins\r\n                // note: when an element has margin: auto the offsetLeft and marginLeft\r\n                // are the same in Safari causing offset.left to incorrectly be 0\r\n                offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\r\n                offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\r\n\r\n                // Add offsetParent borders\r\n                parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\r\n                parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\r\n\r\n                // Subtract the two offsets\r\n                return {\r\n                    top:  offset.top  - parentOffset.top,\r\n                    left: offset.left - parentOffset.left\r\n                }\r\n            },\r\n            offsetParent: function() {\r\n                return this.map(function(){\r\n                    var parent = this.offsetParent || document.body\r\n                    while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\r\n                        parent = parent.offsetParent\r\n                    return parent\r\n                })\r\n            }\r\n        }\r\n\r\n        // for now\r\n        $.fn.detach = $.fn.remove\r\n\r\n        // Generate the `width` and `height` functions\r\n        ;['width', 'height'].forEach(function(dimension){\r\n            var dimensionProperty =\r\n                dimension.replace(/./, function(m){ return m[0].toUpperCase() })\r\n\r\n            $.fn[dimension] = function(value){\r\n                var offset, el = this[0]\r\n                if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\r\n                    isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\r\n                    (offset = this.offset()) && offset[dimension]\r\n                else return this.each(function(idx){\r\n                    el = $(this)\r\n                    el.css(dimension, funcArg(this, value, idx, el[dimension]()))\r\n                })\r\n            }\r\n        })\r\n\r\n        function traverseNode(node, fun) {\r\n            fun(node)\r\n            for (var i = 0, len = node.childNodes.length; i < len; i++)\r\n                traverseNode(node.childNodes[i], fun)\r\n        }\r\n\r\n        // Generate the `after`, `prepend`, `before`, `append`,\r\n        // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\r\n        adjacencyOperators.forEach(function(operator, operatorIndex) {\r\n            var inside = operatorIndex % 2 //=> prepend, append\r\n\r\n            $.fn[operator] = function(){\r\n                // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\r\n                var argType, nodes = $.map(arguments, function(arg) {\r\n                        var arr = []\r\n                        argType = type(arg)\r\n                        if (argType == \"array\") {\r\n                            arg.forEach(function(el) {\r\n                                if (el.nodeType !== undefined) return arr.push(el)\r\n                                else if ($.zepto.isZ(el)) return arr = arr.concat(el.get())\r\n                                arr = arr.concat(zepto.fragment(el))\r\n                            })\r\n                            return arr\r\n                        }\r\n                        return argType == \"object\" || arg == null ?\r\n                            arg : zepto.fragment(arg)\r\n                    }),\r\n                    parent, copyByClone = this.length > 1\r\n                if (nodes.length < 1) return this\r\n\r\n                return this.each(function(_, target){\r\n                    parent = inside ? target : target.parentNode\r\n\r\n                    // convert all methods to a \"before\" operation\r\n                    target = operatorIndex == 0 ? target.nextSibling :\r\n                        operatorIndex == 1 ? target.firstChild :\r\n                            operatorIndex == 2 ? target :\r\n                                null\r\n\r\n                    var parentInDocument = $.contains(document.documentElement, parent)\r\n\r\n                    nodes.forEach(function(node){\r\n                        if (copyByClone) node = node.cloneNode(true)\r\n                        else if (!parent) return $(node).remove()\r\n\r\n                        parent.insertBefore(node, target)\r\n                        if (parentInDocument) traverseNode(node, function(el){\r\n                            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\r\n                                (!el.type || el.type === 'text/javascript') && !el.src){\r\n                                var target = el.ownerDocument ? el.ownerDocument.defaultView : window\r\n                                target['eval'].call(target, el.innerHTML)\r\n                            }\r\n                        })\r\n                    })\r\n                })\r\n            }\r\n\r\n            // after    => insertAfter\r\n            // prepend  => prependTo\r\n            // before   => insertBefore\r\n            // append   => appendTo\r\n            $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\r\n                $(html)[operator](this)\r\n                return this\r\n            }\r\n        })\r\n\r\n        zepto.Z.prototype = Z.prototype = $.fn\r\n\r\n        // Export internal API functions in the `$.zepto` namespace\r\n        zepto.uniq = uniq\r\n        zepto.deserializeValue = deserializeValue\r\n        $.zepto = zepto\r\n\r\n        return $\r\n    })()\r\n\r\n    window.Zepto = Zepto\r\n    window.$ === undefined && (window.$ = Zepto)\r\n\r\n    ;(function($){\r\n        var _zid = 1, undefined,\r\n            slice = Array.prototype.slice,\r\n            isFunction = $.isFunction,\r\n            isString = function(obj){ return typeof obj == 'string' },\r\n            handlers = {},\r\n            specialEvents={},\r\n            focusinSupported = 'onfocusin' in window,\r\n            focus = { focus: 'focusin', blur: 'focusout' },\r\n            hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\r\n\r\n        specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\r\n\r\n        function zid(element) {\r\n            return element._zid || (element._zid = _zid++)\r\n        }\r\n        function findHandlers(element, event, fn, selector) {\r\n            event = parse(event)\r\n            if (event.ns) var matcher = matcherFor(event.ns)\r\n            return (handlers[zid(element)] || []).filter(function(handler) {\r\n                return handler\r\n                    && (!event.e  || handler.e == event.e)\r\n                    && (!event.ns || matcher.test(handler.ns))\r\n                    && (!fn       || zid(handler.fn) === zid(fn))\r\n                    && (!selector || handler.sel == selector)\r\n            })\r\n        }\r\n        function parse(event) {\r\n            var parts = ('' + event).split('.')\r\n            return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\r\n        }\r\n        function matcherFor(ns) {\r\n            return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\r\n        }\r\n\r\n        function eventCapture(handler, captureSetting) {\r\n            return handler.del &&\r\n                (!focusinSupported && (handler.e in focus)) ||\r\n                !!captureSetting\r\n        }\r\n\r\n        function realEvent(type) {\r\n            return hover[type] || (focusinSupported && focus[type]) || type\r\n        }\r\n\r\n        function add(element, events, fn, data, selector, delegator, capture){\r\n            var id = zid(element), set = (handlers[id] || (handlers[id] = []))\r\n            events.split(/\\s/).forEach(function(event){\r\n                if (event == 'ready') return $(document).ready(fn)\r\n                var handler   = parse(event)\r\n                handler.fn    = fn\r\n                handler.sel   = selector\r\n                // emulate mouseenter, mouseleave\r\n                if (handler.e in hover) fn = function(e){\r\n                    var related = e.relatedTarget\r\n                    if (!related || (related !== this && !$.contains(this, related)))\r\n                        return handler.fn.apply(this, arguments)\r\n                }\r\n                handler.del   = delegator\r\n                var callback  = delegator || fn\r\n                handler.proxy = function(e){\r\n                    e = compatible(e)\r\n                    if (e.isImmediatePropagationStopped()) return\r\n                    e.data = data\r\n                    var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\r\n                    if (result === false) e.preventDefault(), e.stopPropagation()\r\n                    return result\r\n                }\r\n                handler.i = set.length\r\n                set.push(handler)\r\n                if ('addEventListener' in element)\r\n                    element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\r\n            })\r\n        }\r\n        function remove(element, events, fn, selector, capture){\r\n            var id = zid(element)\r\n                ;(events || '').split(/\\s/).forEach(function(event){\r\n                findHandlers(element, event, fn, selector).forEach(function(handler){\r\n                    delete handlers[id][handler.i]\r\n                    if ('removeEventListener' in element)\r\n                        element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\r\n                })\r\n            })\r\n        }\r\n\r\n        $.event = { add: add, remove: remove }\r\n\r\n        $.proxy = function(fn, context) {\r\n            var args = (2 in arguments) && slice.call(arguments, 2)\r\n            if (isFunction(fn)) {\r\n                var proxyFn = function(){ return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\r\n                proxyFn._zid = zid(fn)\r\n                return proxyFn\r\n            } else if (isString(context)) {\r\n                if (args) {\r\n                    args.unshift(fn[context], fn)\r\n                    return $.proxy.apply(null, args)\r\n                } else {\r\n                    return $.proxy(fn[context], fn)\r\n                }\r\n            } else {\r\n                throw new TypeError(\"expected function\")\r\n            }\r\n        }\r\n\r\n        $.fn.bind = function(event, data, callback){\r\n            return this.on(event, data, callback)\r\n        }\r\n        $.fn.unbind = function(event, callback){\r\n            return this.off(event, callback)\r\n        }\r\n        $.fn.one = function(event, selector, data, callback){\r\n            return this.on(event, selector, data, callback, 1)\r\n        }\r\n\r\n        var returnTrue = function(){return true},\r\n            returnFalse = function(){return false},\r\n            ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\r\n            eventMethods = {\r\n                preventDefault: 'isDefaultPrevented',\r\n                stopImmediatePropagation: 'isImmediatePropagationStopped',\r\n                stopPropagation: 'isPropagationStopped'\r\n            }\r\n\r\n        function compatible(event, source) {\r\n            if (source || !event.isDefaultPrevented) {\r\n                source || (source = event)\r\n\r\n                $.each(eventMethods, function(name, predicate) {\r\n                    var sourceMethod = source[name]\r\n                    event[name] = function(){\r\n                        this[predicate] = returnTrue\r\n                        return sourceMethod && sourceMethod.apply(source, arguments)\r\n                    }\r\n                    event[predicate] = returnFalse\r\n                })\r\n\r\n                event.timeStamp || (event.timeStamp = Date.now())\r\n\r\n                if (source.defaultPrevented !== undefined ? source.defaultPrevented :\r\n                        'returnValue' in source ? source.returnValue === false :\r\n                        source.getPreventDefault && source.getPreventDefault())\r\n                    event.isDefaultPrevented = returnTrue\r\n            }\r\n            return event\r\n        }\r\n\r\n        function createProxy(event) {\r\n            var key, proxy = { originalEvent: event }\r\n            for (key in event)\r\n                if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\r\n\r\n            return compatible(proxy, event)\r\n        }\r\n\r\n        $.fn.delegate = function(selector, event, callback){\r\n            return this.on(event, selector, callback)\r\n        }\r\n        $.fn.undelegate = function(selector, event, callback){\r\n            return this.off(event, selector, callback)\r\n        }\r\n\r\n        $.fn.live = function(event, callback){\r\n            $(document.body).delegate(this.selector, event, callback)\r\n            return this\r\n        }\r\n        $.fn.die = function(event, callback){\r\n            $(document.body).undelegate(this.selector, event, callback)\r\n            return this\r\n        }\r\n\r\n        $.fn.on = function(event, selector, data, callback, one){\r\n            var autoRemove, delegator, $this = this\r\n            if (event && !isString(event)) {\r\n                $.each(event, function(type, fn){\r\n                    $this.on(type, selector, data, fn, one)\r\n                })\r\n                return $this\r\n            }\r\n\r\n            if (!isString(selector) && !isFunction(callback) && callback !== false)\r\n                callback = data, data = selector, selector = undefined\r\n            if (callback === undefined || data === false)\r\n                callback = data, data = undefined\r\n\r\n            if (callback === false) callback = returnFalse\r\n\r\n            return $this.each(function(_, element){\r\n                if (one) autoRemove = function(e){\r\n                    remove(element, e.type, callback)\r\n                    return callback.apply(this, arguments)\r\n                }\r\n\r\n                if (selector) delegator = function(e){\r\n                    var evt, match = $(e.target).closest(selector, element).get(0)\r\n                    if (match && match !== element) {\r\n                        evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\r\n                        return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\r\n                    }\r\n                }\r\n\r\n                add(element, event, callback, data, selector, delegator || autoRemove)\r\n            })\r\n        }\r\n        $.fn.off = function(event, selector, callback){\r\n            var $this = this\r\n            if (event && !isString(event)) {\r\n                $.each(event, function(type, fn){\r\n                    $this.off(type, selector, fn)\r\n                })\r\n                return $this\r\n            }\r\n\r\n            if (!isString(selector) && !isFunction(callback) && callback !== false)\r\n                callback = selector, selector = undefined\r\n\r\n            if (callback === false) callback = returnFalse\r\n\r\n            return $this.each(function(){\r\n                remove(this, event, callback, selector)\r\n            })\r\n        }\r\n\r\n        $.fn.trigger = function(event, args){\r\n            event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\r\n            event._args = args\r\n            return this.each(function(){\r\n                // handle focus(), blur() by calling them directly\r\n                if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\r\n                // items in the collection might not be DOM elements\r\n                else if ('dispatchEvent' in this) this.dispatchEvent(event)\r\n                else $(this).triggerHandler(event, args)\r\n            })\r\n        }\r\n\r\n        // triggers event handlers on current element just as if an event occurred,\r\n        // doesn't trigger an actual event, doesn't bubble\r\n        $.fn.triggerHandler = function(event, args){\r\n            var e, result\r\n            this.each(function(i, element){\r\n                e = createProxy(isString(event) ? $.Event(event) : event)\r\n                e._args = args\r\n                e.target = element\r\n                $.each(findHandlers(element, event.type || event), function(i, handler){\r\n                    result = handler.proxy(e)\r\n                    if (e.isImmediatePropagationStopped()) return false\r\n                })\r\n            })\r\n            return result\r\n        }\r\n\r\n        // shortcut methods for `.bind(event, fn)` for each event type\r\n        ;('focusin focusout focus blur load resize scroll unload click dblclick '+\r\n        'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\r\n        'change select keydown keypress keyup error').split(' ').forEach(function(event) {\r\n            $.fn[event] = function(callback) {\r\n                return (0 in arguments) ?\r\n                    this.bind(event, callback) :\r\n                    this.trigger(event)\r\n            }\r\n        })\r\n\r\n        $.Event = function(type, props) {\r\n            if (!isString(type)) props = type, type = props.type\r\n            var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\r\n            if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\r\n            event.initEvent(type, bubbles, true)\r\n            return compatible(event)\r\n        }\r\n\r\n    })(Zepto)\r\n\r\n    ;(function($){\r\n        var jsonpID = +new Date(),\r\n            document = window.document,\r\n            key,\r\n            name,\r\n            rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\r\n            scriptTypeRE = /^(?:text|application)\\/javascript/i,\r\n            xmlTypeRE = /^(?:text|application)\\/xml/i,\r\n            jsonType = 'application/json',\r\n            htmlType = 'text/html',\r\n            blankRE = /^\\s*$/,\r\n            originAnchor = document.createElement('a')\r\n\r\n        originAnchor.href = window.location.href\r\n\r\n        // trigger a custom event and return false if it was cancelled\r\n        function triggerAndReturn(context, eventName, data) {\r\n            var event = $.Event(eventName)\r\n            $(context).trigger(event, data)\r\n            return !event.isDefaultPrevented()\r\n        }\r\n\r\n        // trigger an Ajax \"global\" event\r\n        function triggerGlobal(settings, context, eventName, data) {\r\n            if (settings.global) return triggerAndReturn(context || document, eventName, data)\r\n        }\r\n\r\n        // Number of active Ajax requests\r\n        $.active = 0\r\n\r\n        function ajaxStart(settings) {\r\n            if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\r\n        }\r\n        function ajaxStop(settings) {\r\n            if (settings.global && !(--$.active)) triggerGlobal(settings, null, 'ajaxStop')\r\n        }\r\n\r\n        // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\r\n        function ajaxBeforeSend(xhr, settings) {\r\n            var context = settings.context\r\n            if (settings.beforeSend.call(context, xhr, settings) === false ||\r\n                triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\r\n                return false\r\n\r\n            triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\r\n        }\r\n        function ajaxSuccess(data, xhr, settings, deferred) {\r\n            var context = settings.context, status = 'success'\r\n            settings.success.call(context, data, status, xhr)\r\n            if (deferred) deferred.resolveWith(context, [data, status, xhr])\r\n            triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\r\n            ajaxComplete(status, xhr, settings)\r\n        }\r\n        // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\r\n        function ajaxError(error, type, xhr, settings, deferred) {\r\n            var context = settings.context\r\n            settings.error.call(context, xhr, type, error)\r\n            if (deferred) deferred.rejectWith(context, [xhr, type, error])\r\n            triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type])\r\n            ajaxComplete(type, xhr, settings)\r\n        }\r\n        // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\r\n        function ajaxComplete(status, xhr, settings) {\r\n            var context = settings.context\r\n            settings.complete.call(context, xhr, status)\r\n            triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\r\n            ajaxStop(settings)\r\n        }\r\n\r\n        function ajaxDataFilter(data, type, settings) {\r\n            if (settings.dataFilter == empty) return data\r\n            var context = settings.context\r\n            return settings.dataFilter.call(context, data, type)\r\n        }\r\n\r\n        // Empty function, used as default callback\r\n        function empty() {}\r\n\r\n        $.ajaxJSONP = function(options, deferred){\r\n            if (!('type' in options)) return $.ajax(options)\r\n\r\n            var _callbackName = options.jsonpCallback,\r\n                callbackName = ($.isFunction(_callbackName) ?\r\n                        _callbackName() : _callbackName) || ('Zepto' + (jsonpID++)),\r\n                script = document.createElement('script'),\r\n                originalCallback = window[callbackName],\r\n                responseData,\r\n                abort = function(errorType) {\r\n                    $(script).triggerHandler('error', errorType || 'abort')\r\n                },\r\n                xhr = { abort: abort }, abortTimeout\r\n\r\n            if (deferred) deferred.promise(xhr)\r\n\r\n            $(script).on('load error', function(e, errorType){\r\n                clearTimeout(abortTimeout)\r\n                $(script).off().remove()\r\n\r\n                if (e.type == 'error' || !responseData) {\r\n                    ajaxError(null, errorType || 'error', xhr, options, deferred)\r\n                } else {\r\n                    ajaxSuccess(responseData[0], xhr, options, deferred)\r\n                }\r\n\r\n                window[callbackName] = originalCallback\r\n                if (responseData && $.isFunction(originalCallback))\r\n                    originalCallback(responseData[0])\r\n\r\n                originalCallback = responseData = undefined\r\n            })\r\n\r\n            if (ajaxBeforeSend(xhr, options) === false) {\r\n                abort('abort')\r\n                return xhr\r\n            }\r\n\r\n            window[callbackName] = function(){\r\n                responseData = arguments\r\n            }\r\n\r\n            script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName)\r\n            document.head.appendChild(script)\r\n\r\n            if (options.timeout > 0) abortTimeout = setTimeout(function(){\r\n                abort('timeout')\r\n            }, options.timeout)\r\n\r\n            return xhr\r\n        }\r\n\r\n        $.ajaxSettings = {\r\n            // Default type of request\r\n            type: 'GET',\r\n            // Callback that is executed before request\r\n            beforeSend: empty,\r\n            // Callback that is executed if the request succeeds\r\n            success: empty,\r\n            // Callback that is executed the the server drops error\r\n            error: empty,\r\n            // Callback that is executed on request complete (both: error and success)\r\n            complete: empty,\r\n            // The context for the callbacks\r\n            context: null,\r\n            // Whether to trigger \"global\" Ajax events\r\n            global: true,\r\n            // Transport\r\n            xhr: function () {\r\n                return new window.XMLHttpRequest()\r\n            },\r\n            // MIME types mapping\r\n            // IIS returns Javascript as \"application/x-javascript\"\r\n            accepts: {\r\n                script: 'text/javascript, application/javascript, application/x-javascript',\r\n                json:   jsonType,\r\n                xml:    'application/xml, text/xml',\r\n                html:   htmlType,\r\n                text:   'text/plain'\r\n            },\r\n            // Whether the request is to another domain\r\n            crossDomain: false,\r\n            // Default timeout\r\n            timeout: 0,\r\n            // Whether data should be serialized to string\r\n            processData: true,\r\n            // Whether the browser should be allowed to cache GET responses\r\n            cache: true,\r\n            //Used to handle the raw response data of XMLHttpRequest.\r\n            //This is a pre-filtering function to sanitize the response.\r\n            //The sanitized response should be returned\r\n            dataFilter: empty\r\n        }\r\n\r\n        function mimeToDataType(mime) {\r\n            if (mime) mime = mime.split(';', 2)[0]\r\n            return mime && ( mime == htmlType ? 'html' :\r\n                    mime == jsonType ? 'json' :\r\n                        scriptTypeRE.test(mime) ? 'script' :\r\n                        xmlTypeRE.test(mime) && 'xml' ) || 'text'\r\n        }\r\n\r\n        function appendQuery(url, query) {\r\n            if (query == '') return url\r\n            return (url + '&' + query).replace(/[&?]{1,2}/, '?')\r\n        }\r\n\r\n        // serialize payload and append it to the URL for GET requests\r\n        function serializeData(options) {\r\n            if (options.processData && options.data && $.type(options.data) != \"string\")\r\n                options.data = $.param(options.data, options.traditional)\r\n            if (options.data && (!options.type || options.type.toUpperCase() == 'GET' || 'jsonp' == options.dataType))\r\n                options.url = appendQuery(options.url, options.data), options.data = undefined\r\n        }\r\n\r\n        $.ajax = function(options){\r\n            var settings = $.extend({}, options || {}),\r\n                deferred = $.Deferred && $.Deferred(),\r\n                urlAnchor, hashIndex\r\n            for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key]\r\n\r\n            ajaxStart(settings)\r\n\r\n            if (!settings.crossDomain) {\r\n                urlAnchor = document.createElement('a')\r\n                urlAnchor.href = settings.url\r\n                // cleans up URL for .href (IE only), see https://github.com/madrobby/zepto/pull/1049\r\n                urlAnchor.href = urlAnchor.href\r\n                settings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host)\r\n            }\r\n\r\n            if (!settings.url) settings.url = window.location.toString()\r\n            if ((hashIndex = settings.url.indexOf('#')) > -1) settings.url = settings.url.slice(0, hashIndex)\r\n            serializeData(settings)\r\n\r\n            var dataType = settings.dataType, hasPlaceholder = /\\?.+=\\?/.test(settings.url)\r\n            if (hasPlaceholder) dataType = 'jsonp'\r\n\r\n            if (settings.cache === false || (\r\n                    (!options || options.cache !== true) &&\r\n                    ('script' == dataType || 'jsonp' == dataType)\r\n                ))\r\n                settings.url = appendQuery(settings.url, '_=' + Date.now())\r\n\r\n            if ('jsonp' == dataType) {\r\n                if (!hasPlaceholder)\r\n                    settings.url = appendQuery(settings.url,\r\n                        settings.jsonp ? (settings.jsonp + '=?') : settings.jsonp === false ? '' : 'callback=?')\r\n                return $.ajaxJSONP(settings, deferred)\r\n            }\r\n\r\n            var mime = settings.accepts[dataType],\r\n                headers = { },\r\n                setHeader = function(name, value) { headers[name.toLowerCase()] = [name, value] },\r\n                protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\r\n                xhr = settings.xhr(),\r\n                nativeSetHeader = xhr.setRequestHeader,\r\n                abortTimeout\r\n\r\n            if (deferred) deferred.promise(xhr)\r\n\r\n            if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest')\r\n            setHeader('Accept', mime || '*/*')\r\n            if (mime = settings.mimeType || mime) {\r\n                if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\r\n                xhr.overrideMimeType && xhr.overrideMimeType(mime)\r\n            }\r\n            if (settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET'))\r\n                setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded')\r\n\r\n            if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name])\r\n            xhr.setRequestHeader = setHeader\r\n\r\n            xhr.onreadystatechange = function(){\r\n                if (xhr.readyState == 4) {\r\n                    xhr.onreadystatechange = empty\r\n                    clearTimeout(abortTimeout)\r\n                    var result, error = false\r\n                    if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\r\n                        dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'))\r\n\r\n                        if (xhr.responseType == 'arraybuffer' || xhr.responseType == 'blob')\r\n                            result = xhr.response\r\n                        else {\r\n                            result = xhr.responseText\r\n\r\n                            try {\r\n                                // http://perfectionkills.com/global-eval-what-are-the-options/\r\n                                // sanitize response accordingly if data filter callback provided\r\n                                result = ajaxDataFilter(result, dataType, settings)\r\n                                if (dataType == 'script')    (1,eval)(result)\r\n                                else if (dataType == 'xml')  result = xhr.responseXML\r\n                                else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result)\r\n                            } catch (e) { error = e }\r\n\r\n                            if (error) return ajaxError(error, 'parsererror', xhr, settings, deferred)\r\n                        }\r\n\r\n                        ajaxSuccess(result, xhr, settings, deferred)\r\n                    } else {\r\n                        ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred)\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (ajaxBeforeSend(xhr, settings) === false) {\r\n                xhr.abort()\r\n                ajaxError(null, 'abort', xhr, settings, deferred)\r\n                return xhr\r\n            }\r\n\r\n            var async = 'async' in settings ? settings.async : true\r\n            xhr.open(settings.type, settings.url, async, settings.username, settings.password)\r\n\r\n            if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name]\r\n\r\n            for (name in headers) nativeSetHeader.apply(xhr, headers[name])\r\n\r\n            if (settings.timeout > 0) abortTimeout = setTimeout(function(){\r\n                xhr.onreadystatechange = empty\r\n                xhr.abort()\r\n                ajaxError(null, 'timeout', xhr, settings, deferred)\r\n            }, settings.timeout)\r\n\r\n            // avoid sending empty string (#319)\r\n            xhr.send(settings.data ? settings.data : null)\r\n            return xhr\r\n        }\r\n\r\n        // handle optional data/success arguments\r\n        function parseArguments(url, data, success, dataType) {\r\n            if ($.isFunction(data)) dataType = success, success = data, data = undefined\r\n            if (!$.isFunction(success)) dataType = success, success = undefined\r\n            return {\r\n                url: url\r\n                , data: data\r\n                , success: success\r\n                , dataType: dataType\r\n            }\r\n        }\r\n\r\n        $.get = function(/* url, data, success, dataType */){\r\n            return $.ajax(parseArguments.apply(null, arguments))\r\n        }\r\n\r\n        $.post = function(/* url, data, success, dataType */){\r\n            var options = parseArguments.apply(null, arguments)\r\n            options.type = 'POST'\r\n            return $.ajax(options)\r\n        }\r\n\r\n        $.getJSON = function(/* url, data, success */){\r\n            var options = parseArguments.apply(null, arguments)\r\n            options.dataType = 'json'\r\n            return $.ajax(options)\r\n        }\r\n\r\n        $.fn.load = function(url, data, success){\r\n            if (!this.length) return this\r\n            var self = this, parts = url.split(/\\s/), selector,\r\n                options = parseArguments(url, data, success),\r\n                callback = options.success\r\n            if (parts.length > 1) options.url = parts[0], selector = parts[1]\r\n            options.success = function(response){\r\n                self.html(selector ?\r\n                    $('<div>').html(response.replace(rscript, \"\")).find(selector)\r\n                    : response)\r\n                callback && callback.apply(self, arguments)\r\n            }\r\n            $.ajax(options)\r\n            return this\r\n        }\r\n\r\n        var escape = encodeURIComponent\r\n\r\n        function serialize(params, obj, traditional, scope){\r\n            var type, array = $.isArray(obj), hash = $.isPlainObject(obj)\r\n            $.each(obj, function(key, value) {\r\n                type = $.type(value)\r\n                if (scope) key = traditional ? scope :\r\n                scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'\r\n                // handle data in serializeArray() format\r\n                if (!scope && array) params.add(value.name, value.value)\r\n                // recurse into nested objects\r\n                else if (type == \"array\" || (!traditional && type == \"object\"))\r\n                    serialize(params, value, traditional, key)\r\n                else params.add(key, value)\r\n            })\r\n        }\r\n\r\n        $.param = function(obj, traditional){\r\n            var params = []\r\n            params.add = function(key, value) {\r\n                if ($.isFunction(value)) value = value()\r\n                if (value == null) value = \"\"\r\n                this.push(escape(key) + '=' + escape(value))\r\n            }\r\n            serialize(params, obj, traditional)\r\n            return params.join('&').replace(/%20/g, '+')\r\n        }\r\n    })(Zepto)\r\n\r\n    ;(function($){\r\n        $.fn.serializeArray = function() {\r\n            var name, type, result = [],\r\n                add = function(value) {\r\n                    if (value.forEach) return value.forEach(add)\r\n                    result.push({ name: name, value: value })\r\n                }\r\n            if (this[0]) $.each(this[0].elements, function(_, field){\r\n                type = field.type, name = field.name\r\n                if (name && field.nodeName.toLowerCase() != 'fieldset' &&\r\n                    !field.disabled && type != 'submit' && type != 'reset' && type != 'button' && type != 'file' &&\r\n                    ((type != 'radio' && type != 'checkbox') || field.checked))\r\n                    add($(field).val())\r\n            })\r\n            return result\r\n        }\r\n\r\n        $.fn.serialize = function(){\r\n            var result = []\r\n            this.serializeArray().forEach(function(elm){\r\n                result.push(encodeURIComponent(elm.name) + '=' + encodeURIComponent(elm.value))\r\n            })\r\n            return result.join('&')\r\n        }\r\n\r\n        $.fn.submit = function(callback) {\r\n            if (0 in arguments) this.bind('submit', callback)\r\n            else if (this.length) {\r\n                var event = $.Event('submit')\r\n                this.eq(0).trigger(event)\r\n                if (!event.isDefaultPrevented()) this.get(0).submit()\r\n            }\r\n            return this\r\n        }\r\n\r\n    })(Zepto)\r\n\r\n    ;(function(){\r\n        // getComputedStyle shouldn't freak out when called\r\n        // without a valid element as argument\r\n        try {\r\n            getComputedStyle(undefined)\r\n        } catch(e) {\r\n            var nativeGetComputedStyle = getComputedStyle\r\n            window.getComputedStyle = function(element, pseudoElement){\r\n                try {\r\n                    return nativeGetComputedStyle(element, pseudoElement)\r\n                } catch(e) {\r\n                    return null\r\n                }\r\n            }\r\n        }\r\n    })()\r\n    return Zepto\r\n}))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+Ly4xLjIuMEBuLXplcHRvL24temVwdG8uanM/OTI3NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQTJCLHlCQUF5QjtBQUNwRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixpQkFBaUI7QUFDaEQseUJBQXlCLDRHQUE0RztBQUNySTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGlDQUFpQzs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0NBQW9DO0FBQ3BDLG9DQUFvQztBQUNwQyxvQ0FBb0M7QUFDcEMsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUMsMENBQTBDLHNCQUFzQjtBQUNqRyxpQ0FBaUM7QUFDakMsaUNBQWlDLG9EQUFvRCxzQ0FBc0M7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsK0NBQStDLG9DQUFvQzs7QUFFbEg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQs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QUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSzs7QUFFTCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLHVCQUF1QixlQUFlOztBQUV0Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxREFBcUQsSUFBSTtBQUN6RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNDQUFzQyxlQUFlO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQixFQUFFO0FBQzdCLG1EQUFtRCw4Q0FBOEM7QUFDakc7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFlBQVk7O0FBRXpDO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDJCQUEyQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7O0FBRUwsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQyIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogWmVwdG8gdjEuMi4wIC0gemVwdG8gZXZlbnQgYWpheCBmb3JtIGllIC0gemVwdG9qcy5jb20vbGljZW5zZSAqL1xyXG4oZnVuY3Rpb24oZ2xvYmFsLCBmYWN0b3J5KSB7XHJcbiAgICBpZihleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJylcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoZ2xvYmFsKVxyXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcclxuICAgICAgICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBmYWN0b3J5KGdsb2JhbCkgfSlcclxuICAgIGVsc2VcclxuICAgICAgICBmYWN0b3J5KGdsb2JhbClcclxufSggdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKHdpbmRvdykge1xyXG4gICAgdmFyIFplcHRvID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB1bmRlZmluZWQsIGtleSwgJCwgY2xhc3NMaXN0LCBlbXB0eUFycmF5ID0gW10sIGNvbmNhdCA9IGVtcHR5QXJyYXkuY29uY2F0LCBmaWx0ZXIgPSBlbXB0eUFycmF5LmZpbHRlciwgc2xpY2UgPSBlbXB0eUFycmF5LnNsaWNlLFxyXG4gICAgICAgICAgICBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudCxcclxuICAgICAgICAgICAgZWxlbWVudERpc3BsYXkgPSB7fSwgY2xhc3NDYWNoZSA9IHt9LFxyXG4gICAgICAgICAgICBjc3NOdW1iZXIgPSB7ICdjb2x1bW4tY291bnQnOiAxLCAnY29sdW1ucyc6IDEsICdmb250LXdlaWdodCc6IDEsICdsaW5lLWhlaWdodCc6IDEsJ29wYWNpdHknOiAxLCAnei1pbmRleCc6IDEsICd6b29tJzogMSB9LFxyXG4gICAgICAgICAgICBmcmFnbWVudFJFID0gL15cXHMqPChcXHcrfCEpW14+XSo+LyxcclxuICAgICAgICAgICAgc2luZ2xlVGFnUkUgPSAvXjwoXFx3KylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8sXHJcbiAgICAgICAgICAgIHRhZ0V4cGFuZGVyUkUgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Ol0rKVtePl0qKVxcLz4vaWcsXHJcbiAgICAgICAgICAgIHJvb3ROb2RlUkUgPSAvXig/OmJvZHl8aHRtbCkkL2ksXHJcbiAgICAgICAgICAgIGNhcGl0YWxSRSA9IC8oW0EtWl0pL2csXHJcblxyXG4gICAgICAgICAgICAvLyBzcGVjaWFsIGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYmUgZ2V0L3NldCB2aWEgbWV0aG9kIGNhbGxzXHJcbiAgICAgICAgICAgIG1ldGhvZEF0dHJpYnV0ZXMgPSBbJ3ZhbCcsICdjc3MnLCAnaHRtbCcsICd0ZXh0JywgJ2RhdGEnLCAnd2lkdGgnLCAnaGVpZ2h0JywgJ29mZnNldCddLFxyXG5cclxuICAgICAgICAgICAgYWRqYWNlbmN5T3BlcmF0b3JzID0gWyAnYWZ0ZXInLCAncHJlcGVuZCcsICdiZWZvcmUnLCAnYXBwZW5kJyBdLFxyXG4gICAgICAgICAgICB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyksXHJcbiAgICAgICAgICAgIHRhYmxlUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKSxcclxuICAgICAgICAgICAgY29udGFpbmVycyA9IHtcclxuICAgICAgICAgICAgICAgICd0cic6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rib2R5JyksXHJcbiAgICAgICAgICAgICAgICAndGJvZHknOiB0YWJsZSwgJ3RoZWFkJzogdGFibGUsICd0Zm9vdCc6IHRhYmxlLFxyXG4gICAgICAgICAgICAgICAgJ3RkJzogdGFibGVSb3csICd0aCc6IHRhYmxlUm93LFxyXG4gICAgICAgICAgICAgICAgJyonOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZWFkeVJFID0gL2NvbXBsZXRlfGxvYWRlZHxpbnRlcmFjdGl2ZS8sXHJcbiAgICAgICAgICAgIHNpbXBsZVNlbGVjdG9yUkUgPSAvXltcXHctXSokLyxcclxuICAgICAgICAgICAgY2xhc3MydHlwZSA9IHt9LFxyXG4gICAgICAgICAgICB0b1N0cmluZyA9IGNsYXNzMnR5cGUudG9TdHJpbmcsXHJcbiAgICAgICAgICAgIHplcHRvID0ge30sXHJcbiAgICAgICAgICAgIGNhbWVsaXplLCB1bmlxLFxyXG4gICAgICAgICAgICB0ZW1wUGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXHJcbiAgICAgICAgICAgIHByb3BNYXAgPSB7XHJcbiAgICAgICAgICAgICAgICAndGFiaW5kZXgnOiAndGFiSW5kZXgnLFxyXG4gICAgICAgICAgICAgICAgJ3JlYWRvbmx5JzogJ3JlYWRPbmx5JyxcclxuICAgICAgICAgICAgICAgICdmb3InOiAnaHRtbEZvcicsXHJcbiAgICAgICAgICAgICAgICAnY2xhc3MnOiAnY2xhc3NOYW1lJyxcclxuICAgICAgICAgICAgICAgICdtYXhsZW5ndGgnOiAnbWF4TGVuZ3RoJyxcclxuICAgICAgICAgICAgICAgICdjZWxsc3BhY2luZyc6ICdjZWxsU3BhY2luZycsXHJcbiAgICAgICAgICAgICAgICAnY2VsbHBhZGRpbmcnOiAnY2VsbFBhZGRpbmcnLFxyXG4gICAgICAgICAgICAgICAgJ3Jvd3NwYW4nOiAncm93U3BhbicsXHJcbiAgICAgICAgICAgICAgICAnY29sc3Bhbic6ICdjb2xTcGFuJyxcclxuICAgICAgICAgICAgICAgICd1c2VtYXAnOiAndXNlTWFwJyxcclxuICAgICAgICAgICAgICAgICdmcmFtZWJvcmRlcic6ICdmcmFtZUJvcmRlcicsXHJcbiAgICAgICAgICAgICAgICAnY29udGVudGVkaXRhYmxlJzogJ2NvbnRlbnRFZGl0YWJsZSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKG9iamVjdCl7IHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBBcnJheSB9XHJcblxyXG4gICAgICAgIHplcHRvLm1hdGNoZXMgPSBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3Rvcikge1xyXG4gICAgICAgICAgICBpZiAoIXNlbGVjdG9yIHx8ICFlbGVtZW50IHx8IGVsZW1lbnQubm9kZVR5cGUgIT09IDEpIHJldHVybiBmYWxzZVxyXG4gICAgICAgICAgICB2YXIgbWF0Y2hlc1NlbGVjdG9yID0gZWxlbWVudC5tYXRjaGVzIHx8IGVsZW1lbnQud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm1vek1hdGNoZXNTZWxlY3RvciB8fCBlbGVtZW50Lm9NYXRjaGVzU2VsZWN0b3IgfHxcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQubWF0Y2hlc1NlbGVjdG9yXHJcbiAgICAgICAgICAgIGlmIChtYXRjaGVzU2VsZWN0b3IpIHJldHVybiBtYXRjaGVzU2VsZWN0b3IuY2FsbChlbGVtZW50LCBzZWxlY3RvcilcclxuICAgICAgICAgICAgLy8gZmFsbCBiYWNrIHRvIHBlcmZvcm1pbmcgYSBzZWxlY3RvcjpcclxuICAgICAgICAgICAgdmFyIG1hdGNoLCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGUsIHRlbXAgPSAhcGFyZW50XHJcbiAgICAgICAgICAgIGlmICh0ZW1wKSAocGFyZW50ID0gdGVtcFBhcmVudCkuYXBwZW5kQ2hpbGQoZWxlbWVudClcclxuICAgICAgICAgICAgbWF0Y2ggPSB+emVwdG8ucXNhKHBhcmVudCwgc2VsZWN0b3IpLmluZGV4T2YoZWxlbWVudClcclxuICAgICAgICAgICAgdGVtcCAmJiB0ZW1wUGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpXHJcbiAgICAgICAgICAgIHJldHVybiBtYXRjaFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdHlwZShvYmopIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iaiA9PSBudWxsID8gU3RyaW5nKG9iaikgOlxyXG4gICAgICAgICAgICBjbGFzczJ0eXBlW3RvU3RyaW5nLmNhbGwob2JqKV0gfHwgXCJvYmplY3RcIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdHlwZSh2YWx1ZSkgPT0gXCJmdW5jdGlvblwiIH1cclxuICAgICAgICBmdW5jdGlvbiBpc1dpbmRvdyhvYmopICAgICB7IHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmogPT0gb2JqLndpbmRvdyB9XHJcbiAgICAgICAgZnVuY3Rpb24gaXNEb2N1bWVudChvYmopICAgeyByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLm5vZGVUeXBlID09IG9iai5ET0NVTUVOVF9OT0RFIH1cclxuICAgICAgICBmdW5jdGlvbiBpc09iamVjdChvYmopICAgICB7IHJldHVybiB0eXBlKG9iaikgPT0gXCJvYmplY3RcIiB9XHJcbiAgICAgICAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlzT2JqZWN0KG9iaikgJiYgIWlzV2luZG93KG9iaikgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT0gT2JqZWN0LnByb3RvdHlwZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbGlrZUFycmF5KG9iaikge1xyXG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gISFvYmogJiYgJ2xlbmd0aCcgaW4gb2JqICYmIG9iai5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICB0eXBlID0gJC50eXBlKG9iailcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAnZnVuY3Rpb24nICE9IHR5cGUgJiYgIWlzV2luZG93KG9iaikgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICdhcnJheScgPT0gdHlwZSB8fCBsZW5ndGggPT09IDAgfHxcclxuICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyAmJiBsZW5ndGggPiAwICYmIChsZW5ndGggLSAxKSBpbiBvYmopXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjb21wYWN0KGFycmF5KSB7IHJldHVybiBmaWx0ZXIuY2FsbChhcnJheSwgZnVuY3Rpb24oaXRlbSl7IHJldHVybiBpdGVtICE9IG51bGwgfSkgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHsgcmV0dXJuIGFycmF5Lmxlbmd0aCA+IDAgPyAkLmZuLmNvbmNhdC5hcHBseShbXSwgYXJyYXkpIDogYXJyYXkgfVxyXG4gICAgICAgIGNhbWVsaXplID0gZnVuY3Rpb24oc3RyKXsgcmV0dXJuIHN0ci5yZXBsYWNlKC8tKyguKT8vZywgZnVuY3Rpb24obWF0Y2gsIGNocil7IHJldHVybiBjaHIgPyBjaHIudG9VcHBlckNhc2UoKSA6ICcnIH0pIH1cclxuICAgICAgICBmdW5jdGlvbiBkYXNoZXJpemUoc3RyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvOjovZywgJy8nKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbQS1aXSspKFtBLVpdW2Etel0pL2csICckMV8kMicpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvKFthLXpcXGRdKShbQS1aXSkvZywgJyQxXyQyJylcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9fL2csICctJylcclxuICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVuaXEgPSBmdW5jdGlvbihhcnJheSl7IHJldHVybiBmaWx0ZXIuY2FsbChhcnJheSwgZnVuY3Rpb24oaXRlbSwgaWR4KXsgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgPT0gaWR4IH0pIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY2xhc3NSRShuYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lIGluIGNsYXNzQ2FjaGUgP1xyXG4gICAgICAgICAgICAgICAgY2xhc3NDYWNoZVtuYW1lXSA6IChjbGFzc0NhY2hlW25hbWVdID0gbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIG5hbWUgKyAnKFxcXFxzfCQpJykpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBtYXliZUFkZFB4KG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIgJiYgIWNzc051bWJlcltkYXNoZXJpemUobmFtZSldKSA/IHZhbHVlICsgXCJweFwiIDogdmFsdWVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRlZmF1bHREaXNwbGF5KG5vZGVOYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50LCBkaXNwbGF5XHJcbiAgICAgICAgICAgIGlmICghZWxlbWVudERpc3BsYXlbbm9kZU5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChub2RlTmFtZSlcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudClcclxuICAgICAgICAgICAgICAgIGRpc3BsYXkgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsICcnKS5nZXRQcm9wZXJ0eVZhbHVlKFwiZGlzcGxheVwiKVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5ID09IFwibm9uZVwiICYmIChkaXNwbGF5ID0gXCJibG9ja1wiKVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudERpc3BsYXlbbm9kZU5hbWVdID0gZGlzcGxheVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50RGlzcGxheVtub2RlTmFtZV1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNoaWxkcmVuKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdjaGlsZHJlbicgaW4gZWxlbWVudCA/XHJcbiAgICAgICAgICAgICAgICBzbGljZS5jYWxsKGVsZW1lbnQuY2hpbGRyZW4pIDpcclxuICAgICAgICAgICAgICAgICQubWFwKGVsZW1lbnQuY2hpbGROb2RlcywgZnVuY3Rpb24obm9kZSl7IGlmIChub2RlLm5vZGVUeXBlID09IDEpIHJldHVybiBub2RlIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBaKGRvbSwgc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgdmFyIGksIGxlbiA9IGRvbSA/IGRvbS5sZW5ndGggOiAwXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgdGhpc1tpXSA9IGRvbVtpXVxyXG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA9IGxlblxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3IgfHwgJydcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGAkLnplcHRvLmZyYWdtZW50YCB0YWtlcyBhIGh0bWwgc3RyaW5nIGFuZCBhbiBvcHRpb25hbCB0YWcgbmFtZVxyXG4gICAgICAgIC8vIHRvIGdlbmVyYXRlIERPTSBub2RlcyBmcm9tIHRoZSBnaXZlbiBodG1sIHN0cmluZy5cclxuICAgICAgICAvLyBUaGUgZ2VuZXJhdGVkIERPTSBub2RlcyBhcmUgcmV0dXJuZWQgYXMgYW4gYXJyYXkuXHJcbiAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiBjYW4gYmUgb3ZlcnJpZGRlbiBpbiBwbHVnaW5zIGZvciBleGFtcGxlIHRvIG1ha2VcclxuICAgICAgICAvLyBpdCBjb21wYXRpYmxlIHdpdGggYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBET00gZnVsbHkuXHJcbiAgICAgICAgemVwdG8uZnJhZ21lbnQgPSBmdW5jdGlvbihodG1sLCBuYW1lLCBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBkb20sIG5vZGVzLCBjb250YWluZXJcclxuXHJcbiAgICAgICAgICAgIC8vIEEgc3BlY2lhbCBjYXNlIG9wdGltaXphdGlvbiBmb3IgYSBzaW5nbGUgdGFnXHJcbiAgICAgICAgICAgIGlmIChzaW5nbGVUYWdSRS50ZXN0KGh0bWwpKSBkb20gPSAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoUmVnRXhwLiQxKSlcclxuXHJcbiAgICAgICAgICAgIGlmICghZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaHRtbC5yZXBsYWNlKSBodG1sID0gaHRtbC5yZXBsYWNlKHRhZ0V4cGFuZGVyUkUsIFwiPCQxPjwvJDI+XCIpXHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSBuYW1lID0gZnJhZ21lbnRSRS50ZXN0KGh0bWwpICYmIFJlZ0V4cC4kMVxyXG4gICAgICAgICAgICAgICAgaWYgKCEobmFtZSBpbiBjb250YWluZXJzKSkgbmFtZSA9ICcqJ1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lcnNbbmFtZV1cclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJyArIGh0bWxcclxuICAgICAgICAgICAgICAgIGRvbSA9ICQuZWFjaChzbGljZS5jYWxsKGNvbnRhaW5lci5jaGlsZE5vZGVzKSwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpc1BsYWluT2JqZWN0KHByb3BlcnRpZXMpKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlcyA9ICQoZG9tKVxyXG4gICAgICAgICAgICAgICAgJC5lYWNoKHByb3BlcnRpZXMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kQXR0cmlidXRlcy5pbmRleE9mKGtleSkgPiAtMSkgbm9kZXNba2V5XSh2YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIG5vZGVzLmF0dHIoa2V5LCB2YWx1ZSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBkb21cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGAkLnplcHRvLlpgIHN3YXBzIG91dCB0aGUgcHJvdG90eXBlIG9mIHRoZSBnaXZlbiBgZG9tYCBhcnJheVxyXG4gICAgICAgIC8vIG9mIG5vZGVzIHdpdGggYCQuZm5gIGFuZCB0aHVzIHN1cHBseWluZyBhbGwgdGhlIFplcHRvIGZ1bmN0aW9uc1xyXG4gICAgICAgIC8vIHRvIHRoZSBhcnJheS4gVGhpcyBtZXRob2QgY2FuIGJlIG92ZXJyaWRkZW4gaW4gcGx1Z2lucy5cclxuICAgICAgICB6ZXB0by5aID0gZnVuY3Rpb24oZG9tLCBzZWxlY3Rvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFooZG9tLCBzZWxlY3RvcilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGAkLnplcHRvLmlzWmAgc2hvdWxkIHJldHVybiBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBpcyBhIFplcHRvXHJcbiAgICAgICAgLy8gY29sbGVjdGlvbi4gVGhpcyBtZXRob2QgY2FuIGJlIG92ZXJyaWRkZW4gaW4gcGx1Z2lucy5cclxuICAgICAgICB6ZXB0by5pc1ogPSBmdW5jdGlvbihvYmplY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIHplcHRvLlpcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGAkLnplcHRvLmluaXRgIGlzIFplcHRvJ3MgY291bnRlcnBhcnQgdG8galF1ZXJ5J3MgYCQuZm4uaW5pdGAgYW5kXHJcbiAgICAgICAgLy8gdGFrZXMgYSBDU1Mgc2VsZWN0b3IgYW5kIGFuIG9wdGlvbmFsIGNvbnRleHQgKGFuZCBoYW5kbGVzIHZhcmlvdXNcclxuICAgICAgICAvLyBzcGVjaWFsIGNhc2VzKS5cclxuICAgICAgICAvLyBUaGlzIG1ldGhvZCBjYW4gYmUgb3ZlcnJpZGRlbiBpbiBwbHVnaW5zLlxyXG4gICAgICAgIHplcHRvLmluaXQgPSBmdW5jdGlvbihzZWxlY3RvciwgY29udGV4dCkge1xyXG4gICAgICAgICAgICB2YXIgZG9tXHJcbiAgICAgICAgICAgIC8vIElmIG5vdGhpbmcgZ2l2ZW4sIHJldHVybiBhbiBlbXB0eSBaZXB0byBjb2xsZWN0aW9uXHJcbiAgICAgICAgICAgIGlmICghc2VsZWN0b3IpIHJldHVybiB6ZXB0by5aKClcclxuICAgICAgICAgICAgLy8gT3B0aW1pemUgZm9yIHN0cmluZyBzZWxlY3RvcnNcclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHNlbGVjdG9yID09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9yLnRyaW0oKVxyXG4gICAgICAgICAgICAgICAgLy8gSWYgaXQncyBhIGh0bWwgZnJhZ21lbnQsIGNyZWF0ZSBub2RlcyBmcm9tIGl0XHJcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBJbiBib3RoIENocm9tZSAyMSBhbmQgRmlyZWZveCAxNSwgRE9NIGVycm9yIDEyXHJcbiAgICAgICAgICAgICAgICAvLyBpcyB0aHJvd24gaWYgdGhlIGZyYWdtZW50IGRvZXNuJ3QgYmVnaW4gd2l0aCA8XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3JbMF0gPT0gJzwnICYmIGZyYWdtZW50UkUudGVzdChzZWxlY3RvcikpXHJcbiAgICAgICAgICAgICAgICAgICAgZG9tID0gemVwdG8uZnJhZ21lbnQoc2VsZWN0b3IsIFJlZ0V4cC4kMSwgY29udGV4dCksIHNlbGVjdG9yID0gbnVsbFxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIGNvbnRleHQsIGNyZWF0ZSBhIGNvbGxlY3Rpb24gb24gdGhhdCBjb250ZXh0IGZpcnN0LCBhbmQgc2VsZWN0XHJcbiAgICAgICAgICAgICAgICAvLyBub2RlcyBmcm9tIHRoZXJlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb250ZXh0ICE9PSB1bmRlZmluZWQpIHJldHVybiAkKGNvbnRleHQpLmZpbmQoc2VsZWN0b3IpXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgQ1NTIHNlbGVjdG9yLCB1c2UgaXQgdG8gc2VsZWN0IG5vZGVzLlxyXG4gICAgICAgICAgICAgICAgZWxzZSBkb20gPSB6ZXB0by5xc2EoZG9jdW1lbnQsIHNlbGVjdG9yKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIGEgZnVuY3Rpb24gaXMgZ2l2ZW4sIGNhbGwgaXQgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oc2VsZWN0b3IpKSByZXR1cm4gJChkb2N1bWVudCkucmVhZHkoc2VsZWN0b3IpXHJcbiAgICAgICAgICAgIC8vIElmIGEgWmVwdG8gY29sbGVjdGlvbiBpcyBnaXZlbiwganVzdCByZXR1cm4gaXRcclxuICAgICAgICAgICAgZWxzZSBpZiAoemVwdG8uaXNaKHNlbGVjdG9yKSkgcmV0dXJuIHNlbGVjdG9yXHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gbm9ybWFsaXplIGFycmF5IGlmIGFuIGFycmF5IG9mIG5vZGVzIGlzIGdpdmVuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShzZWxlY3RvcikpIGRvbSA9IGNvbXBhY3Qoc2VsZWN0b3IpXHJcbiAgICAgICAgICAgICAgICAvLyBXcmFwIERPTSBub2Rlcy5cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHNlbGVjdG9yKSlcclxuICAgICAgICAgICAgICAgICAgICBkb20gPSBbc2VsZWN0b3JdLCBzZWxlY3RvciA9IG51bGxcclxuICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYSBodG1sIGZyYWdtZW50LCBjcmVhdGUgbm9kZXMgZnJvbSBpdFxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZnJhZ21lbnRSRS50ZXN0KHNlbGVjdG9yKSlcclxuICAgICAgICAgICAgICAgICAgICBkb20gPSB6ZXB0by5mcmFnbWVudChzZWxlY3Rvci50cmltKCksIFJlZ0V4cC4kMSwgY29udGV4dCksIHNlbGVjdG9yID0gbnVsbFxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIGNvbnRleHQsIGNyZWF0ZSBhIGNvbGxlY3Rpb24gb24gdGhhdCBjb250ZXh0IGZpcnN0LCBhbmQgc2VsZWN0XHJcbiAgICAgICAgICAgICAgICAvLyBub2RlcyBmcm9tIHRoZXJlXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb250ZXh0ICE9PSB1bmRlZmluZWQpIHJldHVybiAkKGNvbnRleHQpLmZpbmQoc2VsZWN0b3IpXHJcbiAgICAgICAgICAgICAgICAvLyBBbmQgbGFzdCBidXQgbm8gbGVhc3QsIGlmIGl0J3MgYSBDU1Mgc2VsZWN0b3IsIHVzZSBpdCB0byBzZWxlY3Qgbm9kZXMuXHJcbiAgICAgICAgICAgICAgICBlbHNlIGRvbSA9IHplcHRvLnFzYShkb2N1bWVudCwgc2VsZWN0b3IpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY3JlYXRlIGEgbmV3IFplcHRvIGNvbGxlY3Rpb24gZnJvbSB0aGUgbm9kZXMgZm91bmRcclxuICAgICAgICAgICAgcmV0dXJuIHplcHRvLlooZG9tLCBzZWxlY3RvcilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGAkYCB3aWxsIGJlIHRoZSBiYXNlIGBaZXB0b2Agb2JqZWN0LiBXaGVuIGNhbGxpbmcgdGhpc1xyXG4gICAgICAgIC8vIGZ1bmN0aW9uIGp1c3QgY2FsbCBgJC56ZXB0by5pbml0LCB3aGljaCBtYWtlcyB0aGUgaW1wbGVtZW50YXRpb25cclxuICAgICAgICAvLyBkZXRhaWxzIG9mIHNlbGVjdGluZyBub2RlcyBhbmQgY3JlYXRpbmcgWmVwdG8gY29sbGVjdGlvbnNcclxuICAgICAgICAvLyBwYXRjaGFibGUgaW4gcGx1Z2lucy5cclxuICAgICAgICAkID0gZnVuY3Rpb24oc2VsZWN0b3IsIGNvbnRleHQpe1xyXG4gICAgICAgICAgICByZXR1cm4gemVwdG8uaW5pdChzZWxlY3RvciwgY29udGV4dClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQsIHNvdXJjZSwgZGVlcCkge1xyXG4gICAgICAgICAgICBmb3IgKGtleSBpbiBzb3VyY2UpXHJcbiAgICAgICAgICAgICAgICBpZiAoZGVlcCAmJiAoaXNQbGFpbk9iamVjdChzb3VyY2Vba2V5XSkgfHwgaXNBcnJheShzb3VyY2Vba2V5XSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUGxhaW5PYmplY3Qoc291cmNlW2tleV0pICYmICFpc1BsYWluT2JqZWN0KHRhcmdldFtrZXldKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSB7fVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KHNvdXJjZVtrZXldKSAmJiAhaXNBcnJheSh0YXJnZXRba2V5XSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gW11cclxuICAgICAgICAgICAgICAgICAgICBleHRlbmQodGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldLCBkZWVwKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc291cmNlW2tleV0gIT09IHVuZGVmaW5lZCkgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29weSBhbGwgYnV0IHVuZGVmaW5lZCBwcm9wZXJ0aWVzIGZyb20gb25lIG9yIG1vcmVcclxuICAgICAgICAvLyBvYmplY3RzIHRvIHRoZSBgdGFyZ2V0YCBvYmplY3QuXHJcbiAgICAgICAgJC5leHRlbmQgPSBmdW5jdGlvbih0YXJnZXQpe1xyXG4gICAgICAgICAgICB2YXIgZGVlcCwgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgICAgIGRlZXAgPSB0YXJnZXRcclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IGFyZ3Muc2hpZnQoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFyZ3MuZm9yRWFjaChmdW5jdGlvbihhcmcpeyBleHRlbmQodGFyZ2V0LCBhcmcsIGRlZXApIH0pXHJcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGAkLnplcHRvLnFzYWAgaXMgWmVwdG8ncyBDU1Mgc2VsZWN0b3IgaW1wbGVtZW50YXRpb24gd2hpY2hcclxuICAgICAgICAvLyB1c2VzIGBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsYCBhbmQgb3B0aW1pemVzIGZvciBzb21lIHNwZWNpYWwgY2FzZXMsIGxpa2UgYCNpZGAuXHJcbiAgICAgICAgLy8gVGhpcyBtZXRob2QgY2FuIGJlIG92ZXJyaWRkZW4gaW4gcGx1Z2lucy5cclxuICAgICAgICB6ZXB0by5xc2EgPSBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3Rvcil7XHJcbiAgICAgICAgICAgIHZhciBmb3VuZCxcclxuICAgICAgICAgICAgICAgIG1heWJlSUQgPSBzZWxlY3RvclswXSA9PSAnIycsXHJcbiAgICAgICAgICAgICAgICBtYXliZUNsYXNzID0gIW1heWJlSUQgJiYgc2VsZWN0b3JbMF0gPT0gJy4nLFxyXG4gICAgICAgICAgICAgICAgbmFtZU9ubHkgPSBtYXliZUlEIHx8IG1heWJlQ2xhc3MgPyBzZWxlY3Rvci5zbGljZSgxKSA6IHNlbGVjdG9yLCAvLyBFbnN1cmUgdGhhdCBhIDEgY2hhciB0YWcgbmFtZSBzdGlsbCBnZXRzIGNoZWNrZWRcclxuICAgICAgICAgICAgICAgIGlzU2ltcGxlID0gc2ltcGxlU2VsZWN0b3JSRS50ZXN0KG5hbWVPbmx5KVxyXG4gICAgICAgICAgICByZXR1cm4gKGVsZW1lbnQuZ2V0RWxlbWVudEJ5SWQgJiYgaXNTaW1wbGUgJiYgbWF5YmVJRCkgPyAvLyBTYWZhcmkgRG9jdW1lbnRGcmFnbWVudCBkb2Vzbid0IGhhdmUgZ2V0RWxlbWVudEJ5SWRcclxuICAgICAgICAgICAgICAgICggKGZvdW5kID0gZWxlbWVudC5nZXRFbGVtZW50QnlJZChuYW1lT25seSkpID8gW2ZvdW5kXSA6IFtdICkgOlxyXG4gICAgICAgICAgICAgICAgKGVsZW1lbnQubm9kZVR5cGUgIT09IDEgJiYgZWxlbWVudC5ub2RlVHlwZSAhPT0gOSAmJiBlbGVtZW50Lm5vZGVUeXBlICE9PSAxMSkgPyBbXSA6XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpY2UuY2FsbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTaW1wbGUgJiYgIW1heWJlSUQgJiYgZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID8gLy8gRG9jdW1lbnRGcmFnbWVudCBkb2Vzbid0IGhhdmUgZ2V0RWxlbWVudHNCeUNsYXNzTmFtZS9UYWdOYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZUNsYXNzID8gZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKG5hbWVPbmx5KSA6IC8vIElmIGl0J3Mgc2ltcGxlLCBpdCBjb3VsZCBiZSBhIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxlY3RvcikgOiAvLyBPciBhIHRhZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSAvLyBPciBpdCdzIG5vdCBzaW1wbGUsIGFuZCB3ZSBuZWVkIHRvIHF1ZXJ5IGFsbFxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZpbHRlcmVkKG5vZGVzLCBzZWxlY3Rvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/ICQobm9kZXMpIDogJChub2RlcykuZmlsdGVyKHNlbGVjdG9yKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJC5jb250YWlucyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyA/XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKHBhcmVudCwgbm9kZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudCAhPT0gbm9kZSAmJiBwYXJlbnQuY29udGFpbnMobm9kZSlcclxuICAgICAgICAgICAgfSA6XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKHBhcmVudCwgbm9kZSkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG5vZGUgJiYgKG5vZGUgPSBub2RlLnBhcmVudE5vZGUpKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlID09PSBwYXJlbnQpIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmdW5jQXJnKGNvbnRleHQsIGFyZywgaWR4LCBwYXlsb2FkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKGFyZykgPyBhcmcuY2FsbChjb250ZXh0LCBpZHgsIHBheWxvYWQpIDogYXJnXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRBdHRyaWJ1dGUobm9kZSwgbmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgdmFsdWUgPT0gbnVsbCA/IG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpIDogbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBhY2Nlc3MgY2xhc3NOYW1lIHByb3BlcnR5IHdoaWxlIHJlc3BlY3RpbmcgU1ZHQW5pbWF0ZWRTdHJpbmdcclxuICAgICAgICBmdW5jdGlvbiBjbGFzc05hbWUobm9kZSwgdmFsdWUpe1xyXG4gICAgICAgICAgICB2YXIga2xhc3MgPSBub2RlLmNsYXNzTmFtZSB8fCAnJyxcclxuICAgICAgICAgICAgICAgIHN2ZyAgID0ga2xhc3MgJiYga2xhc3MuYmFzZVZhbCAhPT0gdW5kZWZpbmVkXHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHN2ZyA/IGtsYXNzLmJhc2VWYWwgOiBrbGFzc1xyXG4gICAgICAgICAgICBzdmcgPyAoa2xhc3MuYmFzZVZhbCA9IHZhbHVlKSA6IChub2RlLmNsYXNzTmFtZSA9IHZhbHVlKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXCJ0cnVlXCIgID0+IHRydWVcclxuICAgICAgICAvLyBcImZhbHNlXCIgPT4gZmFsc2VcclxuICAgICAgICAvLyBcIm51bGxcIiAgPT4gbnVsbFxyXG4gICAgICAgIC8vIFwiNDJcIiAgICA9PiA0MlxyXG4gICAgICAgIC8vIFwiNDIuNVwiICA9PiA0Mi41XHJcbiAgICAgICAgLy8gXCIwOFwiICAgID0+IFwiMDhcIlxyXG4gICAgICAgIC8vIEpTT04gICAgPT4gcGFyc2UgaWYgdmFsaWRcclxuICAgICAgICAvLyBTdHJpbmcgID0+IHNlbGZcclxuICAgICAgICBmdW5jdGlvbiBkZXNlcmlhbGl6ZVZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgP1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPT0gXCJ0cnVlXCIgfHxcclxuICAgICAgICAgICAgICAgICggdmFsdWUgPT0gXCJmYWxzZVwiID8gZmFsc2UgOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID09IFwibnVsbFwiID8gbnVsbCA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICt2YWx1ZSArIFwiXCIgPT0gdmFsdWUgPyArdmFsdWUgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgL15bXFxbXFx7XS8udGVzdCh2YWx1ZSkgPyAkLnBhcnNlSlNPTih2YWx1ZSkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIClcclxuICAgICAgICAgICAgICAgICAgICA6IHZhbHVlXHJcbiAgICAgICAgICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQudHlwZSA9IHR5cGVcclxuICAgICAgICAkLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uXHJcbiAgICAgICAgJC5pc1dpbmRvdyA9IGlzV2luZG93XHJcbiAgICAgICAgJC5pc0FycmF5ID0gaXNBcnJheVxyXG4gICAgICAgICQuaXNQbGFpbk9iamVjdCA9IGlzUGxhaW5PYmplY3RcclxuXHJcbiAgICAgICAgJC5pc0VtcHR5T2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lXHJcbiAgICAgICAgICAgIGZvciAobmFtZSBpbiBvYmopIHJldHVybiBmYWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJC5pc051bWVyaWMgPSBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgICAgICAgdmFyIG51bSA9IE51bWJlcih2YWwpLCB0eXBlID0gdHlwZW9mIHZhbFxyXG4gICAgICAgICAgICByZXR1cm4gdmFsICE9IG51bGwgJiYgdHlwZSAhPSAnYm9vbGVhbicgJiZcclxuICAgICAgICAgICAgICAgICh0eXBlICE9ICdzdHJpbmcnIHx8IHZhbC5sZW5ndGgpICYmXHJcbiAgICAgICAgICAgICAgICAhaXNOYU4obnVtKSAmJiBpc0Zpbml0ZShudW0pIHx8IGZhbHNlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkLmluQXJyYXkgPSBmdW5jdGlvbihlbGVtLCBhcnJheSwgaSl7XHJcbiAgICAgICAgICAgIHJldHVybiBlbXB0eUFycmF5LmluZGV4T2YuY2FsbChhcnJheSwgZWxlbSwgaSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuY2FtZWxDYXNlID0gY2FtZWxpemVcclxuICAgICAgICAkLnRyaW0gPSBmdW5jdGlvbihzdHIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0ciA9PSBudWxsID8gXCJcIiA6IFN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKHN0cilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHBsdWdpbiBjb21wYXRpYmlsaXR5XHJcbiAgICAgICAgJC51dWlkID0gMFxyXG4gICAgICAgICQuc3VwcG9ydCA9IHsgfVxyXG4gICAgICAgICQuZXhwciA9IHsgfVxyXG4gICAgICAgICQubm9vcCA9IGZ1bmN0aW9uKCkge31cclxuXHJcbiAgICAgICAgJC5tYXAgPSBmdW5jdGlvbihlbGVtZW50cywgY2FsbGJhY2spe1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUsIHZhbHVlcyA9IFtdLCBpLCBrZXlcclxuICAgICAgICAgICAgaWYgKGxpa2VBcnJheShlbGVtZW50cykpXHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrKGVsZW1lbnRzW2ldLCBpKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB2YWx1ZXMucHVzaCh2YWx1ZSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gZWxlbWVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrKGVsZW1lbnRzW2tleV0sIGtleSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkgdmFsdWVzLnB1c2godmFsdWUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmbGF0dGVuKHZhbHVlcylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuZWFjaCA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBjYWxsYmFjayl7XHJcbiAgICAgICAgICAgIHZhciBpLCBrZXlcclxuICAgICAgICAgICAgaWYgKGxpa2VBcnJheShlbGVtZW50cykpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbChlbGVtZW50c1tpXSwgaSwgZWxlbWVudHNbaV0pID09PSBmYWxzZSkgcmV0dXJuIGVsZW1lbnRzXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGtleSBpbiBlbGVtZW50cylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbChlbGVtZW50c1trZXldLCBrZXksIGVsZW1lbnRzW2tleV0pID09PSBmYWxzZSkgcmV0dXJuIGVsZW1lbnRzXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50c1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJC5ncmVwID0gZnVuY3Rpb24oZWxlbWVudHMsIGNhbGxiYWNrKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZpbHRlci5jYWxsKGVsZW1lbnRzLCBjYWxsYmFjaylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh3aW5kb3cuSlNPTikgJC5wYXJzZUpTT04gPSBKU09OLnBhcnNlXHJcblxyXG4gICAgICAgIC8vIFBvcHVsYXRlIHRoZSBjbGFzczJ0eXBlIG1hcFxyXG4gICAgICAgICQuZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3JcIi5zcGxpdChcIiBcIiksIGZ1bmN0aW9uKGksIG5hbWUpIHtcclxuICAgICAgICAgICAgY2xhc3MydHlwZVsgXCJbb2JqZWN0IFwiICsgbmFtZSArIFwiXVwiIF0gPSBuYW1lLnRvTG93ZXJDYXNlKClcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyBEZWZpbmUgbWV0aG9kcyB0aGF0IHdpbGwgYmUgYXZhaWxhYmxlIG9uIGFsbFxyXG4gICAgICAgIC8vIFplcHRvIGNvbGxlY3Rpb25zXHJcbiAgICAgICAgJC5mbiA9IHtcclxuICAgICAgICAgICAgY29uc3RydWN0b3I6IHplcHRvLlosXHJcbiAgICAgICAgICAgIGxlbmd0aDogMCxcclxuXHJcbiAgICAgICAgICAgIC8vIEJlY2F1c2UgYSBjb2xsZWN0aW9uIGFjdHMgbGlrZSBhbiBhcnJheVxyXG4gICAgICAgICAgICAvLyBjb3B5IG92ZXIgdGhlc2UgdXNlZnVsIGFycmF5IGZ1bmN0aW9ucy5cclxuICAgICAgICAgICAgZm9yRWFjaDogZW1wdHlBcnJheS5mb3JFYWNoLFxyXG4gICAgICAgICAgICByZWR1Y2U6IGVtcHR5QXJyYXkucmVkdWNlLFxyXG4gICAgICAgICAgICBwdXNoOiBlbXB0eUFycmF5LnB1c2gsXHJcbiAgICAgICAgICAgIHNvcnQ6IGVtcHR5QXJyYXkuc29ydCxcclxuICAgICAgICAgICAgc3BsaWNlOiBlbXB0eUFycmF5LnNwbGljZSxcclxuICAgICAgICAgICAgaW5kZXhPZjogZW1wdHlBcnJheS5pbmRleE9mLFxyXG4gICAgICAgICAgICBjb25jYXQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSwgdmFsdWUsIGFyZ3MgPSBbXVxyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXJndW1lbnRzW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tpXSA9IHplcHRvLmlzWih2YWx1ZSkgPyB2YWx1ZS50b0FycmF5KCkgOiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbmNhdC5hcHBseSh6ZXB0by5pc1oodGhpcykgPyB0aGlzLnRvQXJyYXkoKSA6IHRoaXMsIGFyZ3MpXHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAvLyBgbWFwYCBhbmQgYHNsaWNlYCBpbiB0aGUgalF1ZXJ5IEFQSSB3b3JrIGRpZmZlcmVudGx5XHJcbiAgICAgICAgICAgIC8vIGZyb20gdGhlaXIgYXJyYXkgY291bnRlcnBhcnRzXHJcbiAgICAgICAgICAgIG1hcDogZnVuY3Rpb24oZm4pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICQoJC5tYXAodGhpcywgZnVuY3Rpb24oZWwsIGkpeyByZXR1cm4gZm4uY2FsbChlbCwgaSwgZWwpIH0pKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzbGljZTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkKHNsaWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpXHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICByZWFkeTogZnVuY3Rpb24oY2FsbGJhY2spe1xyXG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0byBjaGVjayBpZiBkb2N1bWVudC5ib2R5IGV4aXN0cyBmb3IgSUUgYXMgdGhhdCBicm93c2VyIHJlcG9ydHNcclxuICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50IHJlYWR5IHdoZW4gaXQgaGFzbid0IHlldCBjcmVhdGVkIHRoZSBib2R5IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgIGlmIChyZWFkeVJFLnRlc3QoZG9jdW1lbnQucmVhZHlTdGF0ZSkgJiYgZG9jdW1lbnQuYm9keSkgY2FsbGJhY2soJClcclxuICAgICAgICAgICAgICAgIGVsc2UgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCl7IGNhbGxiYWNrKCQpIH0sIGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbihpZHgpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkeCA9PT0gdW5kZWZpbmVkID8gc2xpY2UuY2FsbCh0aGlzKSA6IHRoaXNbaWR4ID49IDAgPyBpZHggOiBpZHggKyB0aGlzLmxlbmd0aF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdG9BcnJheTogZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXMuZ2V0KCkgfSxcclxuICAgICAgICAgICAgc2l6ZTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxlbmd0aFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50Tm9kZSAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVhY2g6IGZ1bmN0aW9uKGNhbGxiYWNrKXtcclxuICAgICAgICAgICAgICAgIGVtcHR5QXJyYXkuZXZlcnkuY2FsbCh0aGlzLCBmdW5jdGlvbihlbCwgaWR4KXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suY2FsbChlbCwgaWR4LCBlbCkgIT09IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmlsdGVyOiBmdW5jdGlvbihzZWxlY3Rvcil7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihzZWxlY3RvcikpIHJldHVybiB0aGlzLm5vdCh0aGlzLm5vdChzZWxlY3RvcikpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJChmaWx0ZXIuY2FsbCh0aGlzLCBmdW5jdGlvbihlbGVtZW50KXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gemVwdG8ubWF0Y2hlcyhlbGVtZW50LCBzZWxlY3RvcilcclxuICAgICAgICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uKHNlbGVjdG9yLGNvbnRleHQpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICQodW5pcSh0aGlzLmNvbmNhdCgkKHNlbGVjdG9yLGNvbnRleHQpKSkpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlzOiBmdW5jdGlvbihzZWxlY3Rvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGggPiAwICYmIHplcHRvLm1hdGNoZXModGhpc1swXSwgc2VsZWN0b3IpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vdDogZnVuY3Rpb24oc2VsZWN0b3Ipe1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vZGVzPVtdXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihzZWxlY3RvcikgJiYgc2VsZWN0b3IuY2FsbCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbihpZHgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdG9yLmNhbGwodGhpcyxpZHgpKSBub2Rlcy5wdXNoKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBleGNsdWRlcyA9IHR5cGVvZiBzZWxlY3RvciA9PSAnc3RyaW5nJyA/IHRoaXMuZmlsdGVyKHNlbGVjdG9yKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChsaWtlQXJyYXkoc2VsZWN0b3IpICYmIGlzRnVuY3Rpb24oc2VsZWN0b3IuaXRlbSkpID8gc2xpY2UuY2FsbChzZWxlY3RvcikgOiAkKHNlbGVjdG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbihlbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGNsdWRlcy5pbmRleE9mKGVsKSA8IDApIG5vZGVzLnB1c2goZWwpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAkKG5vZGVzKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBoYXM6IGZ1bmN0aW9uKHNlbGVjdG9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc09iamVjdChzZWxlY3RvcikgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmNvbnRhaW5zKHRoaXMsIHNlbGVjdG9yKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZChzZWxlY3Rvcikuc2l6ZSgpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcTogZnVuY3Rpb24oaWR4KXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpZHggPT09IC0xID8gdGhpcy5zbGljZShpZHgpIDogdGhpcy5zbGljZShpZHgsICsgaWR4ICsgMSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmlyc3Q6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSB0aGlzWzBdXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwgJiYgIWlzT2JqZWN0KGVsKSA/IGVsIDogJChlbClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGFzdDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciBlbCA9IHRoaXNbdGhpcy5sZW5ndGggLSAxXVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsICYmICFpc09iamVjdChlbCkgPyBlbCA6ICQoZWwpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHNlbGVjdG9yKXtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQsICR0aGlzID0gdGhpc1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RvcikgcmVzdWx0ID0gJCgpXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT0gJ29iamVjdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gJChzZWxlY3RvcikuZmlsdGVyKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlID0gdGhpc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlBcnJheS5zb21lLmNhbGwoJHRoaXMsIGZ1bmN0aW9uKHBhcmVudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJC5jb250YWlucyhwYXJlbnQsIG5vZGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubGVuZ3RoID09IDEpIHJlc3VsdCA9ICQoemVwdG8ucXNhKHRoaXNbMF0sIHNlbGVjdG9yKSlcclxuICAgICAgICAgICAgICAgIGVsc2UgcmVzdWx0ID0gdGhpcy5tYXAoZnVuY3Rpb24oKXsgcmV0dXJuIHplcHRvLnFzYSh0aGlzLCBzZWxlY3RvcikgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2xvc2VzdDogZnVuY3Rpb24oc2VsZWN0b3IsIGNvbnRleHQpe1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vZGVzID0gW10sIGNvbGxlY3Rpb24gPSB0eXBlb2Ygc2VsZWN0b3IgPT0gJ29iamVjdCcgJiYgJChzZWxlY3RvcilcclxuICAgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbihfLCBub2RlKXtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobm9kZSAmJiAhKGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmluZGV4T2Yobm9kZSkgPj0gMCA6IHplcHRvLm1hdGNoZXMobm9kZSwgc2VsZWN0b3IpKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUgIT09IGNvbnRleHQgJiYgIWlzRG9jdW1lbnQobm9kZSkgJiYgbm9kZS5wYXJlbnROb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZXMuaW5kZXhPZihub2RlKSA8IDApIG5vZGVzLnB1c2gobm9kZSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJChub2RlcylcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGFyZW50czogZnVuY3Rpb24oc2VsZWN0b3Ipe1xyXG4gICAgICAgICAgICAgICAgdmFyIGFuY2VzdG9ycyA9IFtdLCBub2RlcyA9IHRoaXNcclxuICAgICAgICAgICAgICAgIHdoaWxlIChub2Rlcy5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVzID0gJC5tYXAobm9kZXMsIGZ1bmN0aW9uKG5vZGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKG5vZGUgPSBub2RlLnBhcmVudE5vZGUpICYmICFpc0RvY3VtZW50KG5vZGUpICYmIGFuY2VzdG9ycy5pbmRleE9mKG5vZGUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jZXN0b3JzLnB1c2gobm9kZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkKGFuY2VzdG9ycywgc2VsZWN0b3IpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBhcmVudDogZnVuY3Rpb24oc2VsZWN0b3Ipe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkKHVuaXEodGhpcy5wbHVjaygncGFyZW50Tm9kZScpKSwgc2VsZWN0b3IpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNoaWxkcmVuOiBmdW5jdGlvbihzZWxlY3Rvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyZWQodGhpcy5tYXAoZnVuY3Rpb24oKXsgcmV0dXJuIGNoaWxkcmVuKHRoaXMpIH0pLCBzZWxlY3RvcilcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29udGVudHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5jb250ZW50RG9jdW1lbnQgfHwgc2xpY2UuY2FsbCh0aGlzLmNoaWxkTm9kZXMpIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNpYmxpbmdzOiBmdW5jdGlvbihzZWxlY3Rvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyZWQodGhpcy5tYXAoZnVuY3Rpb24oaSwgZWwpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXIuY2FsbChjaGlsZHJlbihlbC5wYXJlbnROb2RlKSwgZnVuY3Rpb24oY2hpbGQpeyByZXR1cm4gY2hpbGQhPT1lbCB9KVxyXG4gICAgICAgICAgICAgICAgfSksIHNlbGVjdG9yKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbXB0eTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsgdGhpcy5pbm5lckhUTUwgPSAnJyB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBgcGx1Y2tgIGlzIGJvcnJvd2VkIGZyb20gUHJvdG90eXBlLmpzXHJcbiAgICAgICAgICAgIHBsdWNrOiBmdW5jdGlvbihwcm9wZXJ0eSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5tYXAodGhpcywgZnVuY3Rpb24oZWwpeyByZXR1cm4gZWxbcHJvcGVydHldIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNob3c6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5ID09IFwibm9uZVwiICYmICh0aGlzLnN0eWxlLmRpc3BsYXkgPSAnJylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLCAnJykuZ2V0UHJvcGVydHlWYWx1ZShcImRpc3BsYXlcIikgPT0gXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5KHRoaXMubm9kZU5hbWUpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXBsYWNlV2l0aDogZnVuY3Rpb24obmV3Q29udGVudCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5iZWZvcmUobmV3Q29udGVudCkucmVtb3ZlKClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgd3JhcDogZnVuY3Rpb24oc3RydWN0dXJlKXtcclxuICAgICAgICAgICAgICAgIHZhciBmdW5jID0gaXNGdW5jdGlvbihzdHJ1Y3R1cmUpXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1swXSAmJiAhZnVuYylcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZG9tICAgPSAkKHN0cnVjdHVyZSkuZ2V0KDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9uZSA9IGRvbS5wYXJlbnROb2RlIHx8IHRoaXMubGVuZ3RoID4gMVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykud3JhcEFsbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuYyA/IHN0cnVjdHVyZS5jYWxsKHRoaXMsIGluZGV4KSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZSA/IGRvbS5jbG9uZU5vZGUodHJ1ZSkgOiBkb21cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB3cmFwQWxsOiBmdW5jdGlvbihzdHJ1Y3R1cmUpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXNbMF0pLmJlZm9yZShzdHJ1Y3R1cmUgPSAkKHN0cnVjdHVyZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZHJpbGwgZG93biB0byB0aGUgaW5tb3N0IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGNoaWxkcmVuID0gc3RydWN0dXJlLmNoaWxkcmVuKCkpLmxlbmd0aCkgc3RydWN0dXJlID0gY2hpbGRyZW4uZmlyc3QoKVxyXG4gICAgICAgICAgICAgICAgICAgICQoc3RydWN0dXJlKS5hcHBlbmQodGhpcylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHdyYXBJbm5lcjogZnVuY3Rpb24oc3RydWN0dXJlKXtcclxuICAgICAgICAgICAgICAgIHZhciBmdW5jID0gaXNGdW5jdGlvbihzdHJ1Y3R1cmUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGluZGV4KXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9ICQodGhpcyksIGNvbnRlbnRzID0gc2VsZi5jb250ZW50cygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb20gID0gZnVuYyA/IHN0cnVjdHVyZS5jYWxsKHRoaXMsIGluZGV4KSA6IHN0cnVjdHVyZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRzLmxlbmd0aCA/IGNvbnRlbnRzLndyYXBBbGwoZG9tKSA6IHNlbGYuYXBwZW5kKGRvbSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVud3JhcDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucmVwbGFjZVdpdGgoJCh0aGlzKS5jaGlsZHJlbigpKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNsb25lOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzLmNsb25lTm9kZSh0cnVlKSB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBoaWRlOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbihzZXR0aW5nKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSAkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDsoc2V0dGluZyA9PT0gdW5kZWZpbmVkID8gZWwuY3NzKFwiZGlzcGxheVwiKSA9PSBcIm5vbmVcIiA6IHNldHRpbmcpID8gZWwuc2hvdygpIDogZWwuaGlkZSgpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcmV2OiBmdW5jdGlvbihzZWxlY3Rvcil7IHJldHVybiAkKHRoaXMucGx1Y2soJ3ByZXZpb3VzRWxlbWVudFNpYmxpbmcnKSkuZmlsdGVyKHNlbGVjdG9yIHx8ICcqJykgfSxcclxuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24oc2VsZWN0b3IpeyByZXR1cm4gJCh0aGlzLnBsdWNrKCduZXh0RWxlbWVudFNpYmxpbmcnKSkuZmlsdGVyKHNlbGVjdG9yIHx8ICcqJykgfSxcclxuICAgICAgICAgICAgaHRtbDogZnVuY3Rpb24oaHRtbCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMCBpbiBhcmd1bWVudHMgP1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbihpZHgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luSHRtbCA9IHRoaXMuaW5uZXJIVE1MXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZW1wdHkoKS5hcHBlbmQoIGZ1bmNBcmcodGhpcywgaHRtbCwgaWR4LCBvcmlnaW5IdG1sKSApXHJcbiAgICAgICAgICAgICAgICAgICAgfSkgOlxyXG4gICAgICAgICAgICAgICAgICAgICgwIGluIHRoaXMgPyB0aGlzWzBdLmlubmVySFRNTCA6IG51bGwpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRleHQ6IGZ1bmN0aW9uKHRleHQpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDAgaW4gYXJndW1lbnRzID9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24oaWR4KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1RleHQgPSBmdW5jQXJnKHRoaXMsIHRleHQsIGlkeCwgdGhpcy50ZXh0Q29udGVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0Q29udGVudCA9IG5ld1RleHQgPT0gbnVsbCA/ICcnIDogJycrbmV3VGV4dFxyXG4gICAgICAgICAgICAgICAgICAgIH0pIDpcclxuICAgICAgICAgICAgICAgICAgICAoMCBpbiB0aGlzID8gdGhpcy5wbHVjaygndGV4dENvbnRlbnQnKS5qb2luKFwiXCIpIDogbnVsbClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXR0cjogZnVuY3Rpb24obmFtZSwgdmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh0eXBlb2YgbmFtZSA9PSAnc3RyaW5nJyAmJiAhKDEgaW4gYXJndW1lbnRzKSkgP1xyXG4gICAgICAgICAgICAgICAgICAgICgwIGluIHRoaXMgJiYgdGhpc1swXS5ub2RlVHlwZSA9PSAxICYmIChyZXN1bHQgPSB0aGlzWzBdLmdldEF0dHJpYnV0ZShuYW1lKSkgIT0gbnVsbCA/IHJlc3VsdCA6IHVuZGVmaW5lZCkgOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbihpZHgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2RlVHlwZSAhPT0gMSkgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChuYW1lKSkgZm9yIChrZXkgaW4gbmFtZSkgc2V0QXR0cmlidXRlKHRoaXMsIGtleSwgbmFtZVtrZXldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHNldEF0dHJpYnV0ZSh0aGlzLCBuYW1lLCBmdW5jQXJnKHRoaXMsIHZhbHVlLCBpZHgsIHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpKSlcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZW1vdmVBdHRyOiBmdW5jdGlvbihuYW1lKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsgdGhpcy5ub2RlVHlwZSA9PT0gMSAmJiBuYW1lLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbihhdHRyaWJ1dGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEF0dHJpYnV0ZSh0aGlzLCBhdHRyaWJ1dGUpXHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKX0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByb3A6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKXtcclxuICAgICAgICAgICAgICAgIG5hbWUgPSBwcm9wTWFwW25hbWVdIHx8IG5hbWVcclxuICAgICAgICAgICAgICAgIHJldHVybiAoMSBpbiBhcmd1bWVudHMpID9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24oaWR4KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1tuYW1lXSA9IGZ1bmNBcmcodGhpcywgdmFsdWUsIGlkeCwgdGhpc1tuYW1lXSlcclxuICAgICAgICAgICAgICAgICAgICB9KSA6XHJcbiAgICAgICAgICAgICAgICAgICAgKHRoaXNbMF0gJiYgdGhpc1swXVtuYW1lXSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVtb3ZlUHJvcDogZnVuY3Rpb24obmFtZSl7XHJcbiAgICAgICAgICAgICAgICBuYW1lID0gcHJvcE1hcFtuYW1lXSB8fCBuYW1lXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7IGRlbGV0ZSB0aGlzW25hbWVdIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKXtcclxuICAgICAgICAgICAgICAgIHZhciBhdHRyTmFtZSA9ICdkYXRhLScgKyBuYW1lLnJlcGxhY2UoY2FwaXRhbFJFLCAnLSQxJykudG9Mb3dlckNhc2UoKVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gKDEgaW4gYXJndW1lbnRzKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdHRyKGF0dHJOYW1lLCB2YWx1ZSkgOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cihhdHRyTmFtZSlcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YSAhPT0gbnVsbCA/IGRlc2VyaWFsaXplVmFsdWUoZGF0YSkgOiB1bmRlZmluZWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdmFsOiBmdW5jdGlvbih2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICBpZiAoMCBpbiBhcmd1bWVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkgdmFsdWUgPSBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpZHgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gZnVuY0FyZyh0aGlzLCB2YWx1ZSwgaWR4LCB0aGlzLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzWzBdICYmICh0aGlzWzBdLm11bHRpcGxlID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpc1swXSkuZmluZCgnb3B0aW9uJykuZmlsdGVyKGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzLnNlbGVjdGVkIH0pLnBsdWNrKCd2YWx1ZScpIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbMF0udmFsdWUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9mZnNldDogZnVuY3Rpb24oY29vcmRpbmF0ZXMpe1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvb3JkaW5hdGVzKSByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGluZGV4KXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZHMgPSBmdW5jQXJnKHRoaXMsIGNvb3JkaW5hdGVzLCBpbmRleCwgJHRoaXMub2Zmc2V0KCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRPZmZzZXQgPSAkdGhpcy5vZmZzZXRQYXJlbnQoKS5vZmZzZXQoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICBjb29yZHMudG9wICAtIHBhcmVudE9mZnNldC50b3AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBjb29yZHMubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCR0aGlzLmNzcygncG9zaXRpb24nKSA9PSAnc3RhdGljJykgcHJvcHNbJ3Bvc2l0aW9uJ10gPSAncmVsYXRpdmUnXHJcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuY3NzKHByb3BzKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5sZW5ndGgpIHJldHVybiBudWxsXHJcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICE9PSB0aGlzWzBdICYmICEkLmNvbnRhaW5zKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgdGhpc1swXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt0b3A6IDAsIGxlZnQ6IDB9XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0gdGhpc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBvYmoubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldCxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IG9iai50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IE1hdGgucm91bmQob2JqLndpZHRoKSxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IE1hdGgucm91bmQob2JqLmhlaWdodClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3NzOiBmdW5jdGlvbihwcm9wZXJ0eSwgdmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5zdHlsZVtjYW1lbGl6ZShwcm9wZXJ0eSldIHx8IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgJycpLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSB7fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgJycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChwcm9wZXJ0eSwgZnVuY3Rpb24oXywgcHJvcCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1twcm9wXSA9IChlbGVtZW50LnN0eWxlW2NhbWVsaXplKHByb3ApXSB8fCBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wc1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY3NzID0gJydcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlKHByb3BlcnR5KSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbigpeyB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KGRhc2hlcml6ZShwcm9wZXJ0eSkpIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3MgPSBkYXNoZXJpemUocHJvcGVydHkpICsgXCI6XCIgKyBtYXliZUFkZFB4KHByb3BlcnR5LCB2YWx1ZSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gcHJvcGVydHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvcGVydHlba2V5XSAmJiBwcm9wZXJ0eVtrZXldICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKCl7IHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkoZGFzaGVyaXplKGtleSkpIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzcyArPSBkYXNoZXJpemUoa2V5KSArICc6JyArIG1heWJlQWRkUHgoa2V5LCBwcm9wZXJ0eVtrZXldKSArICc7J1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsgdGhpcy5zdHlsZS5jc3NUZXh0ICs9ICc7JyArIGNzcyB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbmRleDogZnVuY3Rpb24oZWxlbWVudCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudCA/IHRoaXMuaW5kZXhPZigkKGVsZW1lbnQpWzBdKSA6IHRoaXMucGFyZW50KCkuY2hpbGRyZW4oKS5pbmRleE9mKHRoaXNbMF0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbihuYW1lKXtcclxuICAgICAgICAgICAgICAgIGlmICghbmFtZSkgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlBcnJheS5zb21lLmNhbGwodGhpcywgZnVuY3Rpb24oZWwpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRlc3QoY2xhc3NOYW1lKGVsKSlcclxuICAgICAgICAgICAgICAgIH0sIGNsYXNzUkUobmFtZSkpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFkZENsYXNzOiBmdW5jdGlvbihuYW1lKXtcclxuICAgICAgICAgICAgICAgIGlmICghbmFtZSkgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaWR4KXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISgnY2xhc3NOYW1lJyBpbiB0aGlzKSkgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0ID0gW11cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xzID0gY2xhc3NOYW1lKHRoaXMpLCBuZXdOYW1lID0gZnVuY0FyZyh0aGlzLCBuYW1lLCBpZHgsIGNscylcclxuICAgICAgICAgICAgICAgICAgICBuZXdOYW1lLnNwbGl0KC9cXHMrL2cpLmZvckVhY2goZnVuY3Rpb24oa2xhc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3Moa2xhc3MpKSBjbGFzc0xpc3QucHVzaChrbGFzcylcclxuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdC5sZW5ndGggJiYgY2xhc3NOYW1lKHRoaXMsIGNscyArIChjbHMgPyBcIiBcIiA6IFwiXCIpICsgY2xhc3NMaXN0LmpvaW4oXCIgXCIpKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKG5hbWUpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpZHgpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKCdjbGFzc05hbWUnIGluIHRoaXMpKSByZXR1cm5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gY2xhc3NOYW1lKHRoaXMsICcnKVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdCA9IGNsYXNzTmFtZSh0aGlzKVxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmNBcmcodGhpcywgbmFtZSwgaWR4LCBjbGFzc0xpc3QpLnNwbGl0KC9cXHMrL2cpLmZvckVhY2goZnVuY3Rpb24oa2xhc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc0xpc3QgPSBjbGFzc0xpc3QucmVwbGFjZShjbGFzc1JFKGtsYXNzKSwgXCIgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUodGhpcywgY2xhc3NMaXN0LnRyaW0oKSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRvZ2dsZUNsYXNzOiBmdW5jdGlvbihuYW1lLCB3aGVuKXtcclxuICAgICAgICAgICAgICAgIGlmICghbmFtZSkgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaWR4KXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLCBuYW1lcyA9IGZ1bmNBcmcodGhpcywgbmFtZSwgaWR4LCBjbGFzc05hbWUodGhpcykpXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZXMuc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbihrbGFzcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICh3aGVuID09PSB1bmRlZmluZWQgPyAhJHRoaXMuaGFzQ2xhc3Moa2xhc3MpIDogd2hlbikgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuYWRkQ2xhc3Moa2xhc3MpIDogJHRoaXMucmVtb3ZlQ2xhc3Moa2xhc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogZnVuY3Rpb24odmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxlbmd0aCkgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzU2Nyb2xsVG9wID0gJ3Njcm9sbFRvcCcgaW4gdGhpc1swXVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiBoYXNTY3JvbGxUb3AgPyB0aGlzWzBdLnNjcm9sbFRvcCA6IHRoaXNbMF0ucGFnZVlPZmZzZXRcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goaGFzU2Nyb2xsVG9wID9cclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpeyB0aGlzLnNjcm9sbFRvcCA9IHZhbHVlIH0gOlxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCl7IHRoaXMuc2Nyb2xsVG8odGhpcy5zY3JvbGxYLCB2YWx1ZSkgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2Nyb2xsTGVmdDogZnVuY3Rpb24odmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxlbmd0aCkgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzU2Nyb2xsTGVmdCA9ICdzY3JvbGxMZWZ0JyBpbiB0aGlzWzBdXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGhhc1Njcm9sbExlZnQgPyB0aGlzWzBdLnNjcm9sbExlZnQgOiB0aGlzWzBdLnBhZ2VYT2Zmc2V0XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGhhc1Njcm9sbExlZnQgP1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCl7IHRoaXMuc2Nyb2xsTGVmdCA9IHZhbHVlIH0gOlxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCl7IHRoaXMuc2Nyb2xsVG8odmFsdWUsIHRoaXMuc2Nyb2xsWSkgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcG9zaXRpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxlbmd0aCkgcmV0dXJuXHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW0gPSB0aGlzWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCAqcmVhbCogb2Zmc2V0UGFyZW50XHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQoKSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgY29ycmVjdCBvZmZzZXRzXHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICAgICAgID0gdGhpcy5vZmZzZXQoKSxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRPZmZzZXQgPSByb290Tm9kZVJFLnRlc3Qob2Zmc2V0UGFyZW50WzBdLm5vZGVOYW1lKSA/IHsgdG9wOiAwLCBsZWZ0OiAwIH0gOiBvZmZzZXRQYXJlbnQub2Zmc2V0KClcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBlbGVtZW50IG1hcmdpbnNcclxuICAgICAgICAgICAgICAgIC8vIG5vdGU6IHdoZW4gYW4gZWxlbWVudCBoYXMgbWFyZ2luOiBhdXRvIHRoZSBvZmZzZXRMZWZ0IGFuZCBtYXJnaW5MZWZ0XHJcbiAgICAgICAgICAgICAgICAvLyBhcmUgdGhlIHNhbWUgaW4gU2FmYXJpIGNhdXNpbmcgb2Zmc2V0LmxlZnQgdG8gaW5jb3JyZWN0bHkgYmUgMFxyXG4gICAgICAgICAgICAgICAgb2Zmc2V0LnRvcCAgLT0gcGFyc2VGbG9hdCggJChlbGVtKS5jc3MoJ21hcmdpbi10b3AnKSApIHx8IDBcclxuICAgICAgICAgICAgICAgIG9mZnNldC5sZWZ0IC09IHBhcnNlRmxvYXQoICQoZWxlbSkuY3NzKCdtYXJnaW4tbGVmdCcpICkgfHwgMFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFkZCBvZmZzZXRQYXJlbnQgYm9yZGVyc1xyXG4gICAgICAgICAgICAgICAgcGFyZW50T2Zmc2V0LnRvcCAgKz0gcGFyc2VGbG9hdCggJChvZmZzZXRQYXJlbnRbMF0pLmNzcygnYm9yZGVyLXRvcC13aWR0aCcpICkgfHwgMFxyXG4gICAgICAgICAgICAgICAgcGFyZW50T2Zmc2V0LmxlZnQgKz0gcGFyc2VGbG9hdCggJChvZmZzZXRQYXJlbnRbMF0pLmNzcygnYm9yZGVyLWxlZnQtd2lkdGgnKSApIHx8IDBcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCB0aGUgdHdvIG9mZnNldHNcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAgb2Zmc2V0LnRvcCAgLSBwYXJlbnRPZmZzZXQudG9wLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudCB8fCBkb2N1bWVudC5ib2R5XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHBhcmVudCAmJiAhcm9vdE5vZGVSRS50ZXN0KHBhcmVudC5ub2RlTmFtZSkgJiYgJChwYXJlbnQpLmNzcyhcInBvc2l0aW9uXCIpID09IFwic3RhdGljXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5vZmZzZXRQYXJlbnRcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBmb3Igbm93XHJcbiAgICAgICAgJC5mbi5kZXRhY2ggPSAkLmZuLnJlbW92ZVxyXG5cclxuICAgICAgICAvLyBHZW5lcmF0ZSB0aGUgYHdpZHRoYCBhbmQgYGhlaWdodGAgZnVuY3Rpb25zXHJcbiAgICAgICAgO1snd2lkdGgnLCAnaGVpZ2h0J10uZm9yRWFjaChmdW5jdGlvbihkaW1lbnNpb24pe1xyXG4gICAgICAgICAgICB2YXIgZGltZW5zaW9uUHJvcGVydHkgPVxyXG4gICAgICAgICAgICAgICAgZGltZW5zaW9uLnJlcGxhY2UoLy4vLCBmdW5jdGlvbihtKXsgcmV0dXJuIG1bMF0udG9VcHBlckNhc2UoKSB9KVxyXG5cclxuICAgICAgICAgICAgJC5mbltkaW1lbnNpb25dID0gZnVuY3Rpb24odmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCwgZWwgPSB0aGlzWzBdXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGlzV2luZG93KGVsKSA/IGVsWydpbm5lcicgKyBkaW1lbnNpb25Qcm9wZXJ0eV0gOlxyXG4gICAgICAgICAgICAgICAgICAgIGlzRG9jdW1lbnQoZWwpID8gZWwuZG9jdW1lbnRFbGVtZW50WydzY3JvbGwnICsgZGltZW5zaW9uUHJvcGVydHldIDpcclxuICAgICAgICAgICAgICAgICAgICAob2Zmc2V0ID0gdGhpcy5vZmZzZXQoKSkgJiYgb2Zmc2V0W2RpbWVuc2lvbl1cclxuICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpZHgpe1xyXG4gICAgICAgICAgICAgICAgICAgIGVsID0gJCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgICAgIGVsLmNzcyhkaW1lbnNpb24sIGZ1bmNBcmcodGhpcywgdmFsdWUsIGlkeCwgZWxbZGltZW5zaW9uXSgpKSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB0cmF2ZXJzZU5vZGUobm9kZSwgZnVuKSB7XHJcbiAgICAgICAgICAgIGZ1bihub2RlKVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxyXG4gICAgICAgICAgICAgICAgdHJhdmVyc2VOb2RlKG5vZGUuY2hpbGROb2Rlc1tpXSwgZnVuKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2VuZXJhdGUgdGhlIGBhZnRlcmAsIGBwcmVwZW5kYCwgYGJlZm9yZWAsIGBhcHBlbmRgLFxyXG4gICAgICAgIC8vIGBpbnNlcnRBZnRlcmAsIGBpbnNlcnRCZWZvcmVgLCBgYXBwZW5kVG9gLCBhbmQgYHByZXBlbmRUb2AgbWV0aG9kcy5cclxuICAgICAgICBhZGphY2VuY3lPcGVyYXRvcnMuZm9yRWFjaChmdW5jdGlvbihvcGVyYXRvciwgb3BlcmF0b3JJbmRleCkge1xyXG4gICAgICAgICAgICB2YXIgaW5zaWRlID0gb3BlcmF0b3JJbmRleCAlIDIgLy89PiBwcmVwZW5kLCBhcHBlbmRcclxuXHJcbiAgICAgICAgICAgICQuZm5bb3BlcmF0b3JdID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIC8vIGFyZ3VtZW50cyBjYW4gYmUgbm9kZXMsIGFycmF5cyBvZiBub2RlcywgWmVwdG8gb2JqZWN0cyBhbmQgSFRNTCBzdHJpbmdzXHJcbiAgICAgICAgICAgICAgICB2YXIgYXJnVHlwZSwgbm9kZXMgPSAkLm1hcChhcmd1bWVudHMsIGZ1bmN0aW9uKGFyZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJyID0gW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnVHlwZSA9IHR5cGUoYXJnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJnVHlwZSA9PSBcImFycmF5XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZy5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsLm5vZGVUeXBlICE9PSB1bmRlZmluZWQpIHJldHVybiBhcnIucHVzaChlbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgkLnplcHRvLmlzWihlbCkpIHJldHVybiBhcnIgPSBhcnIuY29uY2F0KGVsLmdldCgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyciA9IGFyci5jb25jYXQoemVwdG8uZnJhZ21lbnQoZWwpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnVHlwZSA9PSBcIm9iamVjdFwiIHx8IGFyZyA9PSBudWxsID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA6IHplcHRvLmZyYWdtZW50KGFyZylcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQsIGNvcHlCeUNsb25lID0gdGhpcy5sZW5ndGggPiAxXHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZXMubGVuZ3RoIDwgMSkgcmV0dXJuIHRoaXNcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKF8sIHRhcmdldCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gaW5zaWRlID8gdGFyZ2V0IDogdGFyZ2V0LnBhcmVudE5vZGVcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCBhbGwgbWV0aG9kcyB0byBhIFwiYmVmb3JlXCIgb3BlcmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gb3BlcmF0b3JJbmRleCA9PSAwID8gdGFyZ2V0Lm5leHRTaWJsaW5nIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3JJbmRleCA9PSAxID8gdGFyZ2V0LmZpcnN0Q2hpbGQgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3JJbmRleCA9PSAyID8gdGFyZ2V0IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnRJbkRvY3VtZW50ID0gJC5jb250YWlucyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHBhcmVudClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuZm9yRWFjaChmdW5jdGlvbihub2RlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvcHlCeUNsb25lKSBub2RlID0gbm9kZS5jbG9uZU5vZGUodHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIXBhcmVudCkgcmV0dXJuICQobm9kZSkucmVtb3ZlKClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgdGFyZ2V0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50SW5Eb2N1bWVudCkgdHJhdmVyc2VOb2RlKG5vZGUsIGZ1bmN0aW9uKGVsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbC5ub2RlTmFtZSAhPSBudWxsICYmIGVsLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdTQ1JJUFQnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFlbC50eXBlIHx8IGVsLnR5cGUgPT09ICd0ZXh0L2phdmFzY3JpcHQnKSAmJiAhZWwuc3JjKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZWwub3duZXJEb2N1bWVudCA/IGVsLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgOiB3aW5kb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRbJ2V2YWwnXS5jYWxsKHRhcmdldCwgZWwuaW5uZXJIVE1MKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBhZnRlciAgICA9PiBpbnNlcnRBZnRlclxyXG4gICAgICAgICAgICAvLyBwcmVwZW5kICA9PiBwcmVwZW5kVG9cclxuICAgICAgICAgICAgLy8gYmVmb3JlICAgPT4gaW5zZXJ0QmVmb3JlXHJcbiAgICAgICAgICAgIC8vIGFwcGVuZCAgID0+IGFwcGVuZFRvXHJcbiAgICAgICAgICAgICQuZm5baW5zaWRlID8gb3BlcmF0b3IrJ1RvJyA6ICdpbnNlcnQnKyhvcGVyYXRvckluZGV4ID8gJ0JlZm9yZScgOiAnQWZ0ZXInKV0gPSBmdW5jdGlvbihodG1sKXtcclxuICAgICAgICAgICAgICAgICQoaHRtbClbb3BlcmF0b3JdKHRoaXMpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgemVwdG8uWi5wcm90b3R5cGUgPSBaLnByb3RvdHlwZSA9ICQuZm5cclxuXHJcbiAgICAgICAgLy8gRXhwb3J0IGludGVybmFsIEFQSSBmdW5jdGlvbnMgaW4gdGhlIGAkLnplcHRvYCBuYW1lc3BhY2VcclxuICAgICAgICB6ZXB0by51bmlxID0gdW5pcVxyXG4gICAgICAgIHplcHRvLmRlc2VyaWFsaXplVmFsdWUgPSBkZXNlcmlhbGl6ZVZhbHVlXHJcbiAgICAgICAgJC56ZXB0byA9IHplcHRvXHJcblxyXG4gICAgICAgIHJldHVybiAkXHJcbiAgICB9KSgpXHJcblxyXG4gICAgd2luZG93LlplcHRvID0gWmVwdG9cclxuICAgIHdpbmRvdy4kID09PSB1bmRlZmluZWQgJiYgKHdpbmRvdy4kID0gWmVwdG8pXHJcblxyXG4gICAgOyhmdW5jdGlvbigkKXtcclxuICAgICAgICB2YXIgX3ppZCA9IDEsIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UsXHJcbiAgICAgICAgICAgIGlzRnVuY3Rpb24gPSAkLmlzRnVuY3Rpb24sXHJcbiAgICAgICAgICAgIGlzU3RyaW5nID0gZnVuY3Rpb24ob2JqKXsgcmV0dXJuIHR5cGVvZiBvYmogPT0gJ3N0cmluZycgfSxcclxuICAgICAgICAgICAgaGFuZGxlcnMgPSB7fSxcclxuICAgICAgICAgICAgc3BlY2lhbEV2ZW50cz17fSxcclxuICAgICAgICAgICAgZm9jdXNpblN1cHBvcnRlZCA9ICdvbmZvY3VzaW4nIGluIHdpbmRvdyxcclxuICAgICAgICAgICAgZm9jdXMgPSB7IGZvY3VzOiAnZm9jdXNpbicsIGJsdXI6ICdmb2N1c291dCcgfSxcclxuICAgICAgICAgICAgaG92ZXIgPSB7IG1vdXNlZW50ZXI6ICdtb3VzZW92ZXInLCBtb3VzZWxlYXZlOiAnbW91c2VvdXQnIH1cclxuXHJcbiAgICAgICAgc3BlY2lhbEV2ZW50cy5jbGljayA9IHNwZWNpYWxFdmVudHMubW91c2Vkb3duID0gc3BlY2lhbEV2ZW50cy5tb3VzZXVwID0gc3BlY2lhbEV2ZW50cy5tb3VzZW1vdmUgPSAnTW91c2VFdmVudHMnXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHppZChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50Ll96aWQgfHwgKGVsZW1lbnQuX3ppZCA9IF96aWQrKylcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZmluZEhhbmRsZXJzKGVsZW1lbnQsIGV2ZW50LCBmbiwgc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgZXZlbnQgPSBwYXJzZShldmVudClcclxuICAgICAgICAgICAgaWYgKGV2ZW50Lm5zKSB2YXIgbWF0Y2hlciA9IG1hdGNoZXJGb3IoZXZlbnQubnMpXHJcbiAgICAgICAgICAgIHJldHVybiAoaGFuZGxlcnNbemlkKGVsZW1lbnQpXSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uKGhhbmRsZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgKCFldmVudC5lICB8fCBoYW5kbGVyLmUgPT0gZXZlbnQuZSlcclxuICAgICAgICAgICAgICAgICAgICAmJiAoIWV2ZW50Lm5zIHx8IG1hdGNoZXIudGVzdChoYW5kbGVyLm5zKSlcclxuICAgICAgICAgICAgICAgICAgICAmJiAoIWZuICAgICAgIHx8IHppZChoYW5kbGVyLmZuKSA9PT0gemlkKGZuKSlcclxuICAgICAgICAgICAgICAgICAgICAmJiAoIXNlbGVjdG9yIHx8IGhhbmRsZXIuc2VsID09IHNlbGVjdG9yKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwYXJzZShldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgcGFydHMgPSAoJycgKyBldmVudCkuc3BsaXQoJy4nKVxyXG4gICAgICAgICAgICByZXR1cm4ge2U6IHBhcnRzWzBdLCBuczogcGFydHMuc2xpY2UoMSkuc29ydCgpLmpvaW4oJyAnKX1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gbWF0Y2hlckZvcihucykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCgnKD86XnwgKScgKyBucy5yZXBsYWNlKCcgJywgJyAuKiA/JykgKyAnKD86IHwkKScpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBldmVudENhcHR1cmUoaGFuZGxlciwgY2FwdHVyZVNldHRpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIuZGVsICYmXHJcbiAgICAgICAgICAgICAgICAoIWZvY3VzaW5TdXBwb3J0ZWQgJiYgKGhhbmRsZXIuZSBpbiBmb2N1cykpIHx8XHJcbiAgICAgICAgICAgICAgICAhIWNhcHR1cmVTZXR0aW5nXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFsRXZlbnQodHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaG92ZXJbdHlwZV0gfHwgKGZvY3VzaW5TdXBwb3J0ZWQgJiYgZm9jdXNbdHlwZV0pIHx8IHR5cGVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZChlbGVtZW50LCBldmVudHMsIGZuLCBkYXRhLCBzZWxlY3RvciwgZGVsZWdhdG9yLCBjYXB0dXJlKXtcclxuICAgICAgICAgICAgdmFyIGlkID0gemlkKGVsZW1lbnQpLCBzZXQgPSAoaGFuZGxlcnNbaWRdIHx8IChoYW5kbGVyc1tpZF0gPSBbXSkpXHJcbiAgICAgICAgICAgIGV2ZW50cy5zcGxpdCgvXFxzLykuZm9yRWFjaChmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT0gJ3JlYWR5JykgcmV0dXJuICQoZG9jdW1lbnQpLnJlYWR5KGZuKVxyXG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZXIgICA9IHBhcnNlKGV2ZW50KVxyXG4gICAgICAgICAgICAgICAgaGFuZGxlci5mbiAgICA9IGZuXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnNlbCAgID0gc2VsZWN0b3JcclxuICAgICAgICAgICAgICAgIC8vIGVtdWxhdGUgbW91c2VlbnRlciwgbW91c2VsZWF2ZVxyXG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIuZSBpbiBob3ZlcikgZm4gPSBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVsYXRlZCA9IGUucmVsYXRlZFRhcmdldFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVsYXRlZCB8fCAocmVsYXRlZCAhPT0gdGhpcyAmJiAhJC5jb250YWlucyh0aGlzLCByZWxhdGVkKSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyLmZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGhhbmRsZXIuZGVsICAgPSBkZWxlZ2F0b3JcclxuICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayAgPSBkZWxlZ2F0b3IgfHwgZm5cclxuICAgICAgICAgICAgICAgIGhhbmRsZXIucHJveHkgPSBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgICAgICBlID0gY29tcGF0aWJsZShlKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgIGUuZGF0YSA9IGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2suYXBwbHkoZWxlbWVudCwgZS5fYXJncyA9PSB1bmRlZmluZWQgPyBbZV0gOiBbZV0uY29uY2F0KGUuX2FyZ3MpKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSBlLnByZXZlbnREZWZhdWx0KCksIGUuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmkgPSBzZXQubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICBzZXQucHVzaChoYW5kbGVyKVxyXG4gICAgICAgICAgICAgICAgaWYgKCdhZGRFdmVudExpc3RlbmVyJyBpbiBlbGVtZW50KVxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihyZWFsRXZlbnQoaGFuZGxlci5lKSwgaGFuZGxlci5wcm94eSwgZXZlbnRDYXB0dXJlKGhhbmRsZXIsIGNhcHR1cmUpKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmUoZWxlbWVudCwgZXZlbnRzLCBmbiwgc2VsZWN0b3IsIGNhcHR1cmUpe1xyXG4gICAgICAgICAgICB2YXIgaWQgPSB6aWQoZWxlbWVudClcclxuICAgICAgICAgICAgICAgIDsoZXZlbnRzIHx8ICcnKS5zcGxpdCgvXFxzLykuZm9yRWFjaChmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgICAgICAgICBmaW5kSGFuZGxlcnMoZWxlbWVudCwgZXZlbnQsIGZuLCBzZWxlY3RvcikuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVyKXtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNbaWRdW2hhbmRsZXIuaV1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJ3JlbW92ZUV2ZW50TGlzdGVuZXInIGluIGVsZW1lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihyZWFsRXZlbnQoaGFuZGxlci5lKSwgaGFuZGxlci5wcm94eSwgZXZlbnRDYXB0dXJlKGhhbmRsZXIsIGNhcHR1cmUpKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuZXZlbnQgPSB7IGFkZDogYWRkLCByZW1vdmU6IHJlbW92ZSB9XHJcblxyXG4gICAgICAgICQucHJveHkgPSBmdW5jdGlvbihmbiwgY29udGV4dCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9ICgyIGluIGFyZ3VtZW50cykgJiYgc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpXHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb3h5Rm4gPSBmdW5jdGlvbigpeyByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJncyA/IGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkgOiBhcmd1bWVudHMpIH1cclxuICAgICAgICAgICAgICAgIHByb3h5Rm4uX3ppZCA9IHppZChmbilcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm94eUZuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoY29udGV4dCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJncy51bnNoaWZ0KGZuW2NvbnRleHRdLCBmbilcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJC5wcm94eS5hcHBseShudWxsLCBhcmdzKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJC5wcm94eShmbltjb250ZXh0XSwgZm4pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0ZWQgZnVuY3Rpb25cIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJC5mbi5iaW5kID0gZnVuY3Rpb24oZXZlbnQsIGRhdGEsIGNhbGxiYWNrKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub24oZXZlbnQsIGRhdGEsIGNhbGxiYWNrKVxyXG4gICAgICAgIH1cclxuICAgICAgICAkLmZuLnVuYmluZCA9IGZ1bmN0aW9uKGV2ZW50LCBjYWxsYmFjayl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9mZihldmVudCwgY2FsbGJhY2spXHJcbiAgICAgICAgfVxyXG4gICAgICAgICQuZm4ub25lID0gZnVuY3Rpb24oZXZlbnQsIHNlbGVjdG9yLCBkYXRhLCBjYWxsYmFjayl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9uKGV2ZW50LCBzZWxlY3RvciwgZGF0YSwgY2FsbGJhY2ssIDEpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcmV0dXJuVHJ1ZSA9IGZ1bmN0aW9uKCl7cmV0dXJuIHRydWV9LFxyXG4gICAgICAgICAgICByZXR1cm5GYWxzZSA9IGZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfSxcclxuICAgICAgICAgICAgaWdub3JlUHJvcGVydGllcyA9IC9eKFtBLVpdfHJldHVyblZhbHVlJHxsYXllcltYWV0kfHdlYmtpdE1vdmVtZW50W1hZXSQpLyxcclxuICAgICAgICAgICAgZXZlbnRNZXRob2RzID0ge1xyXG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6ICdpc0RlZmF1bHRQcmV2ZW50ZWQnLFxyXG4gICAgICAgICAgICAgICAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiAnaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQnLFxyXG4gICAgICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiAnaXNQcm9wYWdhdGlvblN0b3BwZWQnXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY29tcGF0aWJsZShldmVudCwgc291cmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2UgfHwgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCkge1xyXG4gICAgICAgICAgICAgICAgc291cmNlIHx8IChzb3VyY2UgPSBldmVudClcclxuXHJcbiAgICAgICAgICAgICAgICAkLmVhY2goZXZlbnRNZXRob2RzLCBmdW5jdGlvbihuYW1lLCBwcmVkaWNhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlTWV0aG9kID0gc291cmNlW25hbWVdXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRbbmFtZV0gPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3ByZWRpY2F0ZV0gPSByZXR1cm5UcnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2VNZXRob2QgJiYgc291cmNlTWV0aG9kLmFwcGx5KHNvdXJjZSwgYXJndW1lbnRzKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBldmVudFtwcmVkaWNhdGVdID0gcmV0dXJuRmFsc2VcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgZXZlbnQudGltZVN0YW1wIHx8IChldmVudC50aW1lU3RhbXAgPSBEYXRlLm5vdygpKVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuZGVmYXVsdFByZXZlbnRlZCAhPT0gdW5kZWZpbmVkID8gc291cmNlLmRlZmF1bHRQcmV2ZW50ZWQgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAncmV0dXJuVmFsdWUnIGluIHNvdXJjZSA/IHNvdXJjZS5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UuZ2V0UHJldmVudERlZmF1bHQgJiYgc291cmNlLmdldFByZXZlbnREZWZhdWx0KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBldmVudFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUHJveHkoZXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIGtleSwgcHJveHkgPSB7IG9yaWdpbmFsRXZlbnQ6IGV2ZW50IH1cclxuICAgICAgICAgICAgZm9yIChrZXkgaW4gZXZlbnQpXHJcbiAgICAgICAgICAgICAgICBpZiAoIWlnbm9yZVByb3BlcnRpZXMudGVzdChrZXkpICYmIGV2ZW50W2tleV0gIT09IHVuZGVmaW5lZCkgcHJveHlba2V5XSA9IGV2ZW50W2tleV1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb21wYXRpYmxlKHByb3h5LCBldmVudClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuZm4uZGVsZWdhdGUgPSBmdW5jdGlvbihzZWxlY3RvciwgZXZlbnQsIGNhbGxiYWNrKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub24oZXZlbnQsIHNlbGVjdG9yLCBjYWxsYmFjaylcclxuICAgICAgICB9XHJcbiAgICAgICAgJC5mbi51bmRlbGVnYXRlID0gZnVuY3Rpb24oc2VsZWN0b3IsIGV2ZW50LCBjYWxsYmFjayl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9mZihldmVudCwgc2VsZWN0b3IsIGNhbGxiYWNrKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJC5mbi5saXZlID0gZnVuY3Rpb24oZXZlbnQsIGNhbGxiYWNrKXtcclxuICAgICAgICAgICAgJChkb2N1bWVudC5ib2R5KS5kZWxlZ2F0ZSh0aGlzLnNlbGVjdG9yLCBldmVudCwgY2FsbGJhY2spXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgfVxyXG4gICAgICAgICQuZm4uZGllID0gZnVuY3Rpb24oZXZlbnQsIGNhbGxiYWNrKXtcclxuICAgICAgICAgICAgJChkb2N1bWVudC5ib2R5KS51bmRlbGVnYXRlKHRoaXMuc2VsZWN0b3IsIGV2ZW50LCBjYWxsYmFjaylcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuZm4ub24gPSBmdW5jdGlvbihldmVudCwgc2VsZWN0b3IsIGRhdGEsIGNhbGxiYWNrLCBvbmUpe1xyXG4gICAgICAgICAgICB2YXIgYXV0b1JlbW92ZSwgZGVsZWdhdG9yLCAkdGhpcyA9IHRoaXNcclxuICAgICAgICAgICAgaWYgKGV2ZW50ICYmICFpc1N0cmluZyhldmVudCkpIHtcclxuICAgICAgICAgICAgICAgICQuZWFjaChldmVudCwgZnVuY3Rpb24odHlwZSwgZm4pe1xyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLm9uKHR5cGUsIHNlbGVjdG9yLCBkYXRhLCBmbiwgb25lKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHJldHVybiAkdGhpc1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIWlzU3RyaW5nKHNlbGVjdG9yKSAmJiAhaXNGdW5jdGlvbihjYWxsYmFjaykgJiYgY2FsbGJhY2sgIT09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBkYXRhLCBkYXRhID0gc2VsZWN0b3IsIHNlbGVjdG9yID0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIGlmIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkIHx8IGRhdGEgPT09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBkYXRhLCBkYXRhID0gdW5kZWZpbmVkXHJcblxyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2sgPT09IGZhbHNlKSBjYWxsYmFjayA9IHJldHVybkZhbHNlXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gJHRoaXMuZWFjaChmdW5jdGlvbihfLCBlbGVtZW50KXtcclxuICAgICAgICAgICAgICAgIGlmIChvbmUpIGF1dG9SZW1vdmUgPSBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmUoZWxlbWVudCwgZS50eXBlLCBjYWxsYmFjaylcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RvcikgZGVsZWdhdG9yID0gZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2dCwgbWF0Y2ggPSAkKGUudGFyZ2V0KS5jbG9zZXN0KHNlbGVjdG9yLCBlbGVtZW50KS5nZXQoMClcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2ggIT09IGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZ0ID0gJC5leHRlbmQoY3JlYXRlUHJveHkoZSksIHtjdXJyZW50VGFyZ2V0OiBtYXRjaCwgbGl2ZUZpcmVkOiBlbGVtZW50fSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhdXRvUmVtb3ZlIHx8IGNhbGxiYWNrKS5hcHBseShtYXRjaCwgW2V2dF0uY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGFkZChlbGVtZW50LCBldmVudCwgY2FsbGJhY2ssIGRhdGEsIHNlbGVjdG9yLCBkZWxlZ2F0b3IgfHwgYXV0b1JlbW92ZSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgJC5mbi5vZmYgPSBmdW5jdGlvbihldmVudCwgc2VsZWN0b3IsIGNhbGxiYWNrKXtcclxuICAgICAgICAgICAgdmFyICR0aGlzID0gdGhpc1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQgJiYgIWlzU3RyaW5nKGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgJC5lYWNoKGV2ZW50LCBmdW5jdGlvbih0eXBlLCBmbil7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMub2ZmKHR5cGUsIHNlbGVjdG9yLCBmbilcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJHRoaXNcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFpc1N0cmluZyhzZWxlY3RvcikgJiYgIWlzRnVuY3Rpb24oY2FsbGJhY2spICYmIGNhbGxiYWNrICE9PSBmYWxzZSlcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gc2VsZWN0b3IsIHNlbGVjdG9yID0gdW5kZWZpbmVkXHJcblxyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2sgPT09IGZhbHNlKSBjYWxsYmFjayA9IHJldHVybkZhbHNlXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gJHRoaXMuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlKHRoaXMsIGV2ZW50LCBjYWxsYmFjaywgc2VsZWN0b3IpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkLmZuLnRyaWdnZXIgPSBmdW5jdGlvbihldmVudCwgYXJncyl7XHJcbiAgICAgICAgICAgIGV2ZW50ID0gKGlzU3RyaW5nKGV2ZW50KSB8fCAkLmlzUGxhaW5PYmplY3QoZXZlbnQpKSA/ICQuRXZlbnQoZXZlbnQpIDogY29tcGF0aWJsZShldmVudClcclxuICAgICAgICAgICAgZXZlbnQuX2FyZ3MgPSBhcmdzXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBmb2N1cygpLCBibHVyKCkgYnkgY2FsbGluZyB0aGVtIGRpcmVjdGx5XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSBpbiBmb2N1cyAmJiB0eXBlb2YgdGhpc1tldmVudC50eXBlXSA9PSBcImZ1bmN0aW9uXCIpIHRoaXNbZXZlbnQudHlwZV0oKVxyXG4gICAgICAgICAgICAgICAgLy8gaXRlbXMgaW4gdGhlIGNvbGxlY3Rpb24gbWlnaHQgbm90IGJlIERPTSBlbGVtZW50c1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoJ2Rpc3BhdGNoRXZlbnQnIGluIHRoaXMpIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudClcclxuICAgICAgICAgICAgICAgIGVsc2UgJCh0aGlzKS50cmlnZ2VySGFuZGxlcihldmVudCwgYXJncylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHRyaWdnZXJzIGV2ZW50IGhhbmRsZXJzIG9uIGN1cnJlbnQgZWxlbWVudCBqdXN0IGFzIGlmIGFuIGV2ZW50IG9jY3VycmVkLFxyXG4gICAgICAgIC8vIGRvZXNuJ3QgdHJpZ2dlciBhbiBhY3R1YWwgZXZlbnQsIGRvZXNuJ3QgYnViYmxlXHJcbiAgICAgICAgJC5mbi50cmlnZ2VySGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50LCBhcmdzKXtcclxuICAgICAgICAgICAgdmFyIGUsIHJlc3VsdFxyXG4gICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24oaSwgZWxlbWVudCl7XHJcbiAgICAgICAgICAgICAgICBlID0gY3JlYXRlUHJveHkoaXNTdHJpbmcoZXZlbnQpID8gJC5FdmVudChldmVudCkgOiBldmVudClcclxuICAgICAgICAgICAgICAgIGUuX2FyZ3MgPSBhcmdzXHJcbiAgICAgICAgICAgICAgICBlLnRhcmdldCA9IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICQuZWFjaChmaW5kSGFuZGxlcnMoZWxlbWVudCwgZXZlbnQudHlwZSB8fCBldmVudCksIGZ1bmN0aW9uKGksIGhhbmRsZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIucHJveHkoZSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSByZXR1cm4gZmFsc2VcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNob3J0Y3V0IG1ldGhvZHMgZm9yIGAuYmluZChldmVudCwgZm4pYCBmb3IgZWFjaCBldmVudCB0eXBlXHJcbiAgICAgICAgOygnZm9jdXNpbiBmb2N1c291dCBmb2N1cyBibHVyIGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgJytcclxuICAgICAgICAnbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgJytcclxuICAgICAgICAnY2hhbmdlIHNlbGVjdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yJykuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICQuZm5bZXZlbnRdID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoMCBpbiBhcmd1bWVudHMpID9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmQoZXZlbnQsIGNhbGxiYWNrKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKGV2ZW50KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgJC5FdmVudCA9IGZ1bmN0aW9uKHR5cGUsIHByb3BzKSB7XHJcbiAgICAgICAgICAgIGlmICghaXNTdHJpbmcodHlwZSkpIHByb3BzID0gdHlwZSwgdHlwZSA9IHByb3BzLnR5cGVcclxuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoc3BlY2lhbEV2ZW50c1t0eXBlXSB8fCAnRXZlbnRzJyksIGJ1YmJsZXMgPSB0cnVlXHJcbiAgICAgICAgICAgIGlmIChwcm9wcykgZm9yICh2YXIgbmFtZSBpbiBwcm9wcykgKG5hbWUgPT0gJ2J1YmJsZXMnKSA/IChidWJibGVzID0gISFwcm9wc1tuYW1lXSkgOiAoZXZlbnRbbmFtZV0gPSBwcm9wc1tuYW1lXSlcclxuICAgICAgICAgICAgZXZlbnQuaW5pdEV2ZW50KHR5cGUsIGJ1YmJsZXMsIHRydWUpXHJcbiAgICAgICAgICAgIHJldHVybiBjb21wYXRpYmxlKGV2ZW50KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KShaZXB0bylcclxuXHJcbiAgICA7KGZ1bmN0aW9uKCQpe1xyXG4gICAgICAgIHZhciBqc29ucElEID0gK25ldyBEYXRlKCksXHJcbiAgICAgICAgICAgIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50LFxyXG4gICAgICAgICAgICBrZXksXHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIHJzY3JpcHQgPSAvPHNjcmlwdFxcYltePF0qKD86KD8hPFxcL3NjcmlwdD4pPFtePF0qKSo8XFwvc2NyaXB0Pi9naSxcclxuICAgICAgICAgICAgc2NyaXB0VHlwZVJFID0gL14oPzp0ZXh0fGFwcGxpY2F0aW9uKVxcL2phdmFzY3JpcHQvaSxcclxuICAgICAgICAgICAgeG1sVHlwZVJFID0gL14oPzp0ZXh0fGFwcGxpY2F0aW9uKVxcL3htbC9pLFxyXG4gICAgICAgICAgICBqc29uVHlwZSA9ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgaHRtbFR5cGUgPSAndGV4dC9odG1sJyxcclxuICAgICAgICAgICAgYmxhbmtSRSA9IC9eXFxzKiQvLFxyXG4gICAgICAgICAgICBvcmlnaW5BbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcclxuXHJcbiAgICAgICAgb3JpZ2luQW5jaG9yLmhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxyXG5cclxuICAgICAgICAvLyB0cmlnZ2VyIGEgY3VzdG9tIGV2ZW50IGFuZCByZXR1cm4gZmFsc2UgaWYgaXQgd2FzIGNhbmNlbGxlZFxyXG4gICAgICAgIGZ1bmN0aW9uIHRyaWdnZXJBbmRSZXR1cm4oY29udGV4dCwgZXZlbnROYW1lLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBldmVudCA9ICQuRXZlbnQoZXZlbnROYW1lKVxyXG4gICAgICAgICAgICAkKGNvbnRleHQpLnRyaWdnZXIoZXZlbnQsIGRhdGEpXHJcbiAgICAgICAgICAgIHJldHVybiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHRyaWdnZXIgYW4gQWpheCBcImdsb2JhbFwiIGV2ZW50XHJcbiAgICAgICAgZnVuY3Rpb24gdHJpZ2dlckdsb2JhbChzZXR0aW5ncywgY29udGV4dCwgZXZlbnROYW1lLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5nbG9iYWwpIHJldHVybiB0cmlnZ2VyQW5kUmV0dXJuKGNvbnRleHQgfHwgZG9jdW1lbnQsIGV2ZW50TmFtZSwgZGF0YSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE51bWJlciBvZiBhY3RpdmUgQWpheCByZXF1ZXN0c1xyXG4gICAgICAgICQuYWN0aXZlID0gMFxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhamF4U3RhcnQoc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLmdsb2JhbCAmJiAkLmFjdGl2ZSsrID09PSAwKSB0cmlnZ2VyR2xvYmFsKHNldHRpbmdzLCBudWxsLCAnYWpheFN0YXJ0JylcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gYWpheFN0b3Aoc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLmdsb2JhbCAmJiAhKC0tJC5hY3RpdmUpKSB0cmlnZ2VyR2xvYmFsKHNldHRpbmdzLCBudWxsLCAnYWpheFN0b3AnKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdHJpZ2dlcnMgYW4gZXh0cmEgZ2xvYmFsIGV2ZW50IFwiYWpheEJlZm9yZVNlbmRcIiB0aGF0J3MgbGlrZSBcImFqYXhTZW5kXCIgYnV0IGNhbmNlbGFibGVcclxuICAgICAgICBmdW5jdGlvbiBhamF4QmVmb3JlU2VuZCh4aHIsIHNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gc2V0dGluZ3MuY29udGV4dFxyXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuYmVmb3JlU2VuZC5jYWxsKGNvbnRleHQsIHhociwgc2V0dGluZ3MpID09PSBmYWxzZSB8fFxyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckdsb2JhbChzZXR0aW5ncywgY29udGV4dCwgJ2FqYXhCZWZvcmVTZW5kJywgW3hociwgc2V0dGluZ3NdKSA9PT0gZmFsc2UpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuXHJcbiAgICAgICAgICAgIHRyaWdnZXJHbG9iYWwoc2V0dGluZ3MsIGNvbnRleHQsICdhamF4U2VuZCcsIFt4aHIsIHNldHRpbmdzXSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gYWpheFN1Y2Nlc3MoZGF0YSwgeGhyLCBzZXR0aW5ncywgZGVmZXJyZWQpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBzZXR0aW5ncy5jb250ZXh0LCBzdGF0dXMgPSAnc3VjY2VzcydcclxuICAgICAgICAgICAgc2V0dGluZ3Muc3VjY2Vzcy5jYWxsKGNvbnRleHQsIGRhdGEsIHN0YXR1cywgeGhyKVxyXG4gICAgICAgICAgICBpZiAoZGVmZXJyZWQpIGRlZmVycmVkLnJlc29sdmVXaXRoKGNvbnRleHQsIFtkYXRhLCBzdGF0dXMsIHhocl0pXHJcbiAgICAgICAgICAgIHRyaWdnZXJHbG9iYWwoc2V0dGluZ3MsIGNvbnRleHQsICdhamF4U3VjY2VzcycsIFt4aHIsIHNldHRpbmdzLCBkYXRhXSlcclxuICAgICAgICAgICAgYWpheENvbXBsZXRlKHN0YXR1cywgeGhyLCBzZXR0aW5ncylcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdHlwZTogXCJ0aW1lb3V0XCIsIFwiZXJyb3JcIiwgXCJhYm9ydFwiLCBcInBhcnNlcmVycm9yXCJcclxuICAgICAgICBmdW5jdGlvbiBhamF4RXJyb3IoZXJyb3IsIHR5cGUsIHhociwgc2V0dGluZ3MsIGRlZmVycmVkKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gc2V0dGluZ3MuY29udGV4dFxyXG4gICAgICAgICAgICBzZXR0aW5ncy5lcnJvci5jYWxsKGNvbnRleHQsIHhociwgdHlwZSwgZXJyb3IpXHJcbiAgICAgICAgICAgIGlmIChkZWZlcnJlZCkgZGVmZXJyZWQucmVqZWN0V2l0aChjb250ZXh0LCBbeGhyLCB0eXBlLCBlcnJvcl0pXHJcbiAgICAgICAgICAgIHRyaWdnZXJHbG9iYWwoc2V0dGluZ3MsIGNvbnRleHQsICdhamF4RXJyb3InLCBbeGhyLCBzZXR0aW5ncywgZXJyb3IgfHwgdHlwZV0pXHJcbiAgICAgICAgICAgIGFqYXhDb21wbGV0ZSh0eXBlLCB4aHIsIHNldHRpbmdzKVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBcIm5vdG1vZGlmaWVkXCIsIFwiZXJyb3JcIiwgXCJ0aW1lb3V0XCIsIFwiYWJvcnRcIiwgXCJwYXJzZXJlcnJvclwiXHJcbiAgICAgICAgZnVuY3Rpb24gYWpheENvbXBsZXRlKHN0YXR1cywgeGhyLCBzZXR0aW5ncykge1xyXG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHNldHRpbmdzLmNvbnRleHRcclxuICAgICAgICAgICAgc2V0dGluZ3MuY29tcGxldGUuY2FsbChjb250ZXh0LCB4aHIsIHN0YXR1cylcclxuICAgICAgICAgICAgdHJpZ2dlckdsb2JhbChzZXR0aW5ncywgY29udGV4dCwgJ2FqYXhDb21wbGV0ZScsIFt4aHIsIHNldHRpbmdzXSlcclxuICAgICAgICAgICAgYWpheFN0b3Aoc2V0dGluZ3MpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhamF4RGF0YUZpbHRlcihkYXRhLCB0eXBlLCBzZXR0aW5ncykge1xyXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuZGF0YUZpbHRlciA9PSBlbXB0eSkgcmV0dXJuIGRhdGFcclxuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBzZXR0aW5ncy5jb250ZXh0XHJcbiAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5kYXRhRmlsdGVyLmNhbGwoY29udGV4dCwgZGF0YSwgdHlwZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEVtcHR5IGZ1bmN0aW9uLCB1c2VkIGFzIGRlZmF1bHQgY2FsbGJhY2tcclxuICAgICAgICBmdW5jdGlvbiBlbXB0eSgpIHt9XHJcblxyXG4gICAgICAgICQuYWpheEpTT05QID0gZnVuY3Rpb24ob3B0aW9ucywgZGVmZXJyZWQpe1xyXG4gICAgICAgICAgICBpZiAoISgndHlwZScgaW4gb3B0aW9ucykpIHJldHVybiAkLmFqYXgob3B0aW9ucylcclxuXHJcbiAgICAgICAgICAgIHZhciBfY2FsbGJhY2tOYW1lID0gb3B0aW9ucy5qc29ucENhbGxiYWNrLFxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tOYW1lID0gKCQuaXNGdW5jdGlvbihfY2FsbGJhY2tOYW1lKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jYWxsYmFja05hbWUoKSA6IF9jYWxsYmFja05hbWUpIHx8ICgnWmVwdG8nICsgKGpzb25wSUQrKykpLFxyXG4gICAgICAgICAgICAgICAgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JyksXHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbENhbGxiYWNrID0gd2luZG93W2NhbGxiYWNrTmFtZV0sXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZURhdGEsXHJcbiAgICAgICAgICAgICAgICBhYm9ydCA9IGZ1bmN0aW9uKGVycm9yVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoc2NyaXB0KS50cmlnZ2VySGFuZGxlcignZXJyb3InLCBlcnJvclR5cGUgfHwgJ2Fib3J0JylcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB4aHIgPSB7IGFib3J0OiBhYm9ydCB9LCBhYm9ydFRpbWVvdXRcclxuXHJcbiAgICAgICAgICAgIGlmIChkZWZlcnJlZCkgZGVmZXJyZWQucHJvbWlzZSh4aHIpXHJcblxyXG4gICAgICAgICAgICAkKHNjcmlwdCkub24oJ2xvYWQgZXJyb3InLCBmdW5jdGlvbihlLCBlcnJvclR5cGUpe1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGFib3J0VGltZW91dClcclxuICAgICAgICAgICAgICAgICQoc2NyaXB0KS5vZmYoKS5yZW1vdmUoKVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChlLnR5cGUgPT0gJ2Vycm9yJyB8fCAhcmVzcG9uc2VEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWpheEVycm9yKG51bGwsIGVycm9yVHlwZSB8fCAnZXJyb3InLCB4aHIsIG9wdGlvbnMsIGRlZmVycmVkKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhamF4U3VjY2VzcyhyZXNwb25zZURhdGFbMF0sIHhociwgb3B0aW9ucywgZGVmZXJyZWQpXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgd2luZG93W2NhbGxiYWNrTmFtZV0gPSBvcmlnaW5hbENhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhICYmICQuaXNGdW5jdGlvbihvcmlnaW5hbENhbGxiYWNrKSlcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbENhbGxiYWNrKHJlc3BvbnNlRGF0YVswXSlcclxuXHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbENhbGxiYWNrID0gcmVzcG9uc2VEYXRhID0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBpZiAoYWpheEJlZm9yZVNlbmQoeGhyLCBvcHRpb25zKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGFib3J0KCdhYm9ydCcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4geGhyXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHdpbmRvd1tjYWxsYmFja05hbWVdID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IGFyZ3VtZW50c1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzY3JpcHQuc3JjID0gb3B0aW9ucy51cmwucmVwbGFjZSgvXFw/KC4rKT1cXD8vLCAnPyQxPScgKyBjYWxsYmFja05hbWUpXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KVxyXG5cclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudGltZW91dCA+IDApIGFib3J0VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGFib3J0KCd0aW1lb3V0JylcclxuICAgICAgICAgICAgfSwgb3B0aW9ucy50aW1lb3V0KVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHhoclxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJC5hamF4U2V0dGluZ3MgPSB7XHJcbiAgICAgICAgICAgIC8vIERlZmF1bHQgdHlwZSBvZiByZXF1ZXN0XHJcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgICAgICAvLyBDYWxsYmFjayB0aGF0IGlzIGV4ZWN1dGVkIGJlZm9yZSByZXF1ZXN0XHJcbiAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGVtcHR5LFxyXG4gICAgICAgICAgICAvLyBDYWxsYmFjayB0aGF0IGlzIGV4ZWN1dGVkIGlmIHRoZSByZXF1ZXN0IHN1Y2NlZWRzXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGVtcHR5LFxyXG4gICAgICAgICAgICAvLyBDYWxsYmFjayB0aGF0IGlzIGV4ZWN1dGVkIHRoZSB0aGUgc2VydmVyIGRyb3BzIGVycm9yXHJcbiAgICAgICAgICAgIGVycm9yOiBlbXB0eSxcclxuICAgICAgICAgICAgLy8gQ2FsbGJhY2sgdGhhdCBpcyBleGVjdXRlZCBvbiByZXF1ZXN0IGNvbXBsZXRlIChib3RoOiBlcnJvciBhbmQgc3VjY2VzcylcclxuICAgICAgICAgICAgY29tcGxldGU6IGVtcHR5LFxyXG4gICAgICAgICAgICAvLyBUaGUgY29udGV4dCBmb3IgdGhlIGNhbGxiYWNrc1xyXG4gICAgICAgICAgICBjb250ZXh0OiBudWxsLFxyXG4gICAgICAgICAgICAvLyBXaGV0aGVyIHRvIHRyaWdnZXIgXCJnbG9iYWxcIiBBamF4IGV2ZW50c1xyXG4gICAgICAgICAgICBnbG9iYWw6IHRydWUsXHJcbiAgICAgICAgICAgIC8vIFRyYW5zcG9ydFxyXG4gICAgICAgICAgICB4aHI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gTUlNRSB0eXBlcyBtYXBwaW5nXHJcbiAgICAgICAgICAgIC8vIElJUyByZXR1cm5zIEphdmFzY3JpcHQgYXMgXCJhcHBsaWNhdGlvbi94LWphdmFzY3JpcHRcIlxyXG4gICAgICAgICAgICBhY2NlcHRzOiB7XHJcbiAgICAgICAgICAgICAgICBzY3JpcHQ6ICd0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdCcsXHJcbiAgICAgICAgICAgICAgICBqc29uOiAgIGpzb25UeXBlLFxyXG4gICAgICAgICAgICAgICAgeG1sOiAgICAnYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCcsXHJcbiAgICAgICAgICAgICAgICBodG1sOiAgIGh0bWxUeXBlLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogICAndGV4dC9wbGFpbidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gV2hldGhlciB0aGUgcmVxdWVzdCBpcyB0byBhbm90aGVyIGRvbWFpblxyXG4gICAgICAgICAgICBjcm9zc0RvbWFpbjogZmFsc2UsXHJcbiAgICAgICAgICAgIC8vIERlZmF1bHQgdGltZW91dFxyXG4gICAgICAgICAgICB0aW1lb3V0OiAwLFxyXG4gICAgICAgICAgICAvLyBXaGV0aGVyIGRhdGEgc2hvdWxkIGJlIHNlcmlhbGl6ZWQgdG8gc3RyaW5nXHJcbiAgICAgICAgICAgIHByb2Nlc3NEYXRhOiB0cnVlLFxyXG4gICAgICAgICAgICAvLyBXaGV0aGVyIHRoZSBicm93c2VyIHNob3VsZCBiZSBhbGxvd2VkIHRvIGNhY2hlIEdFVCByZXNwb25zZXNcclxuICAgICAgICAgICAgY2FjaGU6IHRydWUsXHJcbiAgICAgICAgICAgIC8vVXNlZCB0byBoYW5kbGUgdGhlIHJhdyByZXNwb25zZSBkYXRhIG9mIFhNTEh0dHBSZXF1ZXN0LlxyXG4gICAgICAgICAgICAvL1RoaXMgaXMgYSBwcmUtZmlsdGVyaW5nIGZ1bmN0aW9uIHRvIHNhbml0aXplIHRoZSByZXNwb25zZS5cclxuICAgICAgICAgICAgLy9UaGUgc2FuaXRpemVkIHJlc3BvbnNlIHNob3VsZCBiZSByZXR1cm5lZFxyXG4gICAgICAgICAgICBkYXRhRmlsdGVyOiBlbXB0eVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbWltZVRvRGF0YVR5cGUobWltZSkge1xyXG4gICAgICAgICAgICBpZiAobWltZSkgbWltZSA9IG1pbWUuc3BsaXQoJzsnLCAyKVswXVxyXG4gICAgICAgICAgICByZXR1cm4gbWltZSAmJiAoIG1pbWUgPT0gaHRtbFR5cGUgPyAnaHRtbCcgOlxyXG4gICAgICAgICAgICAgICAgICAgIG1pbWUgPT0ganNvblR5cGUgPyAnanNvbicgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JpcHRUeXBlUkUudGVzdChtaW1lKSA/ICdzY3JpcHQnIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgeG1sVHlwZVJFLnRlc3QobWltZSkgJiYgJ3htbCcgKSB8fCAndGV4dCdcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFwcGVuZFF1ZXJ5KHVybCwgcXVlcnkpIHtcclxuICAgICAgICAgICAgaWYgKHF1ZXJ5ID09ICcnKSByZXR1cm4gdXJsXHJcbiAgICAgICAgICAgIHJldHVybiAodXJsICsgJyYnICsgcXVlcnkpLnJlcGxhY2UoL1smP117MSwyfS8sICc/JylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNlcmlhbGl6ZSBwYXlsb2FkIGFuZCBhcHBlbmQgaXQgdG8gdGhlIFVSTCBmb3IgR0VUIHJlcXVlc3RzXHJcbiAgICAgICAgZnVuY3Rpb24gc2VyaWFsaXplRGF0YShvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnByb2Nlc3NEYXRhICYmIG9wdGlvbnMuZGF0YSAmJiAkLnR5cGUob3B0aW9ucy5kYXRhKSAhPSBcInN0cmluZ1wiKVxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gJC5wYXJhbShvcHRpb25zLmRhdGEsIG9wdGlvbnMudHJhZGl0aW9uYWwpXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRhdGEgJiYgKCFvcHRpb25zLnR5cGUgfHwgb3B0aW9ucy50eXBlLnRvVXBwZXJDYXNlKCkgPT0gJ0dFVCcgfHwgJ2pzb25wJyA9PSBvcHRpb25zLmRhdGFUeXBlKSlcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMudXJsID0gYXBwZW5kUXVlcnkob3B0aW9ucy51cmwsIG9wdGlvbnMuZGF0YSksIG9wdGlvbnMuZGF0YSA9IHVuZGVmaW5lZFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJC5hamF4ID0gZnVuY3Rpb24ob3B0aW9ucyl7XHJcbiAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCBvcHRpb25zIHx8IHt9KSxcclxuICAgICAgICAgICAgICAgIGRlZmVycmVkID0gJC5EZWZlcnJlZCAmJiAkLkRlZmVycmVkKCksXHJcbiAgICAgICAgICAgICAgICB1cmxBbmNob3IsIGhhc2hJbmRleFxyXG4gICAgICAgICAgICBmb3IgKGtleSBpbiAkLmFqYXhTZXR0aW5ncykgaWYgKHNldHRpbmdzW2tleV0gPT09IHVuZGVmaW5lZCkgc2V0dGluZ3Nba2V5XSA9ICQuYWpheFNldHRpbmdzW2tleV1cclxuXHJcbiAgICAgICAgICAgIGFqYXhTdGFydChzZXR0aW5ncylcclxuXHJcbiAgICAgICAgICAgIGlmICghc2V0dGluZ3MuY3Jvc3NEb21haW4pIHtcclxuICAgICAgICAgICAgICAgIHVybEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxyXG4gICAgICAgICAgICAgICAgdXJsQW5jaG9yLmhyZWYgPSBzZXR0aW5ncy51cmxcclxuICAgICAgICAgICAgICAgIC8vIGNsZWFucyB1cCBVUkwgZm9yIC5ocmVmIChJRSBvbmx5KSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYWRyb2JieS96ZXB0by9wdWxsLzEwNDlcclxuICAgICAgICAgICAgICAgIHVybEFuY2hvci5ocmVmID0gdXJsQW5jaG9yLmhyZWZcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzLmNyb3NzRG9tYWluID0gKG9yaWdpbkFuY2hvci5wcm90b2NvbCArICcvLycgKyBvcmlnaW5BbmNob3IuaG9zdCkgIT09ICh1cmxBbmNob3IucHJvdG9jb2wgKyAnLy8nICsgdXJsQW5jaG9yLmhvc3QpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghc2V0dGluZ3MudXJsKSBzZXR0aW5ncy51cmwgPSB3aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKVxyXG4gICAgICAgICAgICBpZiAoKGhhc2hJbmRleCA9IHNldHRpbmdzLnVybC5pbmRleE9mKCcjJykpID4gLTEpIHNldHRpbmdzLnVybCA9IHNldHRpbmdzLnVybC5zbGljZSgwLCBoYXNoSW5kZXgpXHJcbiAgICAgICAgICAgIHNlcmlhbGl6ZURhdGEoc2V0dGluZ3MpXHJcblxyXG4gICAgICAgICAgICB2YXIgZGF0YVR5cGUgPSBzZXR0aW5ncy5kYXRhVHlwZSwgaGFzUGxhY2Vob2xkZXIgPSAvXFw/Lis9XFw/Ly50ZXN0KHNldHRpbmdzLnVybClcclxuICAgICAgICAgICAgaWYgKGhhc1BsYWNlaG9sZGVyKSBkYXRhVHlwZSA9ICdqc29ucCdcclxuXHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5jYWNoZSA9PT0gZmFsc2UgfHwgKFxyXG4gICAgICAgICAgICAgICAgICAgICghb3B0aW9ucyB8fCBvcHRpb25zLmNhY2hlICE9PSB0cnVlKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICgnc2NyaXB0JyA9PSBkYXRhVHlwZSB8fCAnanNvbnAnID09IGRhdGFUeXBlKVxyXG4gICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzLnVybCA9IGFwcGVuZFF1ZXJ5KHNldHRpbmdzLnVybCwgJ189JyArIERhdGUubm93KCkpXHJcblxyXG4gICAgICAgICAgICBpZiAoJ2pzb25wJyA9PSBkYXRhVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNQbGFjZWhvbGRlcilcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy51cmwgPSBhcHBlbmRRdWVyeShzZXR0aW5ncy51cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmpzb25wID8gKHNldHRpbmdzLmpzb25wICsgJz0/JykgOiBzZXR0aW5ncy5qc29ucCA9PT0gZmFsc2UgPyAnJyA6ICdjYWxsYmFjaz0/JylcclxuICAgICAgICAgICAgICAgIHJldHVybiAkLmFqYXhKU09OUChzZXR0aW5ncywgZGVmZXJyZWQpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBtaW1lID0gc2V0dGluZ3MuYWNjZXB0c1tkYXRhVHlwZV0sXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzID0geyB9LFxyXG4gICAgICAgICAgICAgICAgc2V0SGVhZGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHsgaGVhZGVyc1tuYW1lLnRvTG93ZXJDYXNlKCldID0gW25hbWUsIHZhbHVlXSB9LFxyXG4gICAgICAgICAgICAgICAgcHJvdG9jb2wgPSAvXihbXFx3LV0rOilcXC9cXC8vLnRlc3Qoc2V0dGluZ3MudXJsKSA/IFJlZ0V4cC4kMSA6IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCxcclxuICAgICAgICAgICAgICAgIHhociA9IHNldHRpbmdzLnhocigpLFxyXG4gICAgICAgICAgICAgICAgbmF0aXZlU2V0SGVhZGVyID0geGhyLnNldFJlcXVlc3RIZWFkZXIsXHJcbiAgICAgICAgICAgICAgICBhYm9ydFRpbWVvdXRcclxuXHJcbiAgICAgICAgICAgIGlmIChkZWZlcnJlZCkgZGVmZXJyZWQucHJvbWlzZSh4aHIpXHJcblxyXG4gICAgICAgICAgICBpZiAoIXNldHRpbmdzLmNyb3NzRG9tYWluKSBzZXRIZWFkZXIoJ1gtUmVxdWVzdGVkLVdpdGgnLCAnWE1MSHR0cFJlcXVlc3QnKVxyXG4gICAgICAgICAgICBzZXRIZWFkZXIoJ0FjY2VwdCcsIG1pbWUgfHwgJyovKicpXHJcbiAgICAgICAgICAgIGlmIChtaW1lID0gc2V0dGluZ3MubWltZVR5cGUgfHwgbWltZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1pbWUuaW5kZXhPZignLCcpID4gLTEpIG1pbWUgPSBtaW1lLnNwbGl0KCcsJywgMilbMF1cclxuICAgICAgICAgICAgICAgIHhoci5vdmVycmlkZU1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlKG1pbWUpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLmNvbnRlbnRUeXBlIHx8IChzZXR0aW5ncy5jb250ZW50VHlwZSAhPT0gZmFsc2UgJiYgc2V0dGluZ3MuZGF0YSAmJiBzZXR0aW5ncy50eXBlLnRvVXBwZXJDYXNlKCkgIT0gJ0dFVCcpKVxyXG4gICAgICAgICAgICAgICAgc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCBzZXR0aW5ncy5jb250ZW50VHlwZSB8fCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJylcclxuXHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5oZWFkZXJzKSBmb3IgKG5hbWUgaW4gc2V0dGluZ3MuaGVhZGVycykgc2V0SGVhZGVyKG5hbWUsIHNldHRpbmdzLmhlYWRlcnNbbmFtZV0pXHJcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyID0gc2V0SGVhZGVyXHJcblxyXG4gICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGVtcHR5XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGFib3J0VGltZW91dClcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0LCBlcnJvciA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB8fCB4aHIuc3RhdHVzID09IDMwNCB8fCAoeGhyLnN0YXR1cyA9PSAwICYmIHByb3RvY29sID09ICdmaWxlOicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlID0gZGF0YVR5cGUgfHwgbWltZVRvRGF0YVR5cGUoc2V0dGluZ3MubWltZVR5cGUgfHwgeGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKSlcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09ICdhcnJheWJ1ZmZlcicgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PSAnYmxvYicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB4aHIucmVzcG9uc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB4aHIucmVzcG9uc2VUZXh0XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwOi8vcGVyZmVjdGlvbmtpbGxzLmNvbS9nbG9iYWwtZXZhbC13aGF0LWFyZS10aGUtb3B0aW9ucy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzYW5pdGl6ZSByZXNwb25zZSBhY2NvcmRpbmdseSBpZiBkYXRhIGZpbHRlciBjYWxsYmFjayBwcm92aWRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGFqYXhEYXRhRmlsdGVyKHJlc3VsdCwgZGF0YVR5cGUsIHNldHRpbmdzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhVHlwZSA9PSAnc2NyaXB0JykgICAgKDEsZXZhbCkocmVzdWx0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRhdGFUeXBlID09ICd4bWwnKSAgcmVzdWx0ID0geGhyLnJlc3BvbnNlWE1MXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVR5cGUgPT0gJ2pzb24nKSByZXN1bHQgPSBibGFua1JFLnRlc3QocmVzdWx0KSA/IG51bGwgOiAkLnBhcnNlSlNPTihyZXN1bHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IGVycm9yID0gZSB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSByZXR1cm4gYWpheEVycm9yKGVycm9yLCAncGFyc2VyZXJyb3InLCB4aHIsIHNldHRpbmdzLCBkZWZlcnJlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYWpheFN1Y2Nlc3MocmVzdWx0LCB4aHIsIHNldHRpbmdzLCBkZWZlcnJlZClcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhamF4RXJyb3IoeGhyLnN0YXR1c1RleHQgfHwgbnVsbCwgeGhyLnN0YXR1cyA/ICdlcnJvcicgOiAnYWJvcnQnLCB4aHIsIHNldHRpbmdzLCBkZWZlcnJlZClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChhamF4QmVmb3JlU2VuZCh4aHIsIHNldHRpbmdzKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHhoci5hYm9ydCgpXHJcbiAgICAgICAgICAgICAgICBhamF4RXJyb3IobnVsbCwgJ2Fib3J0JywgeGhyLCBzZXR0aW5ncywgZGVmZXJyZWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4geGhyXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBhc3luYyA9ICdhc3luYycgaW4gc2V0dGluZ3MgPyBzZXR0aW5ncy5hc3luYyA6IHRydWVcclxuICAgICAgICAgICAgeGhyLm9wZW4oc2V0dGluZ3MudHlwZSwgc2V0dGluZ3MudXJsLCBhc3luYywgc2V0dGluZ3MudXNlcm5hbWUsIHNldHRpbmdzLnBhc3N3b3JkKVxyXG5cclxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLnhockZpZWxkcykgZm9yIChuYW1lIGluIHNldHRpbmdzLnhockZpZWxkcykgeGhyW25hbWVdID0gc2V0dGluZ3MueGhyRmllbGRzW25hbWVdXHJcblxyXG4gICAgICAgICAgICBmb3IgKG5hbWUgaW4gaGVhZGVycykgbmF0aXZlU2V0SGVhZGVyLmFwcGx5KHhociwgaGVhZGVyc1tuYW1lXSlcclxuXHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy50aW1lb3V0ID4gMCkgYWJvcnRUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGVtcHR5XHJcbiAgICAgICAgICAgICAgICB4aHIuYWJvcnQoKVxyXG4gICAgICAgICAgICAgICAgYWpheEVycm9yKG51bGwsICd0aW1lb3V0JywgeGhyLCBzZXR0aW5ncywgZGVmZXJyZWQpXHJcbiAgICAgICAgICAgIH0sIHNldHRpbmdzLnRpbWVvdXQpXHJcblxyXG4gICAgICAgICAgICAvLyBhdm9pZCBzZW5kaW5nIGVtcHR5IHN0cmluZyAoIzMxOSlcclxuICAgICAgICAgICAgeGhyLnNlbmQoc2V0dGluZ3MuZGF0YSA/IHNldHRpbmdzLmRhdGEgOiBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4geGhyXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBoYW5kbGUgb3B0aW9uYWwgZGF0YS9zdWNjZXNzIGFyZ3VtZW50c1xyXG4gICAgICAgIGZ1bmN0aW9uIHBhcnNlQXJndW1lbnRzKHVybCwgZGF0YSwgc3VjY2VzcywgZGF0YVR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihkYXRhKSkgZGF0YVR5cGUgPSBzdWNjZXNzLCBzdWNjZXNzID0gZGF0YSwgZGF0YSA9IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICBpZiAoISQuaXNGdW5jdGlvbihzdWNjZXNzKSkgZGF0YVR5cGUgPSBzdWNjZXNzLCBzdWNjZXNzID0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB1cmw6IHVybFxyXG4gICAgICAgICAgICAgICAgLCBkYXRhOiBkYXRhXHJcbiAgICAgICAgICAgICAgICAsIHN1Y2Nlc3M6IHN1Y2Nlc3NcclxuICAgICAgICAgICAgICAgICwgZGF0YVR5cGU6IGRhdGFUeXBlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuZ2V0ID0gZnVuY3Rpb24oLyogdXJsLCBkYXRhLCBzdWNjZXNzLCBkYXRhVHlwZSAqLyl7XHJcbiAgICAgICAgICAgIHJldHVybiAkLmFqYXgocGFyc2VBcmd1bWVudHMuYXBwbHkobnVsbCwgYXJndW1lbnRzKSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQucG9zdCA9IGZ1bmN0aW9uKC8qIHVybCwgZGF0YSwgc3VjY2VzcywgZGF0YVR5cGUgKi8pe1xyXG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHBhcnNlQXJndW1lbnRzLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcclxuICAgICAgICAgICAgb3B0aW9ucy50eXBlID0gJ1BPU1QnXHJcbiAgICAgICAgICAgIHJldHVybiAkLmFqYXgob3B0aW9ucylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuZ2V0SlNPTiA9IGZ1bmN0aW9uKC8qIHVybCwgZGF0YSwgc3VjY2VzcyAqLyl7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gcGFyc2VBcmd1bWVudHMuYXBwbHkobnVsbCwgYXJndW1lbnRzKVxyXG4gICAgICAgICAgICBvcHRpb25zLmRhdGFUeXBlID0gJ2pzb24nXHJcbiAgICAgICAgICAgIHJldHVybiAkLmFqYXgob3B0aW9ucylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuZm4ubG9hZCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5sZW5ndGgpIHJldHVybiB0aGlzXHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcywgcGFydHMgPSB1cmwuc3BsaXQoL1xccy8pLCBzZWxlY3RvcixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBwYXJzZUFyZ3VtZW50cyh1cmwsIGRhdGEsIHN1Y2Nlc3MpLFxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zLnN1Y2Nlc3NcclxuICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDEpIG9wdGlvbnMudXJsID0gcGFydHNbMF0sIHNlbGVjdG9yID0gcGFydHNbMV1cclxuICAgICAgICAgICAgb3B0aW9ucy5zdWNjZXNzID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5odG1sKHNlbGVjdG9yID9cclxuICAgICAgICAgICAgICAgICAgICAkKCc8ZGl2PicpLmh0bWwocmVzcG9uc2UucmVwbGFjZShyc2NyaXB0LCBcIlwiKSkuZmluZChzZWxlY3RvcilcclxuICAgICAgICAgICAgICAgICAgICA6IHJlc3BvbnNlKVxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2suYXBwbHkoc2VsZiwgYXJndW1lbnRzKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQuYWpheChvcHRpb25zKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGVzY2FwZSA9IGVuY29kZVVSSUNvbXBvbmVudFxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXJpYWxpemUocGFyYW1zLCBvYmosIHRyYWRpdGlvbmFsLCBzY29wZSl7XHJcbiAgICAgICAgICAgIHZhciB0eXBlLCBhcnJheSA9ICQuaXNBcnJheShvYmopLCBoYXNoID0gJC5pc1BsYWluT2JqZWN0KG9iailcclxuICAgICAgICAgICAgJC5lYWNoKG9iaiwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9ICQudHlwZSh2YWx1ZSlcclxuICAgICAgICAgICAgICAgIGlmIChzY29wZSkga2V5ID0gdHJhZGl0aW9uYWwgPyBzY29wZSA6XHJcbiAgICAgICAgICAgICAgICBzY29wZSArICdbJyArIChoYXNoIHx8IHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnYXJyYXknID8ga2V5IDogJycpICsgJ10nXHJcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgZGF0YSBpbiBzZXJpYWxpemVBcnJheSgpIGZvcm1hdFxyXG4gICAgICAgICAgICAgICAgaWYgKCFzY29wZSAmJiBhcnJheSkgcGFyYW1zLmFkZCh2YWx1ZS5uYW1lLCB2YWx1ZS52YWx1ZSlcclxuICAgICAgICAgICAgICAgIC8vIHJlY3Vyc2UgaW50byBuZXN0ZWQgb2JqZWN0c1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSBcImFycmF5XCIgfHwgKCF0cmFkaXRpb25hbCAmJiB0eXBlID09IFwib2JqZWN0XCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlcmlhbGl6ZShwYXJhbXMsIHZhbHVlLCB0cmFkaXRpb25hbCwga2V5KVxyXG4gICAgICAgICAgICAgICAgZWxzZSBwYXJhbXMuYWRkKGtleSwgdmFsdWUpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkLnBhcmFtID0gZnVuY3Rpb24ob2JqLCB0cmFkaXRpb25hbCl7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBbXVxyXG4gICAgICAgICAgICBwYXJhbXMuYWRkID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbih2YWx1ZSkpIHZhbHVlID0gdmFsdWUoKVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHZhbHVlID0gXCJcIlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoKGVzY2FwZShrZXkpICsgJz0nICsgZXNjYXBlKHZhbHVlKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXJpYWxpemUocGFyYW1zLCBvYmosIHRyYWRpdGlvbmFsKVxyXG4gICAgICAgICAgICByZXR1cm4gcGFyYW1zLmpvaW4oJyYnKS5yZXBsYWNlKC8lMjAvZywgJysnKVxyXG4gICAgICAgIH1cclxuICAgIH0pKFplcHRvKVxyXG5cclxuICAgIDsoZnVuY3Rpb24oJCl7XHJcbiAgICAgICAgJC5mbi5zZXJpYWxpemVBcnJheSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgbmFtZSwgdHlwZSwgcmVzdWx0ID0gW10sXHJcbiAgICAgICAgICAgICAgICBhZGQgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5mb3JFYWNoKSByZXR1cm4gdmFsdWUuZm9yRWFjaChhZGQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWUgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXNbMF0pICQuZWFjaCh0aGlzWzBdLmVsZW1lbnRzLCBmdW5jdGlvbihfLCBmaWVsZCl7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gZmllbGQudHlwZSwgbmFtZSA9IGZpZWxkLm5hbWVcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lICYmIGZpZWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT0gJ2ZpZWxkc2V0JyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFmaWVsZC5kaXNhYmxlZCAmJiB0eXBlICE9ICdzdWJtaXQnICYmIHR5cGUgIT0gJ3Jlc2V0JyAmJiB0eXBlICE9ICdidXR0b24nICYmIHR5cGUgIT0gJ2ZpbGUnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKCh0eXBlICE9ICdyYWRpbycgJiYgdHlwZSAhPSAnY2hlY2tib3gnKSB8fCBmaWVsZC5jaGVja2VkKSlcclxuICAgICAgICAgICAgICAgICAgICBhZGQoJChmaWVsZCkudmFsKCkpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuZm4uc2VyaWFsaXplID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdXHJcbiAgICAgICAgICAgIHRoaXMuc2VyaWFsaXplQXJyYXkoKS5mb3JFYWNoKGZ1bmN0aW9uKGVsbSl7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChlbmNvZGVVUklDb21wb25lbnQoZWxtLm5hbWUpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGVsbS52YWx1ZSkpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuam9pbignJicpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkLmZuLnN1Ym1pdCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGlmICgwIGluIGFyZ3VtZW50cykgdGhpcy5iaW5kKCdzdWJtaXQnLCBjYWxsYmFjaylcclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBldmVudCA9ICQuRXZlbnQoJ3N1Ym1pdCcpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVxKDApLnRyaWdnZXIoZXZlbnQpXHJcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB0aGlzLmdldCgwKS5zdWJtaXQoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pKFplcHRvKVxyXG5cclxuICAgIDsoZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyBnZXRDb21wdXRlZFN0eWxlIHNob3VsZG4ndCBmcmVhayBvdXQgd2hlbiBjYWxsZWRcclxuICAgICAgICAvLyB3aXRob3V0IGEgdmFsaWQgZWxlbWVudCBhcyBhcmd1bWVudFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGdldENvbXB1dGVkU3R5bGUodW5kZWZpbmVkKVxyXG4gICAgICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICAgICAgICB2YXIgbmF0aXZlR2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGVcclxuICAgICAgICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUgPSBmdW5jdGlvbihlbGVtZW50LCBwc2V1ZG9FbGVtZW50KXtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgcHNldWRvRWxlbWVudClcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KSgpXHJcbiAgICByZXR1cm4gWmVwdG9cclxufSkpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+Ly4xLjIuMEBuLXplcHRvL24temVwdG8uanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports){eval("'use strict';\n\n//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\n;(function ($) {\n    var touch = {},\n        touchTimeout,\n        tapTimeout,\n        swipeTimeout,\n        longTapTimeout,\n        longTapDelay = 300,\n        gesture;\n\n    function swipeDirection(x1, x2, y1, y2) {\n        return Math.abs(x1 - x2) >= Math.abs(y1 - y2) ? x1 - x2 > 0 ? 'Left' : 'Right' : y1 - y2 > 0 ? 'Up' : 'Down';\n    }\n\n    function longTap() {\n        longTapTimeout = null;\n        if (touch.last) {\n            touch.el.trigger('longTap');\n            touch = {};\n        }\n    }\n\n    function cancelLongTap() {\n        if (longTapTimeout) clearTimeout(longTapTimeout);\n        longTapTimeout = null;\n    }\n\n    function cancelAll() {\n        if (touchTimeout) clearTimeout(touchTimeout);\n        if (tapTimeout) clearTimeout(tapTimeout);\n        if (swipeTimeout) clearTimeout(swipeTimeout);\n        if (longTapTimeout) clearTimeout(longTapTimeout);\n        touchTimeout = tapTimeout = swipeTimeout = longTapTimeout = null;\n        touch = {};\n    }\n\n    function isPrimaryTouch(event) {\n        return (event.pointerType == 'touch' || event.pointerType == event.MSPOINTER_TYPE_TOUCH) && event.isPrimary;\n    }\n\n    function isPointerEventType(e, type) {\n        return e.type == 'pointer' + type || e.type.toLowerCase() == 'mspointer' + type;\n    }\n\n    $(document).ready(function () {\n        var now,\n            delta,\n            deltaX = 0,\n            deltaY = 0,\n            firstTouch,\n            _isPointerType;\n\n        if ('MSGesture' in window) {\n            gesture = new MSGesture();\n            gesture.target = document.body;\n        }\n\n        $(document).bind('MSGestureEnd', function (e) {\n            var swipeDirectionFromVelocity = e.velocityX > 1 ? 'Right' : e.velocityX < -1 ? 'Left' : e.velocityY > 1 ? 'Down' : e.velocityY < -1 ? 'Up' : null;\n            if (swipeDirectionFromVelocity) {\n                touch.el.trigger('swipe');\n                touch.el.trigger('swipe' + swipeDirectionFromVelocity);\n            }\n        }).on('touchstart MSPointerDown pointerdown', function (e) {\n            if ((_isPointerType = isPointerEventType(e, 'down')) && !isPrimaryTouch(e)) return;\n            firstTouch = _isPointerType ? e : e.touches[0];\n            if (e.touches && e.touches.length === 1 && touch.x2) {\n                // Clear out touch movement data if we have it sticking around\n                // This can occur if touchcancel doesn't fire due to preventDefault, etc.\n                touch.x2 = undefined;\n                touch.y2 = undefined;\n            }\n            now = Date.now();\n            delta = now - (touch.last || now);\n            touch.el = $('tagName' in firstTouch.target ? firstTouch.target : firstTouch.target.parentNode);\n            touchTimeout && clearTimeout(touchTimeout);\n            touch.x1 = firstTouch.pageX;\n            touch.y1 = firstTouch.pageY;\n            if (delta > 0 && delta <= 250) touch.isDoubleTap = true;\n            touch.last = now;\n            longTapTimeout = setTimeout(longTap, longTapDelay);\n            // adds the current touch contact for IE gesture recognition\n            if (gesture && _isPointerType) gesture.addPointer(e.pointerId);\n        }).on('touchmove MSPointerMove pointermove', function (e) {\n            if ((_isPointerType = isPointerEventType(e, 'move')) && !isPrimaryTouch(e)) return;\n            firstTouch = _isPointerType ? e : e.touches[0];\n            cancelLongTap();\n            touch.x2 = firstTouch.pageX;\n            touch.y2 = firstTouch.pageY;\n\n            deltaX += Math.abs(touch.x1 - touch.x2);\n            deltaY += Math.abs(touch.y1 - touch.y2);\n        }).on('touchend MSPointerUp pointerup', function (e) {\n            if ((_isPointerType = isPointerEventType(e, 'up')) && !isPrimaryTouch(e)) return;\n            cancelLongTap();\n\n            // swipe\n            if (touch.x2 && Math.abs(touch.x1 - touch.x2) > 30 || touch.y2 && Math.abs(touch.y1 - touch.y2) > 30) swipeTimeout = setTimeout(function () {\n                if (touch.el) {\n                    touch.el.trigger('swipe');\n                    touch.el.trigger('swipe' + swipeDirection(touch.x1, touch.x2, touch.y1, touch.y2));\n                }\n                touch = {};\n            }, 0);\n\n            // normal tap\n            else if ('last' in touch)\n                    // don't fire tap when delta position changed by more than 30 pixels,\n                    // for instance when moving to a point and back to origin\n                    if (deltaX < 30 && deltaY < 30) {\n                        // delay by one tick so we can cancel the 'tap' event if 'scroll' fires\n                        // ('tap' fires before 'scroll')\n                        tapTimeout = setTimeout(function () {\n\n                            // trigger universal 'tap' with the option to cancelTouch()\n                            // (cancelTouch cancels processing of single vs double taps for faster 'tap' response)\n                            var event = $.Event('tap');\n                            event.cancelTouch = cancelAll;\n                            // [by paper] fix -> \"TypeError: 'undefined' is not an object (evaluating 'touch.el.trigger'), when double tap\n                            if (touch.el) touch.el.trigger(event);\n\n                            // trigger double tap immediately\n                            if (touch.isDoubleTap) {\n                                if (touch.el) touch.el.trigger('doubleTap');\n                                touch = {};\n                            }\n\n                            // trigger single tap after 250ms of inactivity\n                            else {\n                                    touchTimeout = setTimeout(function () {\n                                        touchTimeout = null;\n                                        if (touch.el) touch.el.trigger('singleTap');\n                                        touch = {};\n                                    }, 250);\n                                }\n                        }, 0);\n                    } else {\n                        touch = {};\n                    }\n            deltaX = deltaY = 0;\n        })\n        // when the browser window loses focus,\n        // for example when a modal dialog is shown,\n        // cancel all ongoing events\n        .on('touchcancel MSPointerCancel pointercancel', cancelAll);\n\n        // scrolling the window indicates intention of the user\n        // to scroll, not tap or swipe, so cancel all ongoing events\n        $(window).on('scroll', cancelAll);\n    });['swipe', 'swipeLeft', 'swipeRight', 'swipeUp', 'swipeDown', 'doubleTap', 'tap', 'singleTap', 'longTap'].forEach(function (eventName) {\n        $.fn[eventName] = function (callback) {\n            return this.on(eventName, callback);\n        };\n    });\n})(Zepto);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvanMvdG91Y2guanM/Mzc3NyJdLCJuYW1lcyI6WyIkIiwidG91Y2giLCJ0b3VjaFRpbWVvdXQiLCJ0YXBUaW1lb3V0Iiwic3dpcGVUaW1lb3V0IiwibG9uZ1RhcFRpbWVvdXQiLCJsb25nVGFwRGVsYXkiLCJnZXN0dXJlIiwic3dpcGVEaXJlY3Rpb24iLCJ4MSIsIngyIiwieTEiLCJ5MiIsIk1hdGgiLCJhYnMiLCJsb25nVGFwIiwibGFzdCIsImVsIiwidHJpZ2dlciIsImNhbmNlbExvbmdUYXAiLCJjbGVhclRpbWVvdXQiLCJjYW5jZWxBbGwiLCJpc1ByaW1hcnlUb3VjaCIsImV2ZW50IiwicG9pbnRlclR5cGUiLCJNU1BPSU5URVJfVFlQRV9UT1VDSCIsImlzUHJpbWFyeSIsImlzUG9pbnRlckV2ZW50VHlwZSIsImUiLCJ0eXBlIiwidG9Mb3dlckNhc2UiLCJkb2N1bWVudCIsInJlYWR5Iiwibm93IiwiZGVsdGEiLCJkZWx0YVgiLCJkZWx0YVkiLCJmaXJzdFRvdWNoIiwiX2lzUG9pbnRlclR5cGUiLCJ3aW5kb3ciLCJNU0dlc3R1cmUiLCJ0YXJnZXQiLCJib2R5IiwiYmluZCIsInN3aXBlRGlyZWN0aW9uRnJvbVZlbG9jaXR5IiwidmVsb2NpdHlYIiwidmVsb2NpdHlZIiwib24iLCJ0b3VjaGVzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiRGF0ZSIsInBhcmVudE5vZGUiLCJwYWdlWCIsInBhZ2VZIiwiaXNEb3VibGVUYXAiLCJzZXRUaW1lb3V0IiwiYWRkUG9pbnRlciIsInBvaW50ZXJJZCIsIkV2ZW50IiwiY2FuY2VsVG91Y2giLCJmb3JFYWNoIiwiZXZlbnROYW1lIiwiZm4iLCJjYWxsYmFjayIsIlplcHRvIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDLENBQUMsVUFBU0EsQ0FBVCxFQUFXO0FBQ1QsUUFBSUMsUUFBUSxFQUFaO0FBQUEsUUFDSUMsWUFESjtBQUFBLFFBQ2tCQyxVQURsQjtB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T0FBRCxFQUFVLFdBQVYsRUFBdUIsWUFBdkIsRUFBcUMsU0FBckMsRUFBZ0QsV0FBaEQsRUFDRyxXQURILEVBQ2dCLEtBRGhCLEVBQ3VCLFdBRHZCLEVBQ29DLFNBRHBDLEVBQytDd0MsT0FEL0MsQ0FDdUQsVUFBU0MsU0FBVCxFQUFtQjtBQUN2RTlELFVBQUUrRCxFQUFGLENBQUtELFNBQUwsSUFBa0IsVUFBU0UsUUFBVCxFQUFrQjtBQUFFLG1CQUFPLEtBQUtqQixFQUFMLENBQVFlLFNBQVIsRUFBbUJFLFFBQW5CLENBQVA7QUFBcUMsU0FBM0U7QUFDSCxLQUhBO0FBSUosQ0FuS0EsRUFtS0VDLEtBbktGIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAgICAgWmVwdG8uanNcbi8vICAgICAoYykgMjAxMC0yMDE2IFRob21hcyBGdWNoc1xuLy8gICAgIFplcHRvLmpzIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG47KGZ1bmN0aW9uKCQpe1xuICAgIHZhciB0b3VjaCA9IHt9LFxuICAgICAgICB0b3VjaFRpbWVvdXQsIHRhcFRpbWVvdXQsIHN3aXBlVGltZW91dCwgbG9uZ1RhcFRpbWVvdXQsXG4gICAgICAgIGxvbmdUYXBEZWxheSA9IDMwMCxcbiAgICAgICAgZ2VzdHVyZVxuXG4gICAgZnVuY3Rpb24gc3dpcGVEaXJlY3Rpb24oeDEsIHgyLCB5MSwgeTIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHgxIC0geDIpID49XG4gICAgICAgIE1hdGguYWJzKHkxIC0geTIpID8gKHgxIC0geDIgPiAwID8gJ0xlZnQnIDogJ1JpZ2h0JykgOiAoeTEgLSB5MiA+IDAgPyAnVXAnIDogJ0Rvd24nKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvbmdUYXAoKSB7XG4gICAgICAgIGxvbmdUYXBUaW1lb3V0ID0gbnVsbFxuICAgICAgICBpZiAodG91Y2gubGFzdCkge1xuICAgICAgICAgICAgdG91Y2guZWwudHJpZ2dlcignbG9uZ1RhcCcpXG4gICAgICAgICAgICB0b3VjaCA9IHt9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5jZWxMb25nVGFwKCkge1xuICAgICAgICBpZiAobG9uZ1RhcFRpbWVvdXQpIGNsZWFyVGltZW91dChsb25nVGFwVGltZW91dClcbiAgICAgICAgbG9uZ1RhcFRpbWVvdXQgPSBudWxsXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuY2VsQWxsKCkge1xuICAgICAgICBpZiAodG91Y2hUaW1lb3V0KSBjbGVhclRpbWVvdXQodG91Y2hUaW1lb3V0KVxuICAgICAgICBpZiAodGFwVGltZW91dCkgY2xlYXJUaW1lb3V0KHRhcFRpbWVvdXQpXG4gICAgICAgIGlmIChzd2lwZVRpbWVvdXQpIGNsZWFyVGltZW91dChzd2lwZVRpbWVvdXQpXG4gICAgICAgIGlmIChsb25nVGFwVGltZW91dCkgY2xlYXJUaW1lb3V0KGxvbmdUYXBUaW1lb3V0KVxuICAgICAgICB0b3VjaFRpbWVvdXQgPSB0YXBUaW1lb3V0ID0gc3dpcGVUaW1lb3V0ID0gbG9uZ1RhcFRpbWVvdXQgPSBudWxsXG4gICAgICAgIHRvdWNoID0ge31cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ByaW1hcnlUb3VjaChldmVudCl7XG4gICAgICAgIHJldHVybiAoZXZlbnQucG9pbnRlclR5cGUgPT0gJ3RvdWNoJyB8fFxuICAgICAgICAgICAgZXZlbnQucG9pbnRlclR5cGUgPT0gZXZlbnQuTVNQT0lOVEVSX1RZUEVfVE9VQ0gpXG4gICAgICAgICAgICAmJiBldmVudC5pc1ByaW1hcnlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1BvaW50ZXJFdmVudFR5cGUoZSwgdHlwZSl7XG4gICAgICAgIHJldHVybiAoZS50eXBlID09ICdwb2ludGVyJyt0eXBlIHx8XG4gICAgICAgIGUudHlwZS50b0xvd2VyQ2FzZSgpID09ICdtc3BvaW50ZXInK3R5cGUpXG4gICAgfVxuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIG5vdywgZGVsdGEsIGRlbHRhWCA9IDAsIGRlbHRhWSA9IDAsIGZpcnN0VG91Y2gsIF9pc1BvaW50ZXJUeXBlXG5cbiAgICAgICAgaWYgKCdNU0dlc3R1cmUnIGluIHdpbmRvdykge1xuICAgICAgICAgICAgZ2VzdHVyZSA9IG5ldyBNU0dlc3R1cmUoKVxuICAgICAgICAgICAgZ2VzdHVyZS50YXJnZXQgPSBkb2N1bWVudC5ib2R5XG4gICAgICAgIH1cblxuICAgICAgICAkKGRvY3VtZW50KVxuICAgICAgICAgICAgLmJpbmQoJ01TR2VzdHVyZUVuZCcsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIHZhciBzd2lwZURpcmVjdGlvbkZyb21WZWxvY2l0eSA9XG4gICAgICAgICAgICAgICAgICAgIGUudmVsb2NpdHlYID4gMSA/ICdSaWdodCcgOiBlLnZlbG9jaXR5WCA8IC0xID8gJ0xlZnQnIDogZS52ZWxvY2l0eVkgPiAxID8gJ0Rvd24nIDogZS52ZWxvY2l0eVkgPCAtMSA/ICdVcCcgOiBudWxsXG4gICAgICAgICAgICAgICAgaWYgKHN3aXBlRGlyZWN0aW9uRnJvbVZlbG9jaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoLmVsLnRyaWdnZXIoJ3N3aXBlJylcbiAgICAgICAgICAgICAgICAgICAgdG91Y2guZWwudHJpZ2dlcignc3dpcGUnKyBzd2lwZURpcmVjdGlvbkZyb21WZWxvY2l0eSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCd0b3VjaHN0YXJ0IE1TUG9pbnRlckRvd24gcG9pbnRlcmRvd24nLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICBpZigoX2lzUG9pbnRlclR5cGUgPSBpc1BvaW50ZXJFdmVudFR5cGUoZSwgJ2Rvd24nKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgIWlzUHJpbWFyeVRvdWNoKGUpKSByZXR1cm5cbiAgICAgICAgICAgICAgICBmaXJzdFRvdWNoID0gX2lzUG9pbnRlclR5cGUgPyBlIDogZS50b3VjaGVzWzBdXG4gICAgICAgICAgICAgICAgaWYgKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID09PSAxICYmIHRvdWNoLngyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIG91dCB0b3VjaCBtb3ZlbWVudCBkYXRhIGlmIHdlIGhhdmUgaXQgc3RpY2tpbmcgYXJvdW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgY2FuIG9jY3VyIGlmIHRvdWNoY2FuY2VsIGRvZXNuJ3QgZmlyZSBkdWUgdG8gcHJldmVudERlZmF1bHQsIGV0Yy5cbiAgICAgICAgICAgICAgICAgICAgdG91Y2gueDIgPSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgdG91Y2gueTIgPSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm93ID0gRGF0ZS5ub3coKVxuICAgICAgICAgICAgICAgIGRlbHRhID0gbm93IC0gKHRvdWNoLmxhc3QgfHwgbm93KVxuICAgICAgICAgICAgICAgIHRvdWNoLmVsID0gJCgndGFnTmFtZScgaW4gZmlyc3RUb3VjaC50YXJnZXQgP1xuICAgICAgICAgICAgICAgICAgICBmaXJzdFRvdWNoLnRhcmdldCA6IGZpcnN0VG91Y2gudGFyZ2V0LnBhcmVudE5vZGUpXG4gICAgICAgICAgICAgICAgdG91Y2hUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0b3VjaFRpbWVvdXQpXG4gICAgICAgICAgICAgICAgdG91Y2gueDEgPSBmaXJzdFRvdWNoLnBhZ2VYXG4gICAgICAgICAgICAgICAgdG91Y2gueTEgPSBmaXJzdFRvdWNoLnBhZ2VZXG4gICAgICAgICAgICAgICAgaWYgKGRlbHRhID4gMCAmJiBkZWx0YSA8PSAyNTApIHRvdWNoLmlzRG91YmxlVGFwID0gdHJ1ZVxuICAgICAgICAgICAgICAgIHRvdWNoLmxhc3QgPSBub3dcbiAgICAgICAgICAgICAgICBsb25nVGFwVGltZW91dCA9IHNldFRpbWVvdXQobG9uZ1RhcCwgbG9uZ1RhcERlbGF5KVxuICAgICAgICAgICAgICAgIC8vIGFkZHMgdGhlIGN1cnJlbnQgdG91Y2ggY29udGFjdCBmb3IgSUUgZ2VzdHVyZSByZWNvZ25pdGlvblxuICAgICAgICAgICAgICAgIGlmIChnZXN0dXJlICYmIF9pc1BvaW50ZXJUeXBlKSBnZXN0dXJlLmFkZFBvaW50ZXIoZS5wb2ludGVySWQpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCd0b3VjaG1vdmUgTVNQb2ludGVyTW92ZSBwb2ludGVybW92ZScsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIGlmKChfaXNQb2ludGVyVHlwZSA9IGlzUG9pbnRlckV2ZW50VHlwZShlLCAnbW92ZScpKSAmJlxuICAgICAgICAgICAgICAgICAgICAhaXNQcmltYXJ5VG91Y2goZSkpIHJldHVyblxuICAgICAgICAgICAgICAgIGZpcnN0VG91Y2ggPSBfaXNQb2ludGVyVHlwZSA/IGUgOiBlLnRvdWNoZXNbMF1cbiAgICAgICAgICAgICAgICBjYW5jZWxMb25nVGFwKClcbiAgICAgICAgICAgICAgICB0b3VjaC54MiA9IGZpcnN0VG91Y2gucGFnZVhcbiAgICAgICAgICAgICAgICB0b3VjaC55MiA9IGZpcnN0VG91Y2gucGFnZVlcblxuICAgICAgICAgICAgICAgIGRlbHRhWCArPSBNYXRoLmFicyh0b3VjaC54MSAtIHRvdWNoLngyKVxuICAgICAgICAgICAgICAgIGRlbHRhWSArPSBNYXRoLmFicyh0b3VjaC55MSAtIHRvdWNoLnkyKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbigndG91Y2hlbmQgTVNQb2ludGVyVXAgcG9pbnRlcnVwJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgaWYoKF9pc1BvaW50ZXJUeXBlID0gaXNQb2ludGVyRXZlbnRUeXBlKGUsICd1cCcpKSAmJlxuICAgICAgICAgICAgICAgICAgICAhaXNQcmltYXJ5VG91Y2goZSkpIHJldHVyblxuICAgICAgICAgICAgICAgIGNhbmNlbExvbmdUYXAoKVxuXG4gICAgICAgICAgICAgICAgLy8gc3dpcGVcbiAgICAgICAgICAgICAgICBpZiAoKHRvdWNoLngyICYmIE1hdGguYWJzKHRvdWNoLngxIC0gdG91Y2gueDIpID4gMzApIHx8XG4gICAgICAgICAgICAgICAgICAgICh0b3VjaC55MiAmJiBNYXRoLmFicyh0b3VjaC55MSAtIHRvdWNoLnkyKSA+IDMwKSlcblxuICAgICAgICAgICAgICAgICAgICBzd2lwZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvdWNoLmVsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3VjaC5lbC50cmlnZ2VyKCdzd2lwZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2guZWwudHJpZ2dlcignc3dpcGUnICsgKHN3aXBlRGlyZWN0aW9uKHRvdWNoLngxLCB0b3VjaC54MiwgdG91Y2gueTEsIHRvdWNoLnkyKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3VjaCA9IHt9XG4gICAgICAgICAgICAgICAgICAgIH0sIDApXG5cbiAgICAgICAgICAgICAgICAvLyBub3JtYWwgdGFwXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoJ2xhc3QnIGluIHRvdWNoKVxuICAgICAgICAgICAgICAgIC8vIGRvbid0IGZpcmUgdGFwIHdoZW4gZGVsdGEgcG9zaXRpb24gY2hhbmdlZCBieSBtb3JlIHRoYW4gMzAgcGl4ZWxzLFxuICAgICAgICAgICAgICAgIC8vIGZvciBpbnN0YW5jZSB3aGVuIG1vdmluZyB0byBhIHBvaW50IGFuZCBiYWNrIHRvIG9yaWdpblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGFYIDwgMzAgJiYgZGVsdGFZIDwgMzApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlbGF5IGJ5IG9uZSB0aWNrIHNvIHdlIGNhbiBjYW5jZWwgdGhlICd0YXAnIGV2ZW50IGlmICdzY3JvbGwnIGZpcmVzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAoJ3RhcCcgZmlyZXMgYmVmb3JlICdzY3JvbGwnKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGFwVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyIHVuaXZlcnNhbCAndGFwJyB3aXRoIHRoZSBvcHRpb24gdG8gY2FuY2VsVG91Y2goKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIChjYW5jZWxUb3VjaCBjYW5jZWxzIHByb2Nlc3Npbmcgb2Ygc2luZ2xlIHZzIGRvdWJsZSB0YXBzIGZvciBmYXN0ZXIgJ3RhcCcgcmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gJC5FdmVudCgndGFwJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jYW5jZWxUb3VjaCA9IGNhbmNlbEFsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFtieSBwYXBlcl0gZml4IC0+IFwiVHlwZUVycm9yOiAndW5kZWZpbmVkJyBpcyBub3QgYW4gb2JqZWN0IChldmFsdWF0aW5nICd0b3VjaC5lbC50cmlnZ2VyJyksIHdoZW4gZG91YmxlIHRhcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3VjaC5lbCkgdG91Y2guZWwudHJpZ2dlcihldmVudClcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyaWdnZXIgZG91YmxlIHRhcCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3VjaC5pc0RvdWJsZVRhcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG91Y2guZWwpIHRvdWNoLmVsLnRyaWdnZXIoJ2RvdWJsZVRhcCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdWNoID0ge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyIHNpbmdsZSB0YXAgYWZ0ZXIgMjUwbXMgb2YgaW5hY3Rpdml0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3VjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3VjaFRpbWVvdXQgPSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG91Y2guZWwpIHRvdWNoLmVsLnRyaWdnZXIoJ3NpbmdsZVRhcCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3VjaCA9IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDI1MClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2ggPSB7fVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVsdGFYID0gZGVsdGFZID0gMFxuXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLy8gd2hlbiB0aGUgYnJvd3NlciB3aW5kb3cgbG9zZXMgZm9jdXMsXG4gICAgICAgICAgICAvLyBmb3IgZXhhbXBsZSB3aGVuIGEgbW9kYWwgZGlhbG9nIGlzIHNob3duLFxuICAgICAgICAgICAgLy8gY2FuY2VsIGFsbCBvbmdvaW5nIGV2ZW50c1xuICAgICAgICAgICAgLm9uKCd0b3VjaGNhbmNlbCBNU1BvaW50ZXJDYW5jZWwgcG9pbnRlcmNhbmNlbCcsIGNhbmNlbEFsbClcblxuICAgICAgICAvLyBzY3JvbGxpbmcgdGhlIHdpbmRvdyBpbmRpY2F0ZXMgaW50ZW50aW9uIG9mIHRoZSB1c2VyXG4gICAgICAgIC8vIHRvIHNjcm9sbCwgbm90IHRhcCBvciBzd2lwZSwgc28gY2FuY2VsIGFsbCBvbmdvaW5nIGV2ZW50c1xuICAgICAgICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIGNhbmNlbEFsbClcbiAgICB9KVxuXG4gICAgO1snc3dpcGUnLCAnc3dpcGVMZWZ0JywgJ3N3aXBlUmlnaHQnLCAnc3dpcGVVcCcsICdzd2lwZURvd24nLFxuICAgICAgICAnZG91YmxlVGFwJywgJ3RhcCcsICdzaW5nbGVUYXAnLCAnbG9uZ1RhcCddLmZvckVhY2goZnVuY3Rpb24oZXZlbnROYW1lKXtcbiAgICAgICAgJC5mbltldmVudE5hbWVdID0gZnVuY3Rpb24oY2FsbGJhY2speyByZXR1cm4gdGhpcy5vbihldmVudE5hbWUsIGNhbGxiYWNrKSB9XG4gICAgfSlcbn0pKFplcHRvKVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9qcy90b3VjaC5qcyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval('"use strict";\n\n;(function () {\n  function t(n, t, r) {\n    for (var e, u = 0, f = t.length; u < f; u++) {\n      e = t[u], i(n, e, r);\n    }\n  }function i(n, t, i) {\n    Object.defineProperty(n, t, { get: function get() {\n        return this["_" + t];\n      }, set: function set(n) {\n        n !== this["_" + t] && (this["_" + t] = n, i());\n      } });\n  }var n = function n(_n, t, i, r, u, f, e, o, s, h, c, l, a, v, y, p) {\n    this.elements = window.Float32Array ? new Float32Array(16) : [];var w = this.elements;w[0] = _n !== undefined ? _n : 1;w[4] = t || 0;w[8] = i || 0;w[12] = r || 0;w[1] = u || 0;w[5] = f !== undefined ? f : 1;w[9] = e || 0;w[13] = o || 0;w[2] = s || 0;w[6] = h || 0;w[10] = c !== undefined ? c : 1;w[14] = l || 0;w[3] = a || 0;w[7] = v || 0;w[11] = y || 0;w[15] = p !== undefined ? p : 1;\n  };n.DEG_TO_RAD = Math.PI / 180;n.prototype = { set: function set(n, t, i, r, u, f, e, o, s, h, c, l, a, v, y, p) {\n      var w = this.elements;return w[0] = n, w[4] = t, w[8] = i, w[12] = r, w[1] = u, w[5] = f, w[9] = e, w[13] = o, w[2] = s, w[6] = h, w[10] = c, w[14] = l, w[3] = a, w[7] = v, w[11] = y, w[15] = p, this;\n    }, identity: function identity() {\n      return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this;\n    }, multiplyMatrices: function multiplyMatrices(n, t) {\n      var i = n.elements,\n          r = this.elements,\n          u = i[0],\n          f = i[4],\n          e = i[8],\n          o = i[12],\n          s = i[1],\n          h = i[5],\n          c = i[9],\n          l = i[13],\n          a = i[2],\n          v = i[6],\n          y = i[10],\n          p = i[14],\n          w = i[3],\n          b = i[7],\n          k = i[11],\n          d = i[15],\n          g = t[0],\n          nt = t[1],\n          tt = t[2],\n          it = t[3],\n          rt = t[4],\n          ut = t[5],\n          ft = t[6],\n          et = t[7],\n          ot = t[8],\n          st = t[9],\n          ht = t[10],\n          ct = t[11],\n          lt = t[12],\n          at = t[13],\n          vt = t[14],\n          yt = t[15];return r[0] = u * g + f * rt + e * ot + o * lt, r[4] = u * nt + f * ut + e * st + o * at, r[8] = u * tt + f * ft + e * ht + o * vt, r[12] = u * it + f * et + e * ct + o * yt, r[1] = s * g + h * rt + c * ot + l * lt, r[5] = s * nt + h * ut + c * st + l * at, r[9] = s * tt + h * ft + c * ht + l * vt, r[13] = s * it + h * et + c * ct + l * yt, r[2] = a * g + v * rt + y * ot + p * lt, r[6] = a * nt + v * ut + y * st + p * at, r[10] = a * tt + v * ft + y * ht + p * vt, r[14] = a * it + v * et + y * ct + p * yt, r[3] = w * g + b * rt + k * ot + d * lt, r[7] = w * nt + b * ut + k * st + d * at, r[11] = w * tt + b * ft + k * ht + d * vt, r[15] = w * it + b * et + k * ct + d * yt, this;\n    }, _rounded: function _rounded(n, t) {\n      return t = Math.pow(10, t || 15), Math.round(n * t) / t;\n    }, _arrayWrap: function _arrayWrap(n) {\n      return window.Float32Array ? new Float32Array(n) : n;\n    }, appendTransform: function appendTransform(t, i, r, u, f, e, o, s, h, c, l, a, v, y) {\n      var p = o * n.DEG_TO_RAD,\n          w = this._rounded(Math.cos(p)),\n          b = this._rounded(Math.sin(p)),\n          k = s * n.DEG_TO_RAD,\n          d = this._rounded(Math.cos(k)),\n          g = this._rounded(Math.sin(k)),\n          nt = h * n.DEG_TO_RAD,\n          tt = this._rounded(Math.cos(nt * -1)),\n          it = this._rounded(Math.sin(nt * -1));return this.multiplyMatrices(this, this._arrayWrap([1, 0, 0, t, 0, w, b, i, 0, -b, w, r, 0, 0, 0, 1])), this.multiplyMatrices(this, this._arrayWrap([d, 0, g, 0, 0, 1, 0, 0, -g, 0, d, 0, 0, 0, 0, 1])), this.multiplyMatrices(this, this._arrayWrap([tt * u, it * f, 0, 0, -it * u, tt * f, 0, 0, 0, 0, 1 * e, 0, 0, 0, 0, 1])), (c || l) && this.multiplyMatrices(this, this._arrayWrap([this._rounded(Math.cos(c * n.DEG_TO_RAD)), this._rounded(Math.sin(c * n.DEG_TO_RAD)), 0, 0, -1 * this._rounded(Math.sin(l * n.DEG_TO_RAD)), this._rounded(Math.cos(l * n.DEG_TO_RAD)), 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])), (a || v || y) && (this.elements[12] -= a * this.elements[0] + v * this.elements[4] + y * this.elements[8], this.elements[13] -= a * this.elements[1] + v * this.elements[5] + y * this.elements[9], this.elements[14] -= a * this.elements[2] + v * this.elements[6] + y * this.elements[10]), this;\n    } };window.Transform = function (i, r) {\n    t(i, ["translateX", "translateY", "translateZ", "scaleX", "scaleY", "scaleZ", "rotateX", "rotateY", "rotateZ", "skewX", "skewY", "originX", "originY", "originZ"], function () {\n      var n = i.matrix3D.identity().appendTransform(i.translateX, i.translateY, i.translateZ, i.scaleX, i.scaleY, i.scaleZ, i.rotateX, i.rotateY, i.rotateZ, i.skewX, i.skewY, i.originX, i.originY, i.originZ);i.style.transform = i.style.msTransform = i.style.OTransform = i.style.MozTransform = i.style.webkitTransform = (r ? "" : "perspective(" + (i.perspective === undefined ? 500 : i.perspective) + "px) ") + "matrix3d(" + Array.prototype.slice.call(n.elements).join(",") + ")";\n    });i.matrix3D = new n();r || (t(i, ["perspective"], function () {\n      i.style.transform = i.style.msTransform = i.style.OTransform = i.style.MozTransform = i.style.webkitTransform = "perspective(" + i.perspective + "px) matrix3d(" + Array.prototype.slice.call(i.matrix3D.elements).join(",") + ")";\n    }), i.perspective = 500);i.scaleX = i.scaleY = i.scaleZ = 1;i.translateX = i.translateY = i.translateZ = i.rotateX = i.rotateY = i.rotateZ = i.skewX = i.skewY = i.originX = i.originY = i.originZ = 0;\n  };\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvanMvdHJhbnNmb3JtLmpzPzZiZWYiXSwibmFtZXMiOlsidCIsIm4iLCJyIiwiZSIsInUiLCJmIiwibGVuZ3RoIiwiaSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0Iiwic2V0IiwibyIsInMiLCJoIiwiYyIsImwiLCJhIiwidiIsInkiLCJwIiwiZWxlbWVudHMiLCJ3aW5kb3ciLCJGbG9hdDMyQXJyYXkiLCJ3IiwidW5kZWZpbmVkIiwiREVHX1RPX1JBRCIsIk1hdGgiLCJQSSIsInByb3RvdHlwZSIsImlkZW50aXR5IiwibXVsdGlwbHlNYXRyaWNlcyIsImIiLCJrIiwiZCIsImciLCJudCIsInR0IiwiaXQiLCJydCIsInV0IiwiZnQiLCJldCIsIm90Iiwic3QiLCJodCIsImN0IiwibHQiLCJhdCIsInZ0IiwieXQiLCJfcm91bmRlZCIsInBvdyIsInJvdW5kIiwiX2FycmF5V3JhcCIsImFwcGVuZFRyYW5zZm9ybSIsImNvcyIsInNpbiIsIlRyYW5zZm9ybSIsIm1hdHJpeDNEIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJ0cmFuc2xhdGVaIiwic2NhbGVYIiwic2NhbGVZIiwic2NhbGVaIiwicm90YXRlWCIsInJvdGF0ZVkiLCJyb3RhdGVaIiwic2tld1giLCJza2V3WSIsIm9yaWdpblgiLCJvcmlnaW5ZIiwib3JpZ2luWiIsInN0eWxlIiwidHJhbnNmb3JtIiwibXNUcmFuc2Zvcm0iLCJPVHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwid2Via2l0VHJhbnNmb3JtIiwicGVyc3BlY3RpdmUiLCJBcnJheSIsInNsaWNlIiwiY2FsbCIsImpvaW4iXSwibWFwcGluZ3MiOiI7O0FBQUEsQ0FBQyxDQUFDLFlBQVU7QUFBQyxXQUFTQSxDQUFULENBQVdDLENBQVgsRUFBYUQsQ0FBYixFQUFlRSxDQUFmLEVBQWlCO0FBQUMsU0FBSSxJQUFJQyxDQUFKLEVBQU1DLElBQUUsQ0FBUixFQUFVQyxJQUFFTCxFQUFFTSxNQUFs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c0NvbnRlbnQiOlsiOyhmdW5jdGlvbigpe2Z1bmN0aW9uIHQobix0LHIpe2Zvcih2YXIgZSx1PTAsZj10Lmxlbmd0aDt1PGY7dSsrKWU9dFt1XSxpKG4sZSxyKX1mdW5jdGlvbiBpKG4sdCxpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkobix0LHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tcIl9cIit0XX0sc2V0OmZ1bmN0aW9uKG4pe24hPT10aGlzW1wiX1wiK3RdJiYodGhpc1tcIl9cIit0XT1uLGkoKSl9fSl9dmFyIG49ZnVuY3Rpb24obix0LGkscix1LGYsZSxvLHMsaCxjLGwsYSx2LHkscCl7dGhpcy5lbGVtZW50cz13aW5kb3cuRmxvYXQzMkFycmF5P25ldyBGbG9hdDMyQXJyYXkoMTYpOltdO3ZhciB3PXRoaXMuZWxlbWVudHM7d1swXT1uIT09dW5kZWZpbmVkP246MTt3WzRdPXR8fDA7d1s4XT1pfHwwO3dbMTJdPXJ8fDA7d1sxXT11fHwwO3dbNV09ZiE9PXVuZGVmaW5lZD9mOjE7d1s5XT1lfHwwO3dbMTNdPW98fDA7d1syXT1zfHwwO3dbNl09aHx8MDt3WzEwXT1jIT09dW5kZWZpbmVkP2M6MTt3WzE0XT1sfHwwO3dbM109YXx8MDt3WzddPXZ8fDA7d1sxMV09eXx8MDt3WzE1XT1wIT09dW5kZWZpbmVkP3A6MX07bi5ERUdfVE9fUkFEPU1hdGguUEkvMTgwO24ucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24obix0LGkscix1LGYsZSxvLHMsaCxjLGwsYSx2LHkscCl7dmFyIHc9dGhpcy5lbGVtZW50cztyZXR1cm4gd1swXT1uLHdbNF09dCx3WzhdPWksd1sxMl09cix3WzFdPXUsd1s1XT1mLHdbOV09ZSx3WzEzXT1vLHdbMl09cyx3WzZdPWgsd1sxMF09Yyx3WzE0XT1sLHdbM109YSx3WzddPXYsd1sxMV09eSx3WzE1XT1wLHRoaXN9LGlkZW50aXR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0KDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDEpLHRoaXN9LG11bHRpcGx5TWF0cmljZXM6ZnVuY3Rpb24obix0KXt2YXIgaT1uLmVsZW1lbnRzLHI9dGhpcy5lbGVtZW50cyx1PWlbMF0sZj1pWzRdLGU9aVs4XSxvPWlbMTJdLHM9aVsxXSxoPWlbNV0sYz1pWzldLGw9aVsxM10sYT1pWzJdLHY9aVs2XSx5PWlbMTBdLHA9aVsxNF0sdz1pWzNdLGI9aVs3XSxrPWlbMTFdLGQ9aVsxNV0sZz10WzBdLG50PXRbMV0sdHQ9dFsyXSxpdD10WzNdLHJ0PXRbNF0sdXQ9dFs1XSxmdD10WzZdLGV0PXRbN10sb3Q9dFs4XSxzdD10WzldLGh0PXRbMTBdLGN0PXRbMTFdLGx0PXRbMTJdLGF0PXRbMTNdLHZ0PXRbMTRdLHl0PXRbMTVdO3JldHVybiByWzBdPXUqZytmKnJ0K2Uqb3QrbypsdCxyWzRdPXUqbnQrZip1dCtlKnN0K28qYXQscls4XT11KnR0K2YqZnQrZSpodCtvKnZ0LHJbMTJdPXUqaXQrZipldCtlKmN0K28qeXQsclsxXT1zKmcraCpydCtjKm90K2wqbHQscls1XT1zKm50K2gqdXQrYypzdCtsKmF0LHJbOV09cyp0dCtoKmZ0K2MqaHQrbCp2dCxyWzEzXT1zKml0K2gqZXQrYypjdCtsKnl0LHJbMl09YSpnK3YqcnQreSpvdCtwKmx0LHJbNl09YSpudCt2KnV0K3kqc3QrcCphdCxyWzEwXT1hKnR0K3YqZnQreSpodCtwKnZ0LHJbMTRdPWEqaXQrdipldCt5KmN0K3AqeXQsclszXT13KmcrYipydCtrKm90K2QqbHQscls3XT13Km50K2IqdXQraypzdCtkKmF0LHJbMTFdPXcqdHQrYipmdCtrKmh0K2QqdnQsclsxNV09dyppdCtiKmV0K2sqY3QrZCp5dCx0aGlzfSxfcm91bmRlZDpmdW5jdGlvbihuLHQpe3JldHVybiB0PU1hdGgucG93KDEwLHR8fDE1KSxNYXRoLnJvdW5kKG4qdCkvdH0sX2FycmF5V3JhcDpmdW5jdGlvbihuKXtyZXR1cm4gd2luZG93LkZsb2F0MzJBcnJheT9uZXcgRmxvYXQzMkFycmF5KG4pOm59LGFwcGVuZFRyYW5zZm9ybTpmdW5jdGlvbih0LGkscix1LGYsZSxvLHMsaCxjLGwsYSx2LHkpe3ZhciBwPW8qbi5ERUdfVE9fUkFELHc9dGhpcy5fcm91bmRlZChNYXRoLmNvcyhwKSksYj10aGlzLl9yb3VuZGVkKE1hdGguc2luKHApKSxrPXMqbi5ERUdfVE9fUkFELGQ9dGhpcy5fcm91bmRlZChNYXRoLmNvcyhrKSksZz10aGlzLl9yb3VuZGVkKE1hdGguc2luKGspKSxudD1oKm4uREVHX1RPX1JBRCx0dD10aGlzLl9yb3VuZGVkKE1hdGguY29zKG50Ki0xKSksaXQ9dGhpcy5fcm91bmRlZChNYXRoLnNpbihudCotMSkpO3JldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXModGhpcyx0aGlzLl9hcnJheVdyYXAoWzEsMCwwLHQsMCx3LGIsaSwwLC1iLHcsciwwLDAsMCwxXSkpLHRoaXMubXVsdGlwbHlNYXRyaWNlcyh0aGlzLHRoaXMuX2FycmF5V3JhcChbZCwwLGcsMCwwLDEsMCwwLC1nLDAsZCwwLDAsMCwwLDFdKSksdGhpcy5tdWx0aXBseU1hdHJpY2VzKHRoaXMsdGhpcy5fYXJyYXlXcmFwKFt0dCp1LGl0KmYsMCwwLC1pdCp1LHR0KmYsMCwwLDAsMCwxKmUsMCwwLDAsMCwxXSkpLChjfHxsKSYmdGhpcy5tdWx0aXBseU1hdHJpY2VzKHRoaXMsdGhpcy5fYXJyYXlXcmFwKFt0aGlzLl9yb3VuZGVkKE1hdGguY29zKGMqbi5ERUdfVE9fUkFEKSksdGhpcy5fcm91bmRlZChNYXRoLnNpbihjKm4uREVHX1RPX1JBRCkpLDAsMCwtMSp0aGlzLl9yb3VuZGVkKE1hdGguc2luKGwqbi5ERUdfVE9fUkFEKSksdGhpcy5fcm91bmRlZChNYXRoLmNvcyhsKm4uREVHX1RPX1JBRCkpLDAsMCwwLDAsMSwwLDAsMCwwLDFdKSksKGF8fHZ8fHkpJiYodGhpcy5lbGVtZW50c1sxMl0tPWEqdGhpcy5lbGVtZW50c1swXSt2KnRoaXMuZWxlbWVudHNbNF0reSp0aGlzLmVsZW1lbnRzWzhdLHRoaXMuZWxlbWVudHNbMTNdLT1hKnRoaXMuZWxlbWVudHNbMV0rdip0aGlzLmVsZW1lbnRzWzVdK3kqdGhpcy5lbGVtZW50c1s5XSx0aGlzLmVsZW1lbnRzWzE0XS09YSp0aGlzLmVsZW1lbnRzWzJdK3YqdGhpcy5lbGVtZW50c1s2XSt5KnRoaXMuZWxlbWVudHNbMTBdKSx0aGlzfX07d2luZG93LlRyYW5zZm9ybT1mdW5jdGlvbihpLHIpe3QoaSxbXCJ0cmFuc2xhdGVYXCIsXCJ0cmFuc2xhdGVZXCIsXCJ0cmFuc2xhdGVaXCIsXCJzY2FsZVhcIixcInNjYWxlWVwiLFwic2NhbGVaXCIsXCJyb3RhdGVYXCIsXCJyb3RhdGVZXCIsXCJyb3RhdGVaXCIsXCJza2V3WFwiLFwic2tld1lcIixcIm9yaWdpblhcIixcIm9yaWdpbllcIixcIm9yaWdpblpcIl0sZnVuY3Rpb24oKXt2YXIgbj1pLm1hdHJpeDNELmlkZW50aXR5KCkuYXBwZW5kVHJhbnNmb3JtKGkudHJhbnNsYXRlWCxpLnRyYW5zbGF0ZVksaS50cmFuc2xhdGVaLGkuc2NhbGVYLGkuc2NhbGVZLGkuc2NhbGVaLGkucm90YXRlWCxpLnJvdGF0ZVksaS5yb3RhdGVaLGkuc2tld1gsaS5za2V3WSxpLm9yaWdpblgsaS5vcmlnaW5ZLGkub3JpZ2luWik7aS5zdHlsZS50cmFuc2Zvcm09aS5zdHlsZS5tc1RyYW5zZm9ybT1pLnN0eWxlLk9UcmFuc2Zvcm09aS5zdHlsZS5Nb3pUcmFuc2Zvcm09aS5zdHlsZS53ZWJraXRUcmFuc2Zvcm09KHI/XCJcIjpcInBlcnNwZWN0aXZlKFwiKyhpLnBlcnNwZWN0aXZlPT09dW5kZWZpbmVkPzUwMDppLnBlcnNwZWN0aXZlKStcInB4KSBcIikrXCJtYXRyaXgzZChcIitBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuLmVsZW1lbnRzKS5qb2luKFwiLFwiKStcIilcIn0pO2kubWF0cml4M0Q9bmV3IG47cnx8KHQoaSxbXCJwZXJzcGVjdGl2ZVwiXSxmdW5jdGlvbigpe2kuc3R5bGUudHJhbnNmb3JtPWkuc3R5bGUubXNUcmFuc2Zvcm09aS5zdHlsZS5PVHJhbnNmb3JtPWkuc3R5bGUuTW96VHJhbnNmb3JtPWkuc3R5bGUud2Via2l0VHJhbnNmb3JtPVwicGVyc3BlY3RpdmUoXCIraS5wZXJzcGVjdGl2ZStcInB4KSBtYXRyaXgzZChcIitBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpLm1hdHJpeDNELmVsZW1lbnRzKS5qb2luKFwiLFwiKStcIilcIn0pLGkucGVyc3BlY3RpdmU9NTAwKTtpLnNjYWxlWD1pLnNjYWxlWT1pLnNjYWxlWj0xO2kudHJhbnNsYXRlWD1pLnRyYW5zbGF0ZVk9aS50cmFuc2xhdGVaPWkucm90YXRlWD1pLnJvdGF0ZVk9aS5yb3RhdGVaPWkuc2tld1g9aS5za2V3WT1pLm9yaWdpblg9aS5vcmlnaW5ZPWkub3JpZ2luWj0wfX0pKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXBwL2pzL3RyYW5zZm9ybS5qcyJdLCJzb3VyY2VSb290IjoiIn0=');
}]);